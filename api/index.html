
<!doctype html>
<html>
  
<!-- Mirrored from bitpay.com/api/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jan 2022 14:06:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/favicon-68c721a6.ico" rel="icon" type="image/ico" />
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-cd5ea3d5.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-a6766d09.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;csharp&quot;,&quot;java&quot;,&quot;php&quot;,&quot;javascript&quot;,&quot;go&quot;,&quot;python&quot;,&quot;ruby&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-6fa5404d.svg" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="java">Java</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="javascript">Node.js</a>
              <a href="#" data-language-name="go">Go</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="ruby">Ruby</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#rest-api" class="toc-h1 toc-link" data-title="REST API">REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rest-api-overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#rest-api-concepts" class="toc-h2 toc-link" data-title="Concepts">Concepts</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-concepts-api-contracts" class="toc-h3 toc-link" data-title="Api Contracts">Api Contracts</a>
                          </li>
                          <li>
                            <a href="#rest-api-concepts-identities" class="toc-h3 toc-link" data-title="Identities">Identities</a>
                          </li>
                          <li>
                            <a href="#rest-api-concepts-environments" class="toc-h3 toc-link" data-title="Environments">Environments</a>
                          </li>
                          <li>
                            <a href="#rest-api-concepts-api-tokens" class="toc-h3 toc-link" data-title="API Tokens">API Tokens</a>
                          </li>
                          <li>
                            <a href="#rest-api-concepts-facades" class="toc-h3 toc-link" data-title="Facades">Facades</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-getting-access" class="toc-h2 toc-link" data-title="Getting Access">Getting Access</a>
                  </li>
                  <li>
                    <a href="#rest-api-making-requests" class="toc-h2 toc-link" data-title="Making Requests">Making Requests</a>
                  </li>
                  <li>
                    <a href="#rest-api-signing-your-request" class="toc-h2 toc-link" data-title="Signing your request">Signing your request</a>
                  </li>
                  <li>
                    <a href="#rest-api-cross-origin-resource-sharing" class="toc-h2 toc-link" data-title="Cross-Origin Resource Sharing">Cross-Origin Resource Sharing</a>
                  </li>
                  <li>
                    <a href="#rest-api-resources" class="toc-h2 toc-link" data-title="Resources">Resources</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-resources-tokens" class="toc-h3 toc-link" data-title="Tokens">Tokens</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-tokens-resource" class="toc-h4 toc-link" data-title="Resource">Resource</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-tokens-request-an-api-token" class="toc-h4 toc-link" data-title="Request an API token">Request an API token</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-tokens-retrieve-approved-api-tokens" class="toc-h4 toc-link" data-title="Retrieve approved API tokens">Retrieve approved API tokens</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-tokens-view-the-sin-s-linked-to-an-approved-token" class="toc-h4 toc-link" data-title="View the SIN(s) linked to an approved token">View the SIN(s) linked to an approved token</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-tokens-link-a-new-sin-to-an-approved-token" class="toc-h4 toc-link" data-title="Link a new SIN to an approved token">Link a new SIN to an approved token</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-tokens-remove-a-sin-from-an-approved-token" class="toc-h4 toc-link" data-title="Remove a SIN from an approved token">Remove a SIN from an approved token</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-invoices" class="toc-h3 toc-link" data-title="Invoices">Invoices</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-invoices-resource" class="toc-h4 toc-link" data-title="Resource">Resource</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-create-an-invoice" class="toc-h4 toc-link" data-title="Create an invoice">Create an invoice</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-retrieve-an-invoice" class="toc-h4 toc-link" data-title="Retrieve an invoice">Retrieve an invoice</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-retrieve-invoices-filtered-by-query" class="toc-h4 toc-link" data-title="Retrieve invoices filtered by query">Retrieve invoices filtered by query</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-retrieve-an-event-token" class="toc-h4 toc-link" data-title="Retrieve an event token">Retrieve an event token</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-refund-an-invoice" class="toc-h4 toc-link" data-title="Refund an invoice">Refund an invoice</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice" class="toc-h4 toc-link" data-title="Retrieve all refund requests on an invoice">Retrieve all refund requests on an invoice</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-retrieve-a-refund-request" class="toc-h4 toc-link" data-title="Retrieve a refund request">Retrieve a refund request</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-cancel-a-refund-request" class="toc-h4 toc-link" data-title="Cancel a refund request">Cancel a refund request</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-invoices-request-a-webhook-to-be-resent" class="toc-h4 toc-link" data-title="Request a webhook to be resent">Request a webhook to be resent</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-settlements" class="toc-h3 toc-link" data-title="Settlements">Settlements</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-settlements-resource" class="toc-h4 toc-link" data-title="Resource">Resource</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-settlements-retrieve-settlements" class="toc-h4 toc-link" data-title="Retrieve settlements">Retrieve settlements</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-settlements-retrieve-a-settlement" class="toc-h4 toc-link" data-title="Retrieve a settlement">Retrieve a settlement</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-settlements-fetch-a-reconciliation-report" class="toc-h4 toc-link" data-title="Fetch a reconciliation report">Fetch a reconciliation report</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-ledgers" class="toc-h3 toc-link" data-title="Ledgers">Ledgers</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-ledgers-retrieve-account-balances" class="toc-h4 toc-link" data-title="Retrieve account balances">Retrieve account balances</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-ledgers-retrieve-ledger-entries" class="toc-h4 toc-link" data-title="Retrieve ledger entries">Retrieve ledger entries</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-recipients" class="toc-h3 toc-link" data-title="Recipients">Recipients</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-recipients-resource" class="toc-h4 toc-link" data-title="Resource">Resource</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-recipients-invite-a-recipient" class="toc-h4 toc-link" data-title="Invite a Recipient">Invite a Recipient</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-recipients-retrieve-a-recipient" class="toc-h4 toc-link" data-title="Retrieve a recipient">Retrieve a recipient</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-recipients-update-a-recipient" class="toc-h4 toc-link" data-title="Update a recipient">Update a recipient</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-recipients-remove-a-recipient" class="toc-h4 toc-link" data-title="Remove a recipient">Remove a recipient</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-recipients-retrieve-recipients-by-status" class="toc-h4 toc-link" data-title="Retrieve recipients by status">Retrieve recipients by status</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-recipients-request-a-webhook-to-be-resent" class="toc-h4 toc-link" data-title="Request a webhook to be resent">Request a webhook to be resent</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-payouts" class="toc-h3 toc-link" data-title="Payouts">Payouts</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-payouts-resource" class="toc-h4 toc-link" data-title="Resource">Resource</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-payouts-create-a-payout-batch" class="toc-h4 toc-link" data-title="Create a payout batch">Create a payout batch</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-payouts-retrieve-a-payout-batch" class="toc-h4 toc-link" data-title="Retrieve a payout batch">Retrieve a payout batch</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-payouts-cancel-a-payout-batch" class="toc-h4 toc-link" data-title="Cancel a payout batch">Cancel a payout batch</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-payouts-retrieve-payout-batches-based-on-status" class="toc-h4 toc-link" data-title="Retrieve payout batches based on status">Retrieve payout batches based on status</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-bills" class="toc-h3 toc-link" data-title="Bills">Bills</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-bills-resource" class="toc-h4 toc-link" data-title="Resource">Resource</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-bills-create-a-bill" class="toc-h4 toc-link" data-title="Create a bill">Create a bill</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-bills-retrieve-a-bill" class="toc-h4 toc-link" data-title="Retrieve a bill">Retrieve a bill</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-bills-update-a-bill" class="toc-h4 toc-link" data-title="Update a bill">Update a bill</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-bills-retrieve-bills-by-status" class="toc-h4 toc-link" data-title="Retrieve bills by status">Retrieve bills by status</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-bills-deliver-a-bill-via-email" class="toc-h4 toc-link" data-title="Deliver a bill via email">Deliver a bill via email</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-subscriptions" class="toc-h3 toc-link" data-title="Subscriptions">Subscriptions</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-subscriptions-resource" class="toc-h4 toc-link" data-title="Resource">Resource</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-subscriptions-create-a-subscription" class="toc-h4 toc-link" data-title="Create a subscription">Create a subscription</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-subscriptions-retrieve-a-subscription" class="toc-h4 toc-link" data-title="Retrieve a subscription">Retrieve a subscription</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-subscriptions-update-a-subscription" class="toc-h4 toc-link" data-title="Update a subscription">Update a subscription</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-subscriptions-retrieve-subscriptions-based-on-status" class="toc-h4 toc-link" data-title="Retrieve subscriptions based on status">Retrieve subscriptions based on status</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-rates" class="toc-h3 toc-link" data-title="Rates">Rates</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency" class="toc-h4 toc-link" data-title="Retrieve all the rates for a given cryptocurrency">Retrieve all the rates for a given cryptocurrency</a>
                                  </li>
                                  <li>
                                    <a href="#rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair" class="toc-h4 toc-link" data-title="Retrieve the rates for a cryptocurrency / fiat pair">Retrieve the rates for a cryptocurrency / fiat pair</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-sessions" class="toc-h3 toc-link" data-title="Sessions">Sessions</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-sessions-creates-an-api-session" class="toc-h4 toc-link" data-title="Creates an API session">Creates an API session</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-resources-currencies" class="toc-h3 toc-link" data-title="Currencies">Currencies</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#rest-api-resources-currencies-retrieve-the-supported-currencies" class="toc-h4 toc-link" data-title="Retrieve the supported currencies">Retrieve the supported currencies</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#legder-entry-codes" class="toc-h1 toc-link" data-title="Legder entry codes">Legder entry codes</a>
          </li>
          <li>
            <a href="#notifications" class="toc-h1 toc-link" data-title="Notifications">Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#notifications-webhooks" class="toc-h2 toc-link" data-title="Webhooks">Webhooks</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#notifications-webhooks-instant-payment-notifications" class="toc-h3 toc-link" data-title="Instant Payment Notifications">Instant Payment Notifications</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#notifications-webhooks-instant-payment-notifications-handling" class="toc-h4 toc-link" data-title="Handling">Handling</a>
                                  </li>
                                  <li>
                                    <a href="#notifications-webhooks-instant-payment-notifications-invoices" class="toc-h4 toc-link" data-title="Invoices">Invoices</a>
                                  </li>
                                  <li>
                                    <a href="#notifications-webhooks-instant-payment-notifications-recipients" class="toc-h4 toc-link" data-title="Recipients">Recipients</a>
                                  </li>
                                  <li>
                                    <a href="#notifications-webhooks-instant-payment-notifications-payouts" class="toc-h4 toc-link" data-title="Payouts">Payouts</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://test.bitpay.com/dashboard/signup' target='_blank'>Sign up for a test account</a></li>
            <li><a href='../dashboard/signup.html' target='_blank'>Sign up for a production account</a></li>
            <li><a href='../docs/libraries.html' target='_blank'>Libraries & SDKs</a></li>
            <li><a href='https://status.bitpay.com/' target='_blank'>Status Page</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='rest-api'>REST API</h1><h2 id='rest-api-overview'>Overview</h2>
<p>BitPay provides a standards-based REST interface which enables application developers to interact in a powerful, yet secure way with their BitPay account. Using the BitPay API, clients can create and manage invoices, issue refunds, manage bills, retrieve real-time rates information, view merchant ledger entries, and much more.</p>

<p>Developers may call the API directly over HTTPS using the language of their choice, or take advantage of <a href="../docs/libraries.html" target="_blank">BitPay&#39;s code libraries</a> (Java, C#, PHP etc).</p>
<h2 id='rest-api-concepts'>Concepts</h2><h3 id='rest-api-concepts-api-contracts'>Api Contracts</h3>
<p>BitPay considers the following types of API changes to be non-breaking and backwards-compatible:</p>

<ul>
<li>exposing a new resource type</li>
<li>adding a new method to an existing resource type</li>
<li>adding an optional property to an existing resource type</li>
<li>adding an optional query parameter to an existing resource method</li>
<li>deprecating an existing resource method and providing an alternative</li>
</ul>
<h3 id='rest-api-concepts-identities'>Identities</h3>
<p>Authentication in BitPay&#39;s API utilizes a specialized identification scheme, <a href="https://github.com/bitpay/bitauth" target="_blank">BitAuth Identity Protocol</a>. </p>

<p>BitAuth uses the same technology in Bitcoin. A public private key pair is created using elliptic curve secp256k1. The public SIN (System identification number), like a bitcoin address, is the RIPEMD 160, SHA256 hash of the public key. See <a href="https://en.bitcoin.it/wiki/Identity_protocol_v1" target="_blank">the Bitcoin Wiki</a> for complete details:</p>

<ul>
<li>In each request, the client signs the full url with the request body concatenated if there is one. The signature is included in the <code>X-Signature</code> header and the public key is included in the <code>X-Identity</code> header.</li>
<li>The server verifies that the signature is valid and that it matches the identity (the public key). It then computes the SIN from the public key, and sees whether that SIN has access to the requested resource.</li>
</ul>

<p>For your convenience, all client libraries available on <a href="https://github.com/bitpay" target="_blank">BitPay&#39;s GitHub account</a> support this functionality.</p>
<h3 id='rest-api-concepts-environments'>Environments</h3>
<p>There are two environments available for merchants to use the following API. </p>

<p>To access these APIs, merchants need to combine the <code>base URL + endpoint</code> and make sure to have API credentials for the corresponding environments.</p>

<table class="table">
  <tbody>
    <tr>
      <th>Environment</th>
      <th>Base URL</th>
      <th>API Credentials</th>
    </tr>
    <tr>
      <td>Test
      </td>
      <td><code>https://test.bitpay.com</code>
      </td>
      <td><a href='https://test.bitpay.com/dashboard/signup' target='_blank'>test account</a>
      </td>
    </tr>
    <tr>
      <td>Production
      </td>
      <td><code>https://bitpay.com</code>
      </td>
      <td><a href='../dashboard/signup.html' target='_blank'>production account</a></code>
      </td>
    </tr>
  </tbody>
</table>

<aside class="notice">Use the <a href="../docs/testing.html" target="_blank">Test Environment</a> to implement the BitPay payment method on your website and perform end-to-end transactions with testnet coins. Once the implementation is completed, go live with the production URLs and API credentials.</aside>
<h3 id='rest-api-concepts-api-tokens'>API Tokens</h3>
<p>Authorization in BitPay&#39;s API utilizes <a href="http://en.wikipedia.org/wiki/Capability-based_security" target="_blank">Capability-based Security</a> principles. Each API call must be accompanied by an API Token which grants access to the requested capability. API Tokens are analagous to a real-world event ticket, which grants access to a specific event when presented at the door. Also like tickets, they may grant broad or narrow privileges (e.g. &#39;General Admission&#39; vs. &#39;Seat 44B&#39;) as well as add bearer requirements (e.g. &#39;Must be over 21&#39; or &#39;Non-transferrable, must show ID&#39;).</p>

<p>New tokens are provided with each response from the API. For example, creating a new Invoice with one token will provide a new, second token that grants access to view and interact with that Invoice exclusively. If not using BitPay&#39;s Client Libraries, you will need to keep track of these tokens on your own.</p>
<h3 id='rest-api-concepts-facades'>Facades</h3>
<p>Facades named collections of capabilities that can be granted, such as the ability to create invoices or grant refunds. In the ticket analogy, this corresponds to the ticket &#39;level&#39;, where a &#39;VIP&#39; ticket would confer broader access than a &#39;Standard&#39; level ticket. When registering an Identity, it is against a specific facade. Best practices suggest that the requested facade should be limited to the minimum level that grants the required capabilities.</p>

<table class="table">
  <tbody>
    <tr>
      <th>Facade</th>
      <th>Capabilities Description</th>
    </tr>
    <tr>
      <td><code>public</code>
      </td>
      <td>The implicit facade applied when no token is provided. Provides access to public methods for generating merchant applications, generating and claiming tokens, or checking exchange rates.
      </td>
    </tr>
    <tr>
      <td><code>pos</code>
      </td>
      <td>Limited to creating new invoice or bills and search specific invoices or bills based on their id for the merchant's organization
      </td>
    </tr>
    <tr>
      <td><code>merchant</code>
      </td>
      <td>The broadest set of capabilities against a merchant organization. Allows for create, search, and view actions for Invoices and Bills; ledger download, as well as the creation of new merchant or pos tokens associated with the account.
      </td>
    </tr>
    <tr>
      <td><code>payroll</code>
      </td>
      <td>This is the facade which allows merchant to access the <code>/payouts</code> resource and the corresponding endpoints. Access to this facade is not enabled by default, for more information please contact our <a href="../request-help/wizard.html" target="_blank">support channel</a>.
      </td>
    </tr>
  </tbody>
</table>
<h2 id='rest-api-getting-access'>Getting Access</h2>
<p>To use any non-public facade a token will need to be sent with the API request. Tokens can require authentication, which would requiring cryptographically signing each request. You can either generate a token directly from an API client or via the My Account -&gt; API Tokens page. To receive a token directly from an API client, send a POST request to bitpay.com/tokens with the following query parameters:</p>

<ul>
<li><code>label</code> (e.g. <em>My BitPay Client</em>)</li>
<li><code>id</code> (e.g. <em>TfALHhgU5duM4PAtFWgNqNgYZkLhfwnf2Tj</em>)</li>
<li><code>facade</code> (e.g. merchant)</li>
</ul>

<p>This will respond with a new token that will include a <code>pairingCode</code>. This pairing code can then be shared with a merchant organization administrator to approve access. This can be done by visiting My Account -&gt; API Tokens and entering the pairing code, or by visiting the url format: <code>bitpay.com/api-access-request?pairingCode=&lt;pairingcode_goes_here&gt;</code>.</p>

<p>Alternatively, pairing codes can be generated directly at My Account -&gt; API Tokens, and can then be claimed by API clients which associates a Client ID with the token, and will activate it for further usage. To claim a token from an API client, send a POST request to bitpay.com/tokens with the following parameters:</p>

<ul>
<li><code>label</code> (e.g. <em>My BitPay Client</em>)</li>
<li><code>id</code> (e.g. <em>TfALHhgU5duM4PAtFWgNqNgYZkLhfwnf2Tj</em>)</li>
<li><code>pairingCode</code> (e.g. <em>As retrieved from My Account -&gt; API Tokens</em>)</li>
</ul>

<p>A token without a Client ID authentication restriction can be made, and a token can then be copied directly to make API calls, such as creating invoices. </p>

<aside class="notice">It is also important to note that pairing codes will expire after 24 hours, however once a token is approved or claimed the expiration is cleared. </aside>
<h2 id='rest-api-making-requests'>Making Requests</h2>
<p>Requests to the BitPay REST API follow a <a href="http://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank">RESTful convention</a> using standard <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html" target="_blank">HTTP verbs</a> against various BitPay resources to return JSON formatted responses. Once again the mechanics of this exchange may be simplified through the use of one of the BitPay libraries.</p>

<p>Each request should include in the HTTP headers:</p>

<ul>
<li><code>Content-Type: application/json</code></li>
<li><code>X-Accept-Version: 2.0.0</code></li>
<li><code>X-Identity</code>: the hexadecimal public key generated from the client private key. Required depending on the type of API token being used.</li>
<li><code>X-Signature</code>: header which is cryptographically computed as described below. Required depending on the type of API token being used.</li>
</ul>

<p>To make an API request send an HTTP request with a HTTP method to a resource URI and include in the body JSON parameters of the following (plus any additional parameters needed):</p>

<ul>
<li><code>token</code>(obtained during client registration process above)</li>
<li><code>guid</code>(an optional parameter to enforce idempotence for POST requests)</li>
</ul>

<p>For more information about specific resource URIs, please visit the resource documentation.</p>
<h2 id='rest-api-signing-your-request'>Signing your request</h2>
<p>The <code>X-Signature</code> HTTP header is the <a href="https://en.bitcoin.it/wiki/Elliptic_Curve_Digital_Signature_Algorithm" target="_blank">ECDSA signature</a> of the full request URL concatenated with the request body, signed with your private key. So if you are sending a request to: </p>

<table class="table">
  <tbody>
    <tr>
      <th><code>https://bitpay.com/invoices</code>
      </th>
    </tr>
  </tbody>
</table>

<p>And your request body is:</p>

<table class="table">
  <tbody>
    <tr>
      <th><code>{"price":500,"currency":"USD","token":"GcAUe7hgY3F2FSh95Dsy5d"}</code>
      </th>
    </tr>
  </tbody>
</table>

<p>The string you will sign is: </p>

<table class="table">
  <tbody>
    <tr>
      <th><code>https://bitpay.com/invoices{"price":500,"currency":"USD","token":"GcAUe7hgY3F2FSh95Dsy5d"}</code>
      </th>
    </tr>
  </tbody>
</table>

<p>The result should be included as the value of the <code>X-Signature</code> request header. </p>
<h2 id='rest-api-cross-origin-resource-sharing'>Cross-Origin Resource Sharing</h2>
<p>The BitPay REST API supports <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing" target="_blank">CORS</a>, so that you may send requests directly from the client, however <strong>remember to never expose your private key</strong>. If your key becomes compromised, you will want to disable your old Client ID and register a new one. </p>
<h2 id='rest-api-resources'>Resources</h2><h3 id='rest-api-resources-tokens'>Tokens</h3><h4 id='rest-api-resources-tokens-resource'>Resource</h4>
<p>Tokens are API access identifiers which are associated with a set of capabilities. A capability may be very broad, for example, retrieve the list of all exchange rates. Or a capability may be very specific, for example, refund invoice <em>RhHwkycGaDskrEhGfXWnRG</em>.</p>

<table class="table">
  <tbody>
    <tr>
      <th rowspan="2">Name</th>
      <th rowspan="2">Type</th>
      <th colspan="2">returned via facade</th>
    </tr>
    <tr>
      <td class="facade public">public</td>
      <td class="facade merchant">merchant</td>
    </tr>
    <tr>
      <td>
        <code>data</code>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>policies</code>
      </td>
      <td>
        <code>object</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>policy</code>
        <div class="param-info">Can be "sin", "access", "events", "id", or "session"</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>method</code>
        <div class="param-info">Can be "requireSin", "requireFacadeAccess", "allowEventStream", "invalidated", "inactive", "unclaimed", "requireSession"</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>params</code>
        <div class="param-info">Can be "support", SIN value, or null</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>resource</code>
        <div class="param-info">Token identifier. This field can be ignored in merchant implementations.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade public">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token for token resource</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>facade</code>
        <div class="param-info">Can be "merchant", "pos" or "payroll"</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dateCreated</code>
        <div class="param-info">UNIX time of creation, in milliseconds</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>pairingExpiration</code>
        <div class="param-info">UNIX time of expiration, in milliseconds</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>pairingCode</code>
        <div class="param-info">Access approval code. To be validated via the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> in order to activate the token returned in the same payload.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade public">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-tokens-request-an-api-token'>Request an API token</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/tokens</h6>
    </div>
</div>

<aside class="notice">For e-commerce implementation, we advise merchants to generate a standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (make sure <code>"Require Authentication"</code> is disabled) and use the below endpoint only to request higher privilege tokens (typically <code>merchant</code> facade). Merchants only need to use this endpoint once, depending on the number of facades they want to have access to.</aside>
<h5 id='rest-api-resources-tokens-request-an-api-token-facades'>Facades</h5>
<p><span class="scope">public </span>
<span class="scope">merchant </span></p>
<h5 id='rest-api-resources-tokens-request-an-api-token-http-request'>HTTP Request</h5>
<blockquote>
<p>via the public facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/tokens"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"id":"Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW",
"label": "merchantwebsite.com",
"facade":"merchant"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                  <span class="s">"\"id\": \"Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW\","</span> <span class="p">+</span>
                  <span class="s">"\"label\": \"merchantwebsite.com\","</span> <span class="p">+</span>
                  <span class="s">"\"facade\": \"merchant\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
               <span class="s">"\"id\": \"Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW\","</span> <span class="o">+</span>
               <span class="s">"\"label\": \"merchantwebsite.com\","</span> <span class="o">+</span>
               <span class="s">"\"facade\": \"merchant\""</span> <span class="o">+</span>
           <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/tokens'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="s1">'Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW'</span><span class="p">,</span>
   <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'merchantwebsite.com'</span><span class="p">,</span>
   <span class="s1">'facade'</span> <span class="o">=&gt;</span> <span class="s1">'merchant'</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/tokens</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">merchantwebsite.com</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">facade</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">merchant</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/tokens"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "id": "Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW",
   "label": "merchantwebsite.com",
   "facade": "merchant"
 }`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/tokens'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'id'</span><span class="p">:</span> <span class="s">'Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW'</span><span class="p">,</span>
   <span class="s">'label'</span><span class="p">:</span> <span class="s">'merchantwebsite.com'</span><span class="p">,</span>
   <span class="s">'facade'</span><span class="p">:</span> <span class="s">'merchant'</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/tokens"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
 <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW"</span><span class="p">,</span>
 <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"merchantwebsite.com"</span><span class="p">,</span>
 <span class="s2">"facade"</span><span class="p">:</span> <span class="s2">"merchant"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-tokens-request-an-api-token-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is optional for this endpoint when using the public facade, and required when using a <code>merchant</code> facade token.</div>
      </td>
      <td class="conditional">
        C
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is optional for this endpoint when using the public facade, and required when using a <code>merchant</code> facade token.</div>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-tokens-request-an-api-token-http-request-body'>Body</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>id</code>
        <div class="param-info">Client identity based on BitAuth identity protocol, also known as SIN (System Identification Number)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>facade</code>
        <div class="param-info">Can be <code>merchant</code>, <code>pos</code> or <code>payroll</code>. If passed in the body of the request together with the <code>id</code> parameter, leave the <code>pairingCode</code> parameter out.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
    <tr>
      <td>
        <code>label</code>
        <div class="param-info">Token label, may include spaces, underscores, and dashes. BitPay invites the merchants to pass their Business Name or website in this field.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>pairingCode</code>
        <div class="param-info">Access approval code:
          <p>
            <ul>
              <li><b>Client Initiated Pairing</b>: If you do not pass a pairing code in the body of the request, you need to send the <code>id</code> and <code>facade</code> parameters. This will allow you to request API tokens with higher privileges (<code>merchant</code>, or <code>payroll</code> facades) </li>
              <li><b>Server Initiated Pairing</b>: If you pass a pairing code in the body of the request, leave the <code>facade</code> parameter out. The pairing code which can be generated from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> enabled) only allows you to request a <code>pos</code> facade token with authentication, meaning it will be necessary to cryptographically sign every request using this token, just like the other facades with higher privileges.</li>
           </ul>
          </p>
        </div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-tokens-request-an-api-token-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"policies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"policy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G7XM9fcM1gtCN7DUr8ZWtPGVFLTKiYWanHR4kvqsnjP3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchantwebsite.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1621340364865</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pairingExpiration"</span><span class="p">:</span><span class="w"> </span><span class="mi">1621426764865</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pairingCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C4Lg7oW"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the token object returned in the response you will get from the BitPay server. A description of each field is available in the Tokens <a href="#rest-api-resources-tokens-resource">resource</a> section.</p>
<h4 id='rest-api-resources-tokens-retrieve-approved-api-tokens'>Retrieve approved API tokens</h4>
<p>This endpoint allows you to list the tokens approved for a given SIN/Private key</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/tokens</h6>
    </div>
</div>

<aside class="notice">Merchants need to save the API tokens generated with the <code>POST /tokens</code> and not have an automatic call to this endpoint to retrieve approved API tokens prior to other calls, like creating an invoice.</aside>
<h5 id='rest-api-resources-tokens-retrieve-approved-api-tokens-http-request'>HTTP Request</h5><h6 id='rest-api-resources-tokens-retrieve-approved-api-tokens-http-request-headers'>Headers</h6>
<p>The SIN is not explicitly used in the request. The public key from which a SIN is derived via a hash function is used in the request header, via the <code>X-Identity</code> parameter.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/tokens"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/tokens'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/tokens</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/tokens"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/tokens'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/tokens"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"03ca54352337e692bfcdad4ff6b166eeea56d53e74f35f040c61657899c26dfc88"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304402201ccf3c4e9214b158719193e27901765380f2b6f20857fd7a358f8fb585b3bdb902205781181a1f4c62f5c99e7da5ab20426072c06753dfa1a7815beba40f3effe0bb"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div>
<table class="table">
  <tbody>
    <tr>
      <th>Fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">Header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-tokens-retrieve-approved-api-tokens-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"payroll"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">array of JSON objects listing the various tokens approved per facade, for the queried SIN.</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-tokens-view-the-sin-s-linked-to-an-approved-token'>View the SIN(s) linked to an approved token</h4>
<p>This endpoint allows you to retrieve the SIN(s) linked to a merchant or payroll API token.</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/tokens/:token/sins</h6>
    </div>
</div>
<h5 id='rest-api-resources-tokens-view-the-sin-s-linked-to-an-approved-token-http-request'>HTTP Request</h5><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/tokens/MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY/sins"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span> <span class="s">"/sins"</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">"/sins"</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/tokens'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span> <span class="s1">'/sins'</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/tokens</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/sins</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/tokens"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">"/sins"</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/tokens'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">'/sins'</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/tokens"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3046022100b045fd40a2ba1824f5530d41f694c2aab68e340317e43732fc69375affa23a86022100d12127b7601492a9938fc702ae48e14a1d7b55f80ab36b884152064a3979ffc7"</span>
<span class="p">}</span>

<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s2">"/sins"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-tokens-view-the-sin-s-linked-to-an-approved-token-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">Approved API token for which you would like to view the linked SIN(s).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-tokens-view-the-sin-s-linked-to-an-approved-token-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">Header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-tokens-view-the-sin-s-linked-to-an-approved-token-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Tf2yXsY49iFyDfxt3b2kf9VPRMwPxxAyCRW"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-tokens-view-the-sin-s-linked-to-an-approved-token-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>sins</code>
        <div class="param-info">Array containing the sins linked to the token used in the query.</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-tokens-link-a-new-sin-to-an-approved-token'>Link a new SIN to an approved token</h4>
<p>This endpoint allows to link a new SIN (thus new key pair) to an existing approved API token.</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/tokens/:token/sins</h6>
    </div>
</div>
<h5 id='rest-api-resources-tokens-link-a-new-sin-to-an-approved-token-http-request'>HTTP Request</h5><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/tokens/MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY/sins"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"sin":"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span> <span class="s">"/sins"</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                  <span class="s">"\"id\": \"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d\","</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
               <span class="s">"\"sin\": \"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d\","</span> <span class="o">+</span>
           <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">"/sins"</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/tokens'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'sin'</span> <span class="o">=&gt;</span> <span class="s1">'Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d'</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span> <span class="s1">'/sins'</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/tokens</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">sin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/sins</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/tokens"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "sin": "Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"
 }`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">"/sins"</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/tokens'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'sin'</span><span class="p">:</span> <span class="s">'Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d'</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">'/sins'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span>
                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/tokens"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
 <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100903098ac2620dddd1d3f3e11ba9870c971b99b8b82443b2438b89d5856a3c58602203b0ce862791baea13f4ac4bd7d9cd2f9fd61f7d641d24acd94d297d0af59c702"</span>
<span class="p">}</span>

<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s2">"/sins"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-tokens-link-a-new-sin-to-an-approved-token-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">Approved API token for which you would like to link a new SIN.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-tokens-link-a-new-sin-to-an-approved-token-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">Header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-tokens-link-a-new-sin-to-an-approved-token-http-request-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>sin</code>
        <div class="param-info">SIN value</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-tokens-link-a-new-sin-to-an-approved-token-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-tokens-link-a-new-sin-to-an-approved-token-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>success</code>
        <div class="param-info">set to <code>true</code> once the new SIN is successfully link to the approved token </div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-tokens-remove-a-sin-from-an-approved-token'>Remove a SIN from an approved token</h4>
<p>This endpoint allows you to unlink a SIN (SIN1) from an approved API token, as long as another SIN (SIN2) has first been linked to this same token. Once executed, the private key corresponding to SIN1 removed cannot be used anymore in combination with the approved API token.</p>

<p>If you intend to remove SIN1 from a given token, this request would need to be authenticated using the public key pair corresponding to SIN2.</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">DELETE</i>
        <h6>https://bitpay.com/tokens/:token/sins/:sin</h6>
    </div>
</div>
<h5 id='rest-api-resources-tokens-remove-a-sin-from-an-approved-token-http-request'>HTTP Request</h5><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> DELETE <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/tokens/MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY/sins/Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">sin</span> <span class="p">=</span> <span class="s">"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span> <span class="s">"/sins"</span> <span class="p">+</span> <span class="n">sin</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"DELETE"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/tokens"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">sin</span> <span class="o">=</span> <span class="s">"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">"/sins"</span> <span class="o">+</span> <span class="n">sin</span><span class="o">))</span>
   <span class="o">.</span><span class="na">DELETE</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/tokens'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>
<span class="nv">$sin</span> <span class="o">=</span> <span class="s1">'Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span> <span class="s1">'/sins/'</span> <span class="mf">.</span> <span class="nv">$sin</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'DELETE'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/tokens</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">sin</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/sins/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">sin</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/tokens"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">sin</span> <span class="o">:=</span> <span class="s">"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">"/sins/"</span> <span class="o">+</span> <span class="n">sin</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/tokens'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">sin</span> <span class="o">=</span> <span class="s">'Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">'/sins/'</span> <span class="o">+</span> <span class="n">sin</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/tokens"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">sin</span> <span class="o">=</span> <span class="s2">"Tf611u2bBZBe1GBEuUwxEaU2ia3oxFU9w7d"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304402202bbce7daee2fff53232c36c475adb6a1612d48814196351dfbd5563a6092c9c602206bfa8a8cc718e32e9655caddf21e4edf61e46c21943e9bb51c1ed0421deeb768"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s2">"/sins/"</span> <span class="o">+</span> <span class="n">sin</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-tokens-remove-a-sin-from-an-approved-token-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">Approved API token from which you would like to unlink a SIN.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>sin</code>
        <div class="param-info">SIN to be unlinked.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-tokens-remove-a-sin-from-an-approved-token-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">Header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key.</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-tokens-remove-a-sin-from-an-approved-token-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-tokens-remove-a-sin-from-an-approved-token-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>success</code>
        <div class="param-info">set to <code>true</code> once the SIN is successfully unlinked from the approved token </div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-invoices'>Invoices</h3><h4 id='rest-api-resources-invoices-resource'>Resource</h4>
<blockquote>
<p>Example of invoice resource (fetched using the merchant facade)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"itemDesc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Item 12ad212"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210510_fghij"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620669854224</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620670754224</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620747087868</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
        </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"receivedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T18:05:12.472Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0bdcb930b91d63eb10ec11e27a060d4dd25380d229c4b28a29a1456e0aa60128"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.3300000000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024940318948696607</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1173.3</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3433223013888689</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.3300000000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.3300000000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.3300000000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.3300000000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">951.2727418342967</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2956.4034562622046</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1424.021324402874</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02496629892086482</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"outputIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"redirectURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://merchantwebsite.com/shop/return"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"refundAddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bitcoincash:qr0fwvhrj0x803cmuyell55wqzpg6432euethcdp9z"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buyerSupplied"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T08:59:55.146Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerProvidedInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitpay"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2406000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">6668704</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2077327700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29800</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2406000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">6668704</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2077327700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"paymentDisplayTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000298"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007007"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002406"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.668704"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.773277"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000175"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000175"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007007"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002406"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.668704"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.773277"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000175"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">47077.319565</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.966599499063804</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.755531957178825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38003.14441595195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">118682.55849585062</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">57120.83386098427</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0001084497591646</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1173.9677250000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024936271286002874</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3431833281634361</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">948.1309499292485</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2960.981483402489</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.0934048139654</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02495145570387066</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3418.000145000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07262515738127348</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.904033102311154</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2761.365509177756</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">8623.652821576765</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">4150.4855164823275</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0726693809431983</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2359324250000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002620036527481575</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010476635203867759</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003605803149549498</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.111082468879668</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4973356412678729</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000026216319436127937</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3960573976857</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000008410925256868251</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003363243020428695</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00011575464869947028</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.31980156383904546</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4806794879021982</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000084160469128805</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8239520747519998</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001749796710395044</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006996842075846071</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024081429488613</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6653105422947376</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0777427385892113</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017508622122950502</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">47021.18667566999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985716437296819</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.92948467149204</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.74275793579228</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">37967.85294332578</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">118572.34439834024</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">57067.78882022329</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"minerFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mf">83.751</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">12300</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shopper"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeFc5a7hUwmrEnYwVPmrkp"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"paymentCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ripple:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"RIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dogecoin:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/Hpqc63wvE1ZjzeeH4kEycF"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Invoices are time-sensitive payment requests addressed to specific buyers. An invoice has a fixed price, typically denominated in fiat currency. It also has an equivalent price in the supported cryptocurrencies, calculated by BitPay, at a locked exchange rate with an expiration time of 15 minutes. </p>

<table class="table">
     <tbody>
     <tr>
        <th rowspan="2">Name</th>
        <th rowspan="2">Type</th>
        <th colspan="3">returned via facade</th>
     </tr>
     <tr>
        <td class="facade pos">pos</td>
        <td class="facade merchant">merchant</td>
     </tr>
     <tr>
        <td>
          <code>facade</code>
          <div class="param-info">This field indicates the facade from which the invoice is being requested:
          <p>
             <ul>
                <li><code>"pos/invoice"</code> if the <code>pos</code> facade is used to request an invoice resource</li>
                <li><code>"merchant/invoice"</code> if the <code>merchant</code> facade is used to request an invoice resource</li>
             </ul>
          </p>
        </div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td>
          <code>data</code>
          <div class="param-info">Invoice data object. The following fields from the initial POST request will be passed in the response from the server, in addition to some other fields listed in this section
          </div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>url</code>
          <div class="param-info">Web address of invoice, expires at <code>expirationTime</code></div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>posData</code>
          <div class="param-info">A passthru variable provided by the merchant and designed to be used by the merchant to correlate the invoice with an order or other object in their system. This passthru variable can be a serialized object, e.g.: <code>"posData": "\"{ \"ref\" : 711454, \"item\" : \"test_item\" }\""</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>status</code>
          <div class="param-info">
             <p><aside class="notice">Detailed information about invoice status notifications can be found under the <a href="#notifications-webhooks-instant-payment-notifications-handling">Instant Payment Notification (IPN)</a> section.</aside>
             </p>  
             <p> Invoice status can have the following values:
                <ul>
                  <li><code>"new"</code>: An invoice starts in this state. When in this state and only in this state, payments broadcasted by purchasers will be applied to the invoice (there is a 15 minute window for the purchaser to send a payment from their crypto wallet). If an invoice has received a partial payment, it will still reflect a status of new to the merchant. From a merchant system perspective, an invoice is either paid or not paid, partial payments are automatically refunded by BitPay to the consumer.</li>
                  <li><code>"paid"</code> As soon as payment is received it is evaluated against the invoice requested amount. If the amount paid is equal to or greater than the amount expected then the invoice is marked as being paid. To detect whether the invoice has been overpaid consult the invoice exception status (<code>exceptionStatus</code> parameter). The overpaid amount on an invoice is automatically refunded by BitPay to the consumer.</li>
                  <li><code>"confirmed"</code>: This status can be used by merchants in order to fulfill orders placed by the consumer. Merchants can configure the timing at which BitPay sets this specific invoice status, depending on the number of confirmation achieved by the consumer's transaction in the selected cryptocurrency. This can be configured during invoice creation using the <code>"transactionSpeed"</code> parameter (section <a href="#rest-api-resources-invoices-create-an-invoice">Create an invoice</a>), or at account level via a <a href="https://test.bitpay.com/dashboard/settings/edit/order" target="_blank">dashboard setting</a>.</li>
                  <li><code>"complete"</code>: When an invoice has the status complete, it means that BitPay has credited the merchant account, in the currency indicated in the <a href="https://test.bitpay.com/dashboard/settings/settlement" target="_blank">settlement settings</a>. For instance, with invoices paid in Bitcoin (BTC), 6 confirmation blocks on the bitcoin network are required for an invoice to be complete, this takes on average 1 hour.</li>
                  <li><code>"expired"</code>: An invoice reaches the expired status if no payment was received and the 15 minute payment window has elapsed.</li>
                  <li><code>"invalid"</code> An invoice is considered invalid when it was paid, but the corresponding cryptocurrency transaction was not confirmed within 1 hour on the corresponding blockchain. It is possible that some transactions can take longer than 1 hour to be included in a block. If the transaction confirms after 1 hour, BitPay will update the invoice state from <code>"invalid"</code> to <code>"complete"</code> (6 confirmations for transactions on the bitcoin network for instance).</li>
                </ul>
             </p>
          </div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>price</code>
          <div class="param-info">Fixed price amount for the checkout, in the <code>"currency"</code> of the invoice object.</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>currency</code>
          <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field, supported currencies are available via the <a href="#rest-api-resources-currencies">Currencies resource</a></div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>itemDesc</code>
          <div class="param-info">Invoice description - will be added as a line item on the BitPay checkout page, under the merchant name.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>orderId</code>
          <div class="param-info">Can be used by the merchant to assign their own internal Id to an invoice. If used, there should be a direct match between an <code>orderId</code> and an invoice <code>id</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>invoiceTime</code>
          <div class="param-info">UNIX time of invoice creation, in milliseconds</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>expirationTime</code>
          <div class="param-info">UNIX time when invoice is last available to be paid, in milliseconds</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>currentTime</code>
          <div class="param-info">UNIX time of API call, in milliseconds</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>id</code>
          <div class="param-info">Invoice resource id</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>lowFeeDetected</code>
          <div class="param-info">Flag to indicate if the miner fee used by the buyer is too low. Initially set to <code>false</code> when the invoice is created.</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>amountPaid</code>
          <div class="param-info">Initially set to <code>0</code> when creating the invoice. It will be updated with the total amount paid to the invoice, indicated in the smallest possible unit for the corresponding <code>transactionCurrency</code>
          </div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>displayAmountPaid</code>
          <div class="param-info">Initially set to <code>"0"</code> when creating the invoice. It will be updated with the total amount paid to the invoice indicated in the base unit for the corresponding <code>transactionCurrency</code></div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>exceptionStatus</code>
          <div class="param-info">Initially a boolean <code>false</code>, this parameter will indicate if the purchaser sent too much ("paidOver") or not enough funds ("paidPartial") in the transaction to pay the BitPay invoice. Possible values are:
          <p>
             <ul>
                <li><code>false</code>: default value (boolean) unless an exception is triggered.</li>
                <li><code>"paidPartial"</code>: (string) if the consumer did not send enough funds when paying the invoice.</li>
                <li><code>"paidOver"</code>: (string) if the consumer sent to much funds when paying the invoice.</li>
             </ul>
          </p>
        </div>
        </td>
        <td>
          <code>boolean | string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>targetConfirmations</code>
          <div class="param-info">Indicates the number of block confirmation of the crypto currency transaction which are required to credit a paid invoice to the merchant accoun. Currently the value set is set to <code>6</code> by default for BTC/BCH/XRP, <code>40</code> for DOGE and <code>50</code> for ETH/GUSD/PAX/USDC/BUSD/DAI/WBTC</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>transactions</code>
          <div class="param-info">Initially empty when the invoice is created. This array will be populated with the crypto currency transaction hashes linked to the invoice. For instance the consumer's transaction hash if the invoice is paid, but also the refund transaction hash if the merchant decide to issue a refund to the purchaser</div>
        </td>
        <td>
          <code>array</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>buyer</code>
          <div class="param-info">Allows merchant to pass buyer related information in the invoice object</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>name</code>
          <div class="param-info">Buyer's name</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>address1</code>
          <div class="param-info">Buyer's address</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>address2</code>
          <div class="param-info">Buyer's appartment or suite number</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>locality</code>
          <div class="param-info">Buyer's city or locality</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>region</code>
          <div class="param-info">Buyer's state or province</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>postalCode</code>
          <div class="param-info">Buyer's Zip or Postal Code</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>country</code>
          <div class="param-info">Buyer's Country code. Format ISO 3166-1 alpha-2</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>email</code>
          <div class="param-info">Buyer's email address. If provided during invoice creation, this will bypass the email prompt for the consumer when opening the invoice.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>phone</code>
          <div class="param-info">Buyer's phone number</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>notify</code>
          <div class="param-info">Indicates whether a BitPay email confirmation should be sent to the buyer once he has paid the invoice</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
   <tr>
    <td class="child">
      <code>redirectURL</code>
      <div class="param-info">The shopper will be redirected to this URL when clicking on the <b>Return</b> button after a successful payment or when clicking on the <b>Close</b> button if a separate <code>closeURL</code> is not specified. Be sure to include "http://" or "https://" in the url.</div>
    </td>
    <td>
      <code>string</code>
    </td>
    <td class="facade pos">
      ✓
    </td>
    <td class="facade merchant">
      ✓
    </td>
   </tr>
   <tr>
    <td class="child">
      <code>closeURL</code>
      <div class="param-info">URL to redirect if the shopper does not pay the invoice and click on the <b>Close</b> button instead. Be sure to include "http://" or "https://" in the url.</div>
    </td>
    <td>
      <code>string</code>
    </td>
    <td class="facade pos">
      ✓
    </td>
    <td class="facade merchant">
      ✓
    </td>
   </tr>
   <tr>
    <td class="child">
      <code>autoRedirect</code>
      <div class="param-info"><p>Set to <code>false</code> by default, merchant can setup automatic redirect to their website by setting this parameter to <code>true</code>. This will applied to the following scenarios:
        <ul>
          <li>When the invoice is paid, it automatically redirects the shopper to the <code>redirectURL</code> indicated</li>
          <li>When the invoice expires, it automatically redirects the shopper to the <code>closeURL</code> if specified and to the <code>redirectURL</code> otherwise</li>
        </ul>
      </p>
      <p><b>Note</b>: If automatic redirect is enabled, <code>redirectURL</code> becomes a mandatory invoice parameters.</p>
      </div>
    </td>
    <td>
      <code>boolean</code>
    </td>
    <td class="facade pos">
      ✓
    </td>
    <td class="facade merchant">
      ✓
    </td>
   </tr>
     <tr>
        <td class="child">
          <code>refundAddresses</code>
          <div class="param-info">Initially empty when the invoice is created. This field will be populated with the refund address provided by the customer if you request a refund of the specific invoice.</div>
        </td>
        <td>
          <code>array</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>refundAddressRequestPending</code>
          <div class="param-info">Initially set to <code>false</code> when the invoice is created, this field will be set to <code>true</code> once a refund request has been issued by the merchant. This flag is here to indicate that the refund request is pending action from the buyer to provide an address for the refund, via the secure link which has been automatically emailed to him</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>buyerProvidedEmail</code>
          <div class="param-info">Populated with the buyer's email address if passed in the <code>buyer</code> object by the merchant, otherwise this field is not returned for newly created invoices. If the merchant does not pass the buyer email in the invoice request, the bitpay invoice UI will prompt the user to enter his email address and this field will be populated with the email submitted.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>buyerProvidedInfo</code>
          <div class="param-info">Information collected from the buyer during the process of paying an invoice. Initially this object is empty.</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>name</code>
          <div class="param-info">Populated with the buyer's name address if passed in the <code>buyer</code> object by the merchant</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>phoneNumber</code>
          <div class="param-info">Populated with the buyer's phone number if passed in the <code>buyer</code> object by the merchant</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>selectedWallet</code>
          <div class="param-info">This field contains the name of the cryptocurrency wallet selected by the shopper to complete the payment.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>selectedTransactionCurrency</code>
          <div class="param-info">This field will be populated with the cryptocurrency selected to pay the BitPay invoice, current supported values are <code>"BTC"</code>, <code>"BCH"</code>, <code>"ETH"</code>, <code>"GUSD"</code>, <code>"PAX"</code>, <code>"BUSD"</code>, <code>"USDC"</code>, <code>"XRP"</code>, <code>"DOGE"</code>, <code>"DAI"</code> and <code>"WBTC"</code>. If not yet selected, this field will not be returned.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>emailAddress</code>
          <div class="param-info">populated with the buyer's email address if passed in the <code>buyer</code> object, otherwise this field is not returned in the response.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>paymentSubtotals</code>
          <div class="param-info">For internal use. This field can be ignored in merchant implementations.</div>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>paymentTotals</code>
          <div class="param-info">For internal use - This field can be ignored in merchant implementations.</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>paymentDisplayTotals</code>
          <div class="param-info">The total amount that the purchaser should pay as displayed on the invoice UI. This is like <code>paymentDisplaySubTotals</code> but with the <code>minerFees</code> included. The key is the currency and the value is an amount indicated in the base unit for each supported <code>transactionCurrency</code>.</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>paymentDisplaySubTotals</code>
          <div class="param-info">Equivalent to price for each supported <code>transactionCurrency</code>, excluding <code>minerFees</code>. The key is the currency and the value is an amount indicated in the base unit for each supported <code>transactionCurrency</code>.</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>exchangeRates</code>
          <div class="param-info">Exchange rates keyed by source and target currencies.</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>minerFees</code>
          <div class="param-info">The total amount of fees that the purchaser will pay to cover BitPay's UTXO sweep cost for an invoice. The key is the currency and the value is an amount in satoshis. This is referenced as "Network Cost" on an invoice, see <a href="https://support.bitpay.com/hc/en-us/articles/115002990803-What-is-the-Network-Cost-fee-on-BitPay-invoices-and-why-is-BitPay-charging-it-" target="_blank">this support article</a> for more information</div> 
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>nonPayProPaymentReceived</code>
          <div class="param-info">This boolean will be available on an invoice object once an invoice is paid and indicate if the transaction was made with a wallet using the payment protocol (<code>true</code>) or peer to peer (<code>false</code>).</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>shopper</code>
          <div class="param-info">This object will be available on the invoice if a shopper signs in on an invoice using his BitPay ID. See the following <a href="https://blog.bitpay.com/bitpay-dashboard-id/" target="_blank">blogpost</a> for more information.</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>user</code>
          <div class="param-info">If a shopper signs in on the invoice using his BitPay ID, this field will contain the unique ID assigned by BitPay to this shopper.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>billId</code>
          <div class="param-info">This field will be in the invoice object only if the invoice was generated from a bill, see the <a href="#rest-api-resources-bills">Bills</a> resource for more information</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>refundInfo</code>
          <div class="param-info">For a refunded invoice, this object will contain the details of executed refunds for the corresponding invoice.</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>supportRequest</code>
          <div class="param-info">For a refunded invoice, this field will contain the refund <code>requestId</code> once executed.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>currency</code>
          <div class="param-info">For a refunded invoice, this field will contain the base currency selected for the refund. Typically the same as the invoice <code>currency</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>amounts</code>
          <div class="param-info">For a refunded invoice, this object will contain the crypto currency amount refunded by BitPay to the consumer (in the selected <code>transactionCurrency</code>) and the equivalent refunded amount from the invoice in the given <code>currency</code> (thus linked to the amount debited from the merchant account to cover the refund)</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>jsonPayProRequired</code>
          <div class="param-info">Boolean set to <code>false</code> by default. If set to <code>true</code>, this means that the invoice will only accept payments from wallets which have implemented the <a href="../docs/payment-protocol.html" target="_blank">BitPay JSON Payment Protocol</a></div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>transactionCurrency</code>
          <div class="param-info">The cryptocurrency used to pay the invoice. This field will only be available after a transaction is applied to the invoice. Possible values are currently <code>"BTC"</code>, <code>"BCH"</code>, <code>"ETH"</code>, <code>"GUSD"</code>, <code>"PAX"</code>, <code>"BUSD"</code>, <code>"USDC"</code>, <code>"XRP"</code>, <code>"DOGE"</code>, <code>"DAI"</code> and <code>"WBTC"</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>underpaidAmount</code>
          <div class="param-info">This parameter will be returned on the invoice object if the invoice was underpaid (<code>"exceptionStatus": "paidPartial"</code>). It equals to the absolute difference between <code>amountPaid</code> and <code>paymentTotals</code> for the corresponding <code>transactionCurrency</code> used.</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>overpaidAmount</code>
          <div class="param-info">This parameter will be returned on the invoice object if the invoice was overpaid (<code>"exceptionStatus": "paidOver"</code>). It equals to the absolute difference between <code>amountPaid</code> and <code>paymentTotals</code> for the corresponding <code>transactionCurrency</code> used.</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>supportedTransactionCurrencies</code>
          <div class="param-info">The currencies that may be used to pay this invoice. The object is keyed by currency code. The values are objects with an <code>"enabled"</code> boolean and option. An extra <code>"reason"</code> parameter is added in the object if a cryptocurrency is disabled on a specific invoice. If you disable a currency via the invoice parameter <code>"paymentCurrencies"</code>, this parameter will be set to <code>"merchantDisabledByParam"</code></div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>paymentCodes</code>
          <div class="param-info">The URIs for sending a transaction to the invoice. The first key is the transaction currency. The transaction currency maps to an object containing the payment URIs. The key of this object is the BIP number and the value is the payment URI. 
             <p>
                <ul>
                  <li>For <code>"BTC"</code>, <code>"BCH"</code> and <code>"DOGE"</code> - BIP72b and BIP73 are supported.</li>
                  <li>For <code>"ETH"</code>, <code>"GUSD"</code>, <code>"PAX"</code>, <code>"BUSD"</code>, <code>"USDC"</code>, <code>"DAI"</code> and <code>"WBTC"</code>- EIP681 is supported</li>
                  <li>For <code>"XRP"</code> - RIP681, BIP72b and BIP73 is supported</li>
                </ul>
             </p>
          </div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>token</code>
          <div class="param-info">invoice resource token. This token is derived from the API token initially used to create the invoice and is tied to the specific resource id created.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="facade pos">
          ✓
        </td>
        <td class="facade merchant">
          ✓
        </td>
     </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-invoices-create-an-invoice'>Create an invoice</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">POST</i>
          <h6>https://bitpay.com/invoices</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-create-an-invoice-facades'>Facades</h5>
<p><span class="scope">pos</span>
<span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-create-an-invoice-http-request'>HTTP Request</h5>
<blockquote>
<p>via the pos facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"currency": "USD",
"price": 10,
"orderId": "20210511_abcde",
"notificationURL": "https://merchantwebsite.com/shop/notifications",
"redirectURL": "https://merchantwebsite.com/shop/return",
"buyer": {
"email": "john@doe.com"
},
"token": "AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
     <span class="s">"\"currency\":\"USD\","</span> <span class="p">+</span>
     <span class="s">"\"price\":10,"</span> <span class="p">+</span>
     <span class="s">"\"orderId\":\"20210511_fghij\","</span> <span class="p">+</span>
     <span class="s">"\"notificationURL\":\"https://merchantwebsite.com/shop/notifications\","</span> <span class="p">+</span>
     <span class="s">"\"redirectURL\":\"https://merchantwebsite.com/shop/return\","</span> <span class="p">+</span>
     <span class="s">"\"buyer\":{"</span> <span class="p">+</span>
          <span class="s">"\"email\":\"john@doe.com\""</span> <span class="p">+</span>
     <span class="s">"},"</span> <span class="p">+</span>
     <span class="s">"\"token\":\"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv\""</span> <span class="p">+</span>
<span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                 <span class="s">"\"currency\":\"USD\","</span> <span class="o">+</span>
                 <span class="s">"\"price\":10,"</span> <span class="o">+</span>
                 <span class="s">"\"orderId\":\"20210511_fghij\","</span> <span class="o">+</span>
                 <span class="s">"\"notificationURL\":\"https://merchantwebsite.com/shop/notifications\","</span> <span class="o">+</span>
                 <span class="s">"\"redirectURL\":\"https://merchantwebsite.com/shop/return\","</span> <span class="o">+</span>
                 <span class="s">"\"buyer\":{"</span> <span class="o">+</span>
                      <span class="s">"\"email\":\"john@doe.com\""</span> <span class="o">+</span>
                 <span class="s">"},"</span> <span class="o">+</span>
                 <span class="s">"\"token\":\"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv\""</span> <span class="o">+</span>
            <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
    <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s1">'orderId'</span> <span class="o">=&gt;</span> <span class="s1">'20210511_fghij'</span><span class="p">,</span>
    <span class="s1">'notificationURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://merchantwebsite.com/shop/notifications'</span><span class="p">,</span>
    <span class="s1">'redirectURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://merchantwebsite.com/shop/return'</span><span class="p">,</span>
    <span class="s1">'buyer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
         <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'john@doe.com'</span>
    <span class="p">],</span>
    <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">orderId</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">20210511_fghij</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">notificationURL</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://merchantwebsite.com/shop/notifications</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectURL</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://merchantwebsite.com/shop/return</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">buyer</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@doe.com</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
      "currency": "USD",
      "price": 10,
      "orderId": "20210511_fghij",
      "notificationURL": "https://merchantwebsite.com/shop/notifications",
      "redirectURL": "https://merchantwebsite.com/shop/return",
      "buyer": {
            "email": "john@doe.com"
      },
      "token": "AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"
 }`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'price'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s">'orderId'</span><span class="p">:</span> <span class="s">'20210511_fghij'</span><span class="p">,</span>
    <span class="s">'notificationURL'</span><span class="p">:</span> <span class="s">'https://merchantwebsite.com/shop/notifications'</span><span class="p">,</span>
    <span class="s">'redirectURL'</span><span class="p">:</span> <span class="s">'https://merchantwebsite.com/shop/return'</span><span class="p">,</span>
    <span class="s">'buyer'</span><span class="p">:</span> <span class="p">{</span>
         <span class="s">'email'</span><span class="p">:</span> <span class="s">'john@doe.com'</span>
    <span class="p">},</span>
    <span class="s">'token'</span><span class="p">:</span> <span class="s">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">"orderId"</span><span class="p">:</span> <span class="s2">"20210511_fghij"</span><span class="p">,</span>
    <span class="s2">"notificationURL"</span><span class="p">:</span> <span class="s2">"https://merchantwebsite.com/shop/notifications"</span><span class="p">,</span>
    <span class="s2">"redirectURL"</span><span class="p">:</span> <span class="s2">"https://merchantwebsite.com/shop/return"</span><span class="p">,</span>
    <span class="s2">"buyer"</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"john@doe.com"</span>
    <span class="p">},</span>
    <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"currency":"USD",
"price":10,
"orderId":"20210511_fghij",
"notificationURL":"https://merchantwebsite.com/shop/notifications",
"redirectURL":"https://merchantwebsite.com/shop/return",
"buyer":{
"email":"john@doe.com"
},
"token":"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
     <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3"</span>
     <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                     <span class="s">"\"currency\":\"USD\","</span> <span class="p">+</span>
                     <span class="s">"\"price\":10,"</span> <span class="p">+</span>
                     <span class="s">"\"orderId\":\"20210511_fghij\","</span> <span class="p">+</span>
                     <span class="s">"\"notificationURL\":\"https://merchantwebsite.com/shop/notifications\","</span> <span class="p">+</span>
                     <span class="s">"\"redirectURL\":\"https://merchantwebsite.com/shop/return\","</span> <span class="p">+</span>
                     <span class="s">"\"buyer\":{"</span> <span class="p">+</span>
                          <span class="s">"\"email\":\"john@doe.com\""</span> <span class="p">+</span>
                     <span class="s">"},"</span> <span class="p">+</span>
                     <span class="s">"\"token\":\"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY\""</span> <span class="p">+</span>
                  <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                 <span class="s">"\"currency\":\"USD\","</span> <span class="o">+</span>
                 <span class="s">"\"price\":10,"</span> <span class="o">+</span>
                 <span class="s">"\"orderId\":\"20210511_fghij\","</span> <span class="o">+</span>
                 <span class="s">"\"notificationURL\":\"https://merchantwebsite.com/shop/notifications\","</span> <span class="o">+</span>
                 <span class="s">"\"redirectURL\":\"https://merchantwebsite.com/shop/return\","</span> <span class="o">+</span>
                 <span class="s">"\"buyer\":{"</span> <span class="o">+</span>
                      <span class="s">"\"email\":\"john@doe.com\""</span> <span class="o">+</span>
                 <span class="s">"},"</span> <span class="o">+</span>
                 <span class="s">"\"token\":\"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY\""</span> <span class="o">+</span>
            <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
         <span class="s">"X-Identity"</span><span class="o">,</span>
         <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
         <span class="s">"X-Signature"</span><span class="o">,</span>
         <span class="s">"304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
    <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s1">'orderId'</span> <span class="o">=&gt;</span> <span class="s1">'20210511_fghij'</span><span class="p">,</span>
    <span class="s1">'notificationURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://merchantwebsite.com/shop/notifications'</span><span class="p">,</span>
    <span class="s1">'redirectURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://merchantwebsite.com/shop/return'</span><span class="p">,</span>
    <span class="s1">'buyer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
         <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'john@doe.com'</span>
    <span class="p">],</span>
    <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">orderId</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">20210511_fghij</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">notificationURL</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://merchantwebsite.com/shop/notifications</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">redirectURL</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://merchantwebsite.com/shop/return</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">buyer</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@doe.com</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
      "currency": "USD",
      "price": 10,
      "orderId": "20210511_fghij",
      "notificationURL": "https://merchantwebsite.com/shop/notifications",
      "redirectURL": "https://merchantwebsite.com/shop/return",
      "buyer": {
            "email": "john@doe.com"
      },
      "token": "MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"
 }`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'price'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s">'orderId'</span><span class="p">:</span> <span class="s">'20210511_fghij'</span><span class="p">,</span>
    <span class="s">'notificationURL'</span><span class="p">:</span> <span class="s">'https://merchantwebsite.com/shop/notifications'</span><span class="p">,</span>
    <span class="s">'redirectURL'</span><span class="p">:</span> <span class="s">'https://merchantwebsite.com/shop/return'</span><span class="p">,</span>
    <span class="s">'buyer'</span><span class="p">:</span> <span class="p">{</span>
         <span class="s">'email'</span><span class="p">:</span> <span class="s">'john@doe.com'</span>
    <span class="p">},</span>
    <span class="s">'token'</span><span class="p">:</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">"orderId"</span><span class="p">:</span> <span class="s2">"20210511_fghij"</span><span class="p">,</span>
    <span class="s2">"notificationURL"</span><span class="p">:</span> <span class="s2">"https://merchantwebsite.com/shop/notifications"</span><span class="p">,</span>
    <span class="s2">"redirectURL"</span><span class="p">:</span> <span class="s2">"https://merchantwebsite.com/shop/return"</span><span class="p">,</span>
    <span class="s2">"buyer"</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"john@doe.com"</span>
    <span class="p">},</span>
    <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304402201ee44e2d3df647f73ba7079f4dcfba9dff9e5ed352b2aeb3029654358538fafa0220337b38b26f85207c5f55cc24a5c6ff5e5ff151d5bff601bf4913e99fec740aa3"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-create-an-invoice-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
        </td>
        <td class="conditional">
          C
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
        </td>
        <td class="conditional">
          C
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-create-an-invoice-http-request-body'>Body</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>token</code>
          <div class="param-info">The API token can be retrieved from the dashboard (limited to <code>pos</code> facade) or using the <b>Tokens</b> resource to get access to the <code>merchant</code> facade. This is described in the section <a href="#rest-api-resources-tokens-request-an-api-token">Request an API token</a>).</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>price</code>
          <div class="param-info">Fixed price amount for the checkout, in the <code>"currency"</code> of the invoice object.</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>currency</code>
          <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field, supported currencies are available via the <a href="#rest-api-resources-currencies">Currencies resource</a>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>orderId</code>
          <div class="param-info">Can be used by the merchant to assign their own internal Id to an invoice. If used, there should be a direct match between an <code>orderId</code> and an invoice <code>id</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>itemDesc</code>
          <div class="param-info">Invoice description - will be added as a line item on the BitPay checkout page, under the merchant name.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>itemCode</code>
          <div class="param-info">"bitcoindonation" for donations, otherwise do not include the field in the request.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>notificationEmail</code>
          <div class="param-info">Merchant email address for notification of invoice status change. It is also possible to configure this email via the account setting on the BitPay dashboard or disable the email notification</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>notificationURL</code>
          <div class="param-info">URL to which BitPay sends webhook notifications. HTTPS is mandatory.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
   <tr>
    <td>
      <code>redirectURL</code>
      <div class="param-info">The shopper will be redirected to this URL when clicking on the <b>Return</b> button after a successful payment or when clicking on the <b>Close</b> button if a separate <code>closeURL</code> is not specified. Be sure to include "http://" or "https://" in the url.</div>
    </td>
    <td>
      <code>string</code>
    </td>
    <td class="optional">
      O
    </td>
   </tr>
   <tr>
    <td>
      <code>closeURL</code>
      <div class="param-info">URL to redirect if the shopper does not pay the invoice and click on the <b>Close</b> button instead. Be sure to include "http://" or "https://" in the url.</div>
    </td>
    <td>
      <code>string</code>
    </td>
    <td class="optional">
      O
    </td>
   </tr>
   <tr>
    <td>
      <code>autoRedirect</code>
      <div class="param-info"><p>Set to <code>false</code> by default, merchant can setup automatic redirect to their website by setting this parameter to <code>true</code>. This will applied to the following scenarios:
        <ul>
          <li>When the invoice is paid, it automatically redirects the shopper to the <code>redirectURL</code> indicated</li>
          <li>When the invoice expires, it automatically redirects the shopper to the <code>closeURL</code> if specified and to the <code>redirectURL</code> otherwise</li>
        </ul>
      </p>
      <p><b>Note</b>: If automatic redirect is enabled, <code>redirectURL</code> becomes a mandatory invoice parameters.</p>
      </div>
    </td>
    <td>
      <code>boolean</code>
    </td>
    <td class="optional">
      O
    </td>
   </tr>
     <tr>
        <td>
          <code>posData</code>
          <div class="param-info">A passthru variable provided by the merchant during invoice creation and designed to be used by the merchant to correlate the invoice with an order or other object in their system. This passthru variable can be a serialized object, e.g.: <code>"posData": "\"{ \"ref\" : 711454, \"item\" : \"test_item\" }\""</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>transactionSpeed</code>
          <div class="param-info">This is a risk mitigation parameter for the merchant to configure how they want to fulfill orders depending on the number of block confirmations for the transaction made by the consumer on the selected cryptocurrency.
          <p>
             <ul>
                <li><b>high</b>: The invoice is marked as "confirmed" by BitPay as soon as full payment is received but not yet validated on the corresponding blockchain. The invoice will go from a status of "new" to "confirmed", bypassing the "paid" status. If you want an immediate notification for a payment, you can use the high speed setting. However, it makes you more susceptible to receiving fraudulent payments, so it is not recommended.</li>
                <li><b>medium</b>: (<i>Recommended for most merchants</i>) The invoice is marked as "confirmed" after the transaction has received basic confirmation on the corresponding blockchain. For invoices paid in Bitcoin (BTC), this means 1 confirmation on the blockchain which takes on average 10 minutes. The invoice will go from a status of "new" to "paid" followed by "confirmed" and then "complete"</li>
                <li><b>low</b>: The invoice is marked as "confirmed" once BitPay has credited the funds to the merchant account. The invoice will go from a status of "new" to "paid" followed by "complete", thus bypassing the "confirmed" status. For invoices paid in Bitcoin (BTC), this means 6 confirmations on the blockchain which takes on average an hour</li>
             </ul>
          </p>
          <p>If not set on the invoice, <code>transactionSpeed</code> will default to the <a href="https://test.bitpay.com/dashboard/settings/edit/order" target="_blank"> account-level Order Settings</a>.
          </p>
          <p><b>Note :</b>  orders are only credited to your BitPay Account Summary for settlement after the invoice reaches the status "complete" (regardless of this setting).
          </p>
          </div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>fullNotifications</code>
          <div class="param-info">This parameter is set to <code>true</code> by default, meaning all standard notifications are being sent for a payment made to an invoice. If you decide to set it to <code>false</code> instead, only 1 webhook will be sent for each invoice paid by the consumer. This webhook will be for the "confirmed" or "complete" invoice status, depending on the <code>transactionSpeed</code> selected.</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>extendedNotifications</code>
          <div class="param-info">Allows merchants to get access to additional webhooks. For instance when an invoice expires without receiving a payment or when it is refunded. If set to <code>true</code>, then <code>fullNotifications</code> is automatically set to <code>true</code>. When using the <code>extendedNotifications</code> parameter, the webhook also have a payload slightly different from the standard webhooks.</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>physical</code>
          <div class="param-info">Indicates whether items are physical goods. Alternatives include digital goods and services.</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>buyer</code>
          <div class="param-info">Allows merchant to pass buyer related information in the invoice object</div>
        </td>
        <td>
          <code>object</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>name</code>
          <div class="param-info">Buyer's name</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>address1</code>
          <div class="param-info">Buyer's address</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>address2</code>
          <div class="param-info">Buyer's appartment or suite number</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>locality</code>
          <div class="param-info">Buyer's city or locality</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>region</code>
          <div class="param-info">Buyer's state or province</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>postalCode</code>
          <div class="param-info">Buyer's Zip or Postal Code</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>country</code>
          <div class="param-info">Buyer's Country code. Format ISO 3166-1 alpha-2</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>email</code>
          <div class="param-info">Buyer's email address. If provided during invoice creation, this will bypass the email prompt for the consumer when opening the invoice.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>phone</code>
          <div class="param-info">Buyer's phone number</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>notify</code>
          <div class="param-info">Indicates whether a BitPay email confirmation should be sent to the buyer once he has paid the invoice</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>paymentCurrencies</code>
          <div class="param-info"> Allow the merchant to select the cryptocurrencies available as payment option on the BitPay invoice. Possible values are currently <code>"BTC"</code>, <code>"BCH"</code>, <code>"ETH"</code>, <code>"GUSD"</code>, <code>"PAX"</code>, <code>"BUSD"</code>, <code>"USDC"</code>, <code>"XRP"</code>, <code>"DOGE"</code>, <code>"DAI"</code> and <code>"WBTC"</code>. For instance <code>"paymentCurrencies": ["BTC"]</code> will create an invoice with only XRP available as transaction currency, thus bypassing the currency selection step on the invoice.</div>
        </td>
        <td>
          <code>array</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>jsonPayProRequired</code>
          <div class="param-info">If set to <code>true</code>, this means that the invoice will only accept payments from wallets which have implemented the <a href="../docs/payment-protocol.html" target="_blank">BitPay JSON Payment Protocol</a></div>
        </td>
        <td>
          <code>boolean</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-create-an-invoice-http-response'>HTTP Response</h5>
<blockquote>
<p>for invoices created via the POS facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pos/invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210511_abcde"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734545366</span><span class="p">,</span><span class="w">
     </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620735445366</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734545415</span><span class="p">,</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"redirectURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://merchantwebsite.com/shop/return"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyerProvidedInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
     </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18200</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">744500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2535000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7084249</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2068707100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18100</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29800</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">744500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2535000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7084249</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2068707100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18100</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplayTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000298"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007445"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002535"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.084249"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.687071"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000181"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000182"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007445"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002535"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.084249"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.687071"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000181"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45287.42496000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.884360403999914</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.953840617367156</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38907.54307403195</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">113694.39064944115</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55018.486859390934</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9983514430763876</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1104.481875</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02437664632426631</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.34031805835672807</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">948.9100440136494</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2772.8748903518513</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1341.8373575522414</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024348638771359274</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3242.8077850000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07159065804331831</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9284029977060646</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2786.8105223000134</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">8143.529484384802</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">3940.7807840508463</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07150840394174397</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.1595738</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000025618542425211465</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010479218725640857</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00035765595070386846</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9141421700640993</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4101987949821229</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000025589107995518766</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3971920350538</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000008773022223948377</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003588588969807651</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00012247861537058246</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3415075557941885</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4829199555236314</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000008762942458224111</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822476775498</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001816654513011066</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007430992628226543</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002536199312854088</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7071693501098576</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.066467887569177</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001814567267427316</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45292.626464119996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0004058074752062</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.92141971596772</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.966488968166292</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38942.81051523522</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">113797.44804964097</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55068.35794086002</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"minerFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mf">79.152</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11600</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"paymentCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ripple:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"RIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dogecoin:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8nPJSGgi7omxcbGGZ4KsSgqdi6juypBe9pVpSURDeAwx4VDQx1XfWPy5qqknDKT9KQ"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>For invoices created via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210511_fghij"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620733980748</span><span class="p">,</span><span class="w">
     </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734880748</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620733980807</span><span class="p">,</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
     </span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
     </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
     </span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"redirectURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://merchantwebsite.com/shop/return"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"refundAddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
     </span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyerProvidedInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29600</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplayTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000296"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45540.39841</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.84109737914668</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.870219975470258</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38758.09372049268</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110606.00665668662</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55359.96552840298</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9981333606461704</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1111.2150000000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02440102556111244</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.33863791096704754</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">946.2690507998013</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2700.4176646706587</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1351.599550036015</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024369173431532262</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3278.9696950000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0720117094001833</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9426910658087726</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2792.6060619837313</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">7969.406516966069</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">3988.807510522304</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07191770817497412</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.17088545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002570806272620483</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010505359077542177</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003567769983605121</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.845065119760479</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.423997771159746</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002567450444222371</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4110702732486</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009023103531676658</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003687206757025671</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00012522280765428083</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3499149489763802</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.49979959419322684</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009011325130716152</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822469380432</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018053425057043255</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007377363079576361</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00025054578676645436</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7001098109433249</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9979401197604791</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018029858833039973</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45575.44665492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000393364423732</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.88013797068123</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.883478717945511</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38795.14313891434</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110711.73652694612</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55412.88491451783</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"minerFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mf">79.151</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11600</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"shopper"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
     </span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ripple:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"RIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dogecoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Svbfdow1xXc6chtQB3GVKqyRVhyLMqn3nhMhyTtf9T9vTCDKrVfdoA7n94nZUECZf"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the invoice object returned in the response you will get from the BitPay server. A description of all invoice fields is available in the <a href="#rest-api-resources-invoices-resource">resource</a> section.</p>
<h4 id='rest-api-resources-invoices-retrieve-an-invoice'>Retrieve an invoice</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">GET</i>
          <h6>https://bitpay.com/invoices/:invoiceId</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-retrieve-an-invoice-facades'>Facades</h5>
<p><span class="scope">pos</span>
<span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-retrieve-an-invoice-http-request'>HTTP Request</h5>
<blockquote>
<p>via the pos facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/G3viJEJgE8Jk2oekSdgT2A?token=AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
    <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'G3viJEJgE8Jk2oekSdgT2A'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">G3viJEJgE8Jk2oekSdgT2A</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"G3viJEJgE8Jk2oekSdgT2A"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'G3viJEJgE8Jk2oekSdgT2A'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"G3viJEJgE8Jk2oekSdgT2A"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/G3viJEJgE8Jk2oekSdgT2A?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Identity"</span><span class="o">,</span>
              <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Signature"</span><span class="o">,</span>
              <span class="s">"304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
    <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'G3viJEJgE8Jk2oekSdgT2A'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">G3viJEJgE8Jk2oekSdgT2A</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"G3viJEJgE8Jk2oekSdgT2A"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'G3viJEJgE8Jk2oekSdgT2A'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"G3viJEJgE8Jk2oekSdgT2A"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304502207df9658861a0a2ce454b6e855752eab102a950f19107ab4e635b1f5f9e8d3f14022100b12a78a6ed9ac61d62afaed39fc5fd1473dcd881889981c55fb7c25c695248ad"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-retrieve-an-invoice-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>?token=</code>
          <div class="param-info">When fetching an invoice via the <code>merchant</code> or the <code>pos</code> facade, pass the API token as a URL parameter - the same token used to create the invoice in the first place.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="conditional">
          C
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-retrieve-an-invoice-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
        </td>
        <td class="conditional">
          C
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
        </td>
        <td class="conditional">
          C
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-retrieve-an-invoice-http-response'>HTTP Response</h5>
<blockquote>
<p>For invoices fetched via the pos facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pos/invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210511_fghij"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620733980748</span><span class="p">,</span><span class="w">
     </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734880748</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734669770</span><span class="p">,</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
     </span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"redirectURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://merchantwebsite.com/shop/return"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyerProvidedInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitpay"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29600</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplayTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000296"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45540.39841</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.84109737914668</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.870219975470258</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38758.09372049268</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110606.00665668662</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55359.96552840298</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9981333606461704</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1111.2150000000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02440102556111244</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.33863791096704754</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">946.2690507998013</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2700.4176646706587</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1351.599550036015</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024369173431532262</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3278.9696950000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0720117094001833</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9426910658087726</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2792.6060619837313</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">7969.406516966069</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">3988.807510522304</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07191770817497412</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.17088545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002570806272620483</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010505359077542177</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003567769983605121</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.845065119760479</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.423997771159746</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002567450444222371</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4110702732486</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009023103531676658</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003687206757025671</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00012522280765428083</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3499149489763802</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.49979959419322684</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009011325130716152</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822469380432</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018053425057043255</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007377363079576361</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00025054578676645436</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7001098109433249</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9979401197604791</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018029858833039973</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45575.44665492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000393364423732</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.88013797068123</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.883478717945511</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38795.14313891434</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110711.73652694612</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55412.88491451783</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"minerFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mf">79.151</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11600</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"paymentCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ripple:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"RIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dogecoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8nPJSGgi7omxcbGGZ4KsSgdPFLVQGRDzRV9Yd4ZoNjDubzapTBtSLxgm3Vo6fTmGmF"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>For invoices fetched via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210511_fghij"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620733980748</span><span class="p">,</span><span class="w">
     </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734880748</span><span class="p">,</span><span class="w">
     </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734253073</span><span class="p">,</span><span class="w">
     </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
     </span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
     </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"receivedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T11:54:32.978Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0638edcce08856726135e4f464e603706bc12313fd9a9cd046a177e4ffce98dd"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"exRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
             </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
             </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
             </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02446472581430398</span><span class="p">,</span><span class="w">
             </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1112.66</span><span class="p">,</span><span class="w">
             </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.33972366494876377</span><span class="p">,</span><span class="w">
             </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
             </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
             </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
             </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
             </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">948.9227925474189</span><span class="p">,</span><span class="w">
             </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2725.466119299674</span><span class="p">,</span><span class="w">
             </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1353.985589776174</span><span class="p">,</span><span class="w">
             </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024436520994387978</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"outputIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">],</span><span class="w">
     </span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"redirectURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://merchantwebsite.com/shop/return"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"refundAddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
     </span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"buyerProvidedInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitpay"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29600</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplayTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000296"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45540.39841</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.84109737914668</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.870219975470258</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38758.09372049268</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110606.00665668662</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55359.96552840298</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9981333606461704</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1111.2150000000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02440102556111244</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.33863791096704754</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">946.2690507998013</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2700.4176646706587</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1351.599550036015</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024369173431532262</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3278.9696950000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0720117094001833</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9426910658087726</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2792.6060619837313</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">7969.406516966069</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">3988.807510522304</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07191770817497412</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.17088545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002570806272620483</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010505359077542177</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003567769983605121</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.845065119760479</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.423997771159746</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002567450444222371</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4110702732486</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009023103531676658</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003687206757025671</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00012522280765428083</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3499149489763802</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.49979959419322684</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009011325130716152</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822469380432</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018053425057043255</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007377363079576361</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00025054578676645436</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7001098109433249</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9979401197604791</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018029858833039973</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45575.44665492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000393364423732</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.88013797068123</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.883478717945511</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38795.14313891434</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110711.73652694612</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55412.88491451783</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"minerFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mf">79.151</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11600</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"shopper"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeFc5a7hUwmrEnYwVPmrkp"</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
     </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"paymentCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ripple:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"RIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dogecoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">},</span><span class="w">
     </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Svbfdow1xXc6chtQB3GVKqyRVhyLMqn3nhMhyTtf9T9vTCDKrVfdoA7n94nZUECZf"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the invoice object returned in the response you will get from the BitPay server. A description of all invoice fields is available in the <a href="#rest-api-resources-invoices-resource">resource</a> section.</p>
<h4 id='rest-api-resources-invoices-retrieve-invoices-filtered-by-query'>Retrieve invoices filtered by query</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">GET</i>
          <h6>https://bitpay.com/invoices</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-retrieve-invoices-filtered-by-query-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-retrieve-invoices-filtered-by-query-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY&amp;status=complete&amp;dateStart=2021-5-10&amp;dateEnd=2021-5-12"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">dateStart</span> <span class="p">=</span> <span class="s">"2021-5-10"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">dateEnd</span> <span class="p">=</span> <span class="s">"2021-5-12"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="p">=</span> <span class="s">"complete"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span>
                                <span class="n">resourceUrl</span> <span class="p">+</span>
                                <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span>
                                <span class="s">"&amp;status="</span> <span class="p">+</span> <span class="n">status</span> <span class="p">+</span>
                                <span class="s">"&amp;dateStart="</span> <span class="p">+</span> <span class="n">dateStart</span> <span class="p">+</span>
                                <span class="s">"&amp;dateEnd="</span> <span class="p">+</span> <span class="n">dateEnd</span> <span class="p">+</span>
                          <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">dateStart</span> <span class="o">=</span> <span class="s">"2021-5-10"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">dateEnd</span> <span class="o">=</span> <span class="s">"2021-5-12"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="o">=</span> <span class="s">"complete"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Identity"</span><span class="o">,</span>
              <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Signature"</span><span class="o">,</span>
              <span class="s">"3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span>
         <span class="n">resourceUrl</span> <span class="o">+</span>
         <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
         <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span> <span class="o">+</span>
         <span class="s">"&amp;dateStart="</span> <span class="o">+</span> <span class="n">dateStart</span> <span class="o">+</span>
         <span class="s">"&amp;dateEnd="</span> <span class="o">+</span> <span class="n">dateEnd</span> <span class="o">+</span>
    <span class="o">))</span>
    <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$dateStart</span> <span class="o">=</span> <span class="s1">'2021-5-10'</span><span class="p">;</span>
<span class="nv">$dateEnd</span> <span class="o">=</span> <span class="s1">'2021-5-12'</span><span class="p">;</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="s1">'complete'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span>
    <span class="nv">$resourceUrl</span> <span class="mf">.</span>
    <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span>
    <span class="s1">'&amp;status='</span> <span class="mf">.</span> <span class="nv">$status</span> <span class="mf">.</span>
    <span class="s1">'&amp;dateStart='</span> <span class="mf">.</span> <span class="nv">$dateStart</span> <span class="mf">.</span>
    <span class="s1">'&amp;dateEnd='</span> <span class="mf">.</span> <span class="nv">$dateEnd</span> <span class="mf">.</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">dateStart</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2021-5-10</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">dateEnd</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2021-5-12</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">complete</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span>
         <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span>
         <span class="dl">'</span><span class="s1">&amp;status=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">status</span> <span class="o">+</span>
         <span class="dl">'</span><span class="s1">&amp;dateStart=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">dateStart</span> <span class="o">+</span>
         <span class="dl">'</span><span class="s1">&amp;dateEnd=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">dateEnd</span> <span class="o">+</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">dateStart</span> <span class="o">:=</span> <span class="s">"2021-5-10"</span>
<span class="n">dateEnd</span> <span class="o">:=</span> <span class="s">"2021-5-12"</span>
<span class="n">status</span> <span class="o">:=</span> <span class="s">"complete"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span>
    <span class="s">"GET"</span><span class="p">,</span>
    <span class="n">resourceUrl</span> <span class="o">+</span>
    <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
    <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">complete</span> <span class="o">+</span>
    <span class="s">"&amp;dateStart="</span> <span class="o">+</span> <span class="n">dateStart</span> <span class="o">+</span>
    <span class="s">"&amp;dateEnd="</span> <span class="o">+</span> <span class="n">dateEnd</span> <span class="o">+</span>
    <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">dateStart</span> <span class="o">=</span> <span class="s">'2021-5-10'</span>
<span class="n">dateEnd</span> <span class="o">=</span> <span class="s">'2021-5-12'</span>
<span class="n">status</span> <span class="o">=</span> <span class="s">'complete'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span>
         <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
         <span class="s">'&amp;status='</span> <span class="o">+</span> <span class="n">complete</span> <span class="o">+</span>
         <span class="s">'&amp;dateStart='</span> <span class="o">+</span> <span class="n">dateStart</span> <span class="o">+</span>
         <span class="s">'&amp;dateEnd='</span> <span class="o">+</span> <span class="n">dateEnd</span> <span class="o">+</span>
    <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">dateStart</span> <span class="o">=</span> <span class="s2">"2021-5-10"</span>
<span class="n">dateEnd</span> <span class="o">=</span> <span class="s2">"2021-5-12"</span>
<span class="n">status</span> <span class="o">=</span> <span class="s2">"complete"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3046022100b55d1e0fab0d91341bc3b079d2f609d970bc0202ca423259be21e6f7185e21720221008ff619310f5fe546b8c8b3de4620357468bf00c37ef60c976808e7be5473fbdd"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>
    <span class="n">resource_url</span> <span class="o">+</span>
    <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
    <span class="s2">"&amp;status="</span> <span class="o">+</span> <span class="n">complete</span> <span class="o">+</span>
    <span class="s2">"&amp;dateStart="</span> <span class="o">+</span> <span class="n">dateStart</span> <span class="o">+</span>
    <span class="s2">"&amp;dateEnd="</span> <span class="o">+</span> <span class="n">dateEnd</span> <span class="o">+</span>
<span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-retrieve-invoices-filtered-by-query-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>?token=</code>
          <div class="param-info">A merchant facade token can be retrieved using the <b>Tokens</b> resource. This is described in the section <a href="#rest-api-resources-tokens-request-an-api-token">Request an API token</a>).</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>&dateStart=</code>
          <div class="param-info">the start of the date window to query for invoices. Format <code>YYYY-MM-DD</code></div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>&dateEnd=</code>
          <div class="param-info">the end of the date window to query for invoices. Format <code>YYYY-MM-DD</code></div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>&status=</code>
          <div class="param-info">the invoice status you want to query on</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>&orderId=</code>
          <div class="param-info">the optional order id specified at time of invoice creation</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>&limit=</code>
          <div class="param-info">maximum results that the query will return (useful for paging results)</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
     <tr>
        <td>
          <code>&offset=</code>
          <div class="param-info">number of results to offset (ex. skip 10 will give you results starting with the 11th result)</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-retrieve-invoices-filtered-by-query-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key</div>
        </td>
        <td class="mandatory">
          M
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-retrieve-invoices-filtered-by-query-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210511_abcde"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734545366</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620735445366</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620744196444</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">744500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007445"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">744500</span><span class="p">,</span><span class="w">
          </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"receivedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T12:03:01.526Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f35a1dff9ecf0e1cd87d6922eaa1d5e8faaca65efd84b2e5869e8ed7fcfb6fe4"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"exRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1346.5200000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0244377406759562</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1107.25</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.34117098582128125</span><span class="p">,</span><span class="w">
            </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1346.5200000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1346.5200000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1346.5200000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1346.5200000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">951.2882646753377</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2779.8244514805524</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1345.2003584483623</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024409662928680975</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"outputIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"refundAddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerProvidedInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitpay"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18200</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">744500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2535000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7084249</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2068707100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29800</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">744500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2535000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7084249</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2068707100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18100</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentDisplayTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000298"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007445"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002535"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.084249"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.687071"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000181"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000182"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007445"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002535"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.084249"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.687071"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000181"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45287.42496000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.884360403999914</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.953840617367156</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55072.459995</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38907.54307403195</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">113694.39064944115</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55018.486859390934</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9983514430763876</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1104.481875</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02437664632426631</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.34031805835672807</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1343.1537000000003</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">948.9100440136494</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2772.8748903518513</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1341.8373575522414</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024348638771359274</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3242.8077850000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07159065804331831</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9284029977060646</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">3944.6466899999996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2786.8105223000134</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">8143.529484384802</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">3940.7807840508463</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07150840394174397</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018148813739087574</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007423739634603535</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002533723864638336</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7064791200096081</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0644509190212936</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990199614178492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018127961655735506</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.1595738</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000025618542425211465</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010479218725640857</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00035765595070386846</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4115822</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9141421700640993</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4101987949821229</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000025589107995518766</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3971920350538</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000008773022223948377</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003588588969807651</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00012247861537058246</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48339370000000004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3415075557941885</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4829199555236314</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000008762942458224111</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822476775498</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001816654513011066</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007430992628226543</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002536199312854088</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000977</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7071693501098576</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.066467887569177</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001814567267427316</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45292.626464119996</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0004058074752062</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.92141971596772</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.966488968166292</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55122.38</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38942.81051523522</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">113797.44804964097</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55068.35794086002</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"minerFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mf">79.152</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11600</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"shopper"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeFc5a7hUwmrEnYwVPmrkp"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ripple:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"RIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dogecoin:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/KSnNNfoMDsbRzd1U9ypmVH"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Svbfdow1xXc6chtQB3GVKpwfibKEpS2x5NupH4s8LR5sCJNEXz5Wh9te8kzTs3j2M"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210511_fghij"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620733980748</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620734880748</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620744196460</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"receivedTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T11:54:32.978Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0638edcce08856726135e4f464e603706bc12313fd9a9cd046a177e4ffce98dd"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"exRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02446472581430398</span><span class="p">,</span><span class="w">
            </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1112.66</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.33972366494876377</span><span class="p">,</span><span class="w">
            </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1355.2800000000002</span><span class="p">,</span><span class="w">
            </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">948.9227925474189</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2725.466119299674</span><span class="p">,</span><span class="w">
            </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1353.985589776174</span><span class="p">,</span><span class="w">
            </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024436520994387978</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"outputIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"medium"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"refundAddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerProvidedInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitpay"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29600</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">739100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2505000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">7015685</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">1998865000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentDisplayTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000296"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007391"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002505"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7.015685"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.988650"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.99"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000180"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45540.39841</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.84109737914668</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.870219975470258</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55413.609335</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38758.09372049268</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110606.00665668662</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55359.96552840298</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9981333606461704</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1111.2150000000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02440102556111244</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.33863791096704754</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1352.90925</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">946.2690507998013</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2700.4176646706587</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1351.599550036015</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024369173431532262</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3278.9696950000002</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0720117094001833</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.9426910658087726</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">3992.672665000001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2792.6060619837313</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">7969.406516966069</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">3988.807510522304</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07191770817497412</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.821674</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018035966241721267</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007370228698196506</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002503034929852446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6994327600316144</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9960079840319362</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9990319380520276</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018012422807762058</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.17088545</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002570806272620483</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010505359077542177</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003567769983605121</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4253776249999999</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.845065119760479</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.423997771159746</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002567450444222371</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4110702732486</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009023103531676658</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003687206757025671</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00012522280765428083</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5002839</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3499149489763802</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.49979959419322684</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000009011325130716152</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822469380432</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018053425057043255</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0007377363079576361</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00025054578676645436</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000968</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7001098109433249</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.9979401197604791</span><span class="p">,</span><span class="w">
          </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000018029858833039973</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">45575.44665492</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.000393364423732</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.88013797068123</span><span class="p">,</span><span class="w">
          </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.883478717945511</span><span class="p">,</span><span class="w">
          </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">55466.58</span><span class="p">,</span><span class="w">
          </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38795.14313891434</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">110711.73652694612</span><span class="p">,</span><span class="w">
          </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">55412.88491451783</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"minerFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mf">79.151</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11600</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"shopper"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FeFc5a7hUwmrEnYwVPmrkp"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"paymentCodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ripple:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"RIP681"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dogecoin:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"BIP73"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum:?r=https://bitpay.com/i/G3viJEJgE8Jk2oekSdgT2A"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Svbfdow1xXc6chtQB3GVKqyRVhyLMqn3nhMhyTtf9T9vTCDKrVfdoA7n94nZUECZf"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example array of invoice objects returned in the response you will get from the BitPay server. A description of all invoice fields is available in the <a href="#rest-api-resources-invoices-resource">resource</a> section.</p>
<h4 id='rest-api-resources-invoices-retrieve-an-event-token'>Retrieve an event token</h4>
<p>Retrieves a bus token which can be used to subscribe to invoice events.</p>

<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">GET</i>
          <h6>https://bitpay.com/invoices/:invoiceId/events</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-retrieve-an-event-token-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-retrieve-an-event-token-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/GZRP3zgNHTDf8F5BmdChKz/events?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"/events?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"GZRP3zgNHTDf8F5BmdChKz"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Identity"</span><span class="o">,</span>
              <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Signature"</span><span class="o">,</span>
              <span class="s">"304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/events?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
    <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'GZRP3zgNHTDf8F5BmdChKz'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'/events?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">GZRP3zgNHTDf8F5BmdChKz</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/events?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"GZRP3zgNHTDf8F5BmdChKz"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/events?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'GZRP3zgNHTDf8F5BmdChKz'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'/events?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"GZRP3zgNHTDf8F5BmdChKz"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304502206bf798d93cbe1774bae2ce494240fcae11041eff6da747a5c332b745b03db623022100c48ae2b2375f68c00b022e22bd2acc3b4b1d88e08fec21de9ff9046a587a1719"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"/events?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-retrieve-an-event-token-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>invoiceId</code>
          <div class="param-info">the id of the invoice for which you want to fetch an event token</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     <tr>
        <td>
          <code>?token=</code>
          <div class="param-info">A merchant facade token can be retrieved using the <b>Tokens</b> resource. This is described in the section <a href="#rest-api-resources-tokens-request-an-api-token">Request an API token</a>).</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-retrieve-an-event-token-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade).</div>
        </td>
        <td class="mandatory">
          M
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using the standard <code>public</code> facade, this header is not needed.</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-retrieve-an-event-token-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/events"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4MuqDPt93i9Xbf8SnAPniwbGeNLW8A3ScgAmukFMgFUFRqTLuuhVdAFfePPysVqL2P"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"payment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"confirmation"</span><span class="w">
     </span><span class="p">],</span><span class="w">
     </span><span class="nl">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unsubscribe"</span><span class="w">
     </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-invoices-retrieve-an-event-token-http-response-body'>Body</h6>
<p>Common fields across facades</p>

<table class="table">
     <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
     </tr>
     <tr>
        <td>
          <code>facade</code>
          <div class="param-info">this indicates the facade used to fetch the event token for a given invoice. When the <code>merchant</code> facade is used, the BitPay server returns the event object for an invoice as seen from the merchant facade that is <code>"merchant/invoice"</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td>
          <code>data</code>
          <div class="param-info">invoices event data object</div>
        </td>
        <td>
          <code>object</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>url</code>
          <div class="param-info">base URL where you can subscribe to events (HTTP long polling)</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>token</code>
          <div class="param-info">API token for subscriber resource, passed as <code>?token=</code> query parameter value</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>events</code>
          <div class="param-info">All supported <code>&amp;events[]=</code> query parameter values. The possible values are:
                <ul>
                  <li><b>payment</b> - This allows you to be informed when the BitPay invoice reaches the status <code>"paid"</code>, meaning the transaction has been applied to the invoice, but has not been confirmed yet. When listening to the websocket, this will be logged under the <code>event: statechange</code>. The invoice payload will contain the additional fields related to the <code>merchant</code> facade.</li>
                  <li><b>confirmation</b> - This allows you to track the number of block confirmations for the transaction made to an invoice. When listening to the websocket, this will be logged under the <code>event: statechange</code>. The invoice payload will contain the additional fields related to the <code>merchant</code> facade.</li>
                </ul>
             </p>
          </div>
        </td>
        <td>
          <code>array</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>actions</code>
          <div class="param-info">All supported <code>&amp;action=</code> query parameter values.  Can be <code>subscribe</code> or <code>unsubscribe</code>.</div>
        </td>
        <td>
          <code>array</code>
        </td>
     </tr>
  </tbody>
</table>

<p><b font-size=15px>Subscribe to invoice events (HTTP long polling)</b></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">:</span><span class="w">                                                                                                                                           
</span><span class="err">retry:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
</span><span class="err">event:</span><span class="w"> </span><span class="err">connect</span><span class="w">
</span><span class="err">data:</span><span class="w"> </span><span class="p">{</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"subscribed"</span><span class="p">,</span><span class="nl">"resource"</span><span class="p">:</span><span class="s2">"GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"facade"</span><span class="p">:</span><span class="s2">"merchant/invoice"</span><span class="p">,</span><span class="nl">"events"</span><span class="p">:[</span><span class="s2">"payment"</span><span class="p">,</span><span class="s2">"confirmation"</span><span class="p">]}</span><span class="w">

</span><span class="err">event:</span><span class="w"> </span><span class="err">state</span><span class="w">
</span><span class="err">data:</span><span class="w"> </span><span class="p">{</span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://bitpay.com/invoice?id=GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"new"</span><span class="p">,</span><span class="nl">"price"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="nl">"orderId"</span><span class="p">:</span><span class="s2">"20210510_abcde"</span><span class="p">,</span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="mi">1620667760096</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="mi">1620668660096</span><span class="p">,</span><span class="nl">"currentTime"</span><span class="p">:</span><span class="mi">1620667906372</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nl">"transactions"</span><span class="p">:[],</span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="s2">"medium"</span><span class="p">,</span><span class="nl">"buyer"</span><span class="p">:{},</span><span class="nl">"refundAddresses"</span><span class="p">:[],</span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"buyerProvidedInfo"</span><span class="p">:{},</span><span class="nl">"paymentSubtotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">29700</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentDisplayTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000297"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"exchangeRates"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47230.772800000006</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.7194749529503</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.75555025303838</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37780.12251640375</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116771.67826570377</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57307.25159450904</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">1.000115032345421</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1185.359175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.02509099062253361</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.34531309904918916</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">948.4150723607573</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2931.3832861174246</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1438.6152703502682</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.02510643448440709</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">3430.72378</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.07262506143956358</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">2.886072847475922</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">2745.1567750597255</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">8484.794182099562</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">4164.0254053282415</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.07266976319862523</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1.247204175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000026372025763613466</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0010480072027565593</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.0003629432604570027</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">3.0810467672443163</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1.5120646109338047</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000026388258120850546</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.4034689779652</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000008547841201340867</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.00033968566644525635</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00011763909922171529</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.3231000941117626</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.49009842081461963</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000008553102519270316</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.8232251076000001</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017440739875987407</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006930836931252077</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00024002702909941344</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6592430255286382</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.037603621918244</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017451474899632676</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47154.15664848</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.9990018192901164</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.69968449020259</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.74869646896446</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37761.298347450094</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116713.49608803295</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57278.69791827848</span><span class="p">}},</span><span class="nl">"minerFees"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mf">83.742</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">12300</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">}},</span><span class="nl">"shopper"</span><span class="p">:{},</span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">}},</span><span class="nl">"paymentCodes"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"EIP681"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"ripple:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"RIP681"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"dogecoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">}},</span><span class="nl">"token"</span><span class="p">:</span><span class="s2">"4MuqDPt93i9Xbf8SnAPniwbGeNLW8A3ScgAmukFMgFUFRqTLuuhVdAFfePPysVqL2P"</span><span class="p">}</span><span class="w">

</span><span class="err">:</span><span class="w"> </span><span class="err">heartbeat</span><span class="w">
</span><span class="err">:</span><span class="w"> </span><span class="err">heartbeat</span><span class="w">
</span><span class="err">event:</span><span class="w"> </span><span class="err">statechange</span><span class="w">
</span><span class="err">data:</span><span class="w"> </span><span class="p">{</span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://bitpay.com/invoice?id=GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"paid"</span><span class="p">,</span><span class="nl">"price"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="nl">"orderId"</span><span class="p">:</span><span class="s2">"20210510_abcde"</span><span class="p">,</span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="mi">1620667760096</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="mi">1620668660096</span><span class="p">,</span><span class="nl">"currentTime"</span><span class="p">:</span><span class="mi">1620668006930</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nl">"transactions"</span><span class="p">:[{</span><span class="nl">"amount"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"confirmations"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"receivedTime"</span><span class="p">:</span><span class="s2">"2021-05-10T17:33:26.847Z"</span><span class="p">,</span><span class="nl">"txid"</span><span class="p">:</span><span class="s2">"f70dbbb8b9482e9383125f712622748b209879f2e64281ab71902e93907d62ac"</span><span class="p">,</span><span class="nl">"exRates"</span><span class="p">:{</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.025190963389785315</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1189.58</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.34720799518293105</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">951.083599469043</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2943.130999770624</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1445.0293979926098</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.02519845432394954</span><span class="p">},</span><span class="nl">"outputIndex"</span><span class="p">:</span><span class="mi">0</span><span class="p">}],</span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="s2">"medium"</span><span class="p">,</span><span class="nl">"buyer"</span><span class="p">:{},</span><span class="nl">"refundAddresses"</span><span class="p">:[],</span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="nl">"buyerProvidedInfo"</span><span class="p">:{</span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="s2">"bitpay"</span><span class="p">,</span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">},</span><span class="nl">"paymentSubtotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">29700</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentDisplayTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000297"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"exchangeRates"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47230.772800000006</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.7194749529503</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.75555025303838</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37780.12251640375</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116771.67826570377</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57307.25159450904</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">1.000115032345421</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1185.359175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.02509099062253361</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.34531309904918916</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">948.4150723607573</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2931.3832861174246</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1438.6152703502682</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.02510643448440709</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">3430.72378</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.07262506143956358</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">2.886072847475922</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">2745.1567750597255</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">8484.794182099562</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">4164.0254053282415</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.07266976319862523</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1.247204175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000026372025763613466</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0010480072027565593</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.0003629432604570027</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">3.0810467672443163</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1.5120646109338047</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000026388258120850546</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.4034689779652</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000008547841201340867</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.00033968566644525635</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00011763909922171529</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.3231000941117626</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.49009842081461963</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000008553102519270316</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.8232251076000001</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017440739875987407</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006930836931252077</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00024002702909941344</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6592430255286382</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.037603621918244</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017451474899632676</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47154.15664848</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.9990018192901164</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.69968449020259</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.74869646896446</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37761.298347450094</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116713.49608803295</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57278.69791827848</span><span class="p">}},</span><span class="nl">"minerFees"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mf">83.742</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">12300</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">}},</span><span class="nl">"shopper"</span><span class="p">:{</span><span class="nl">"user"</span><span class="p">:</span><span class="s2">"FeFc5a7hUwmrEnYwVPmrkp"</span><span class="p">},</span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">}},</span><span class="nl">"paymentCodes"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"EIP681"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"ripple:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"RIP681"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"dogecoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">}}}</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">:</span><span class="w"> </span><span class="err">heartbeat</span><span class="w">
</span><span class="err">:</span><span class="w"> </span><span class="err">heartbeat</span><span class="w">
</span><span class="err">event:</span><span class="w"> </span><span class="err">statechange</span><span class="w">
</span><span class="err">data:</span><span class="w"> </span><span class="p">{</span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://bitpay.com/invoice?id=GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"confirmed"</span><span class="p">,</span><span class="nl">"price"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="nl">"orderId"</span><span class="p">:</span><span class="s2">"20210510_abcde"</span><span class="p">,</span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="mi">1620667760096</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="mi">1620668660096</span><span class="p">,</span><span class="nl">"currentTime"</span><span class="p">:</span><span class="mi">1620668111181</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nl">"transactions"</span><span class="p">:[{</span><span class="nl">"amount"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"confirmations"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"receivedTime"</span><span class="p">:</span><span class="s2">"2021-05-10T17:33:26.847Z"</span><span class="p">,</span><span class="nl">"txid"</span><span class="p">:</span><span class="s2">"f70dbbb8b9482e9383125f712622748b209879f2e64281ab71902e93907d62ac"</span><span class="p">,</span><span class="nl">"exRates"</span><span class="p">:{</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.025190963389785315</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1189.58</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.34720799518293105</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">951.083599469043</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2943.130999770624</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1445.0293979926098</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.02519845432394954</span><span class="p">},</span><span class="nl">"outputIndex"</span><span class="p">:</span><span class="mi">0</span><span class="p">}],</span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="s2">"medium"</span><span class="p">,</span><span class="nl">"buyer"</span><span class="p">:{},</span><span class="nl">"refundAddresses"</span><span class="p">:[],</span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="nl">"buyerProvidedInfo"</span><span class="p">:{</span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="s2">"bitpay"</span><span class="p">,</span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">},</span><span class="nl">"paymentSubtotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">29700</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentDisplayTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000297"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"exchangeRates"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47230.772800000006</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.7194749529503</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.75555025303838</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37780.12251640375</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116771.67826570377</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57307.25159450904</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">1.000115032345421</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1185.359175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.02509099062253361</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.34531309904918916</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">948.4150723607573</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2931.3832861174246</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1438.6152703502682</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.02510643448440709</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">3430.72378</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.07262506143956358</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">2.886072847475922</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">2745.1567750597255</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">8484.794182099562</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">4164.0254053282415</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.07266976319862523</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1.247204175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000026372025763613466</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0010480072027565593</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.0003629432604570027</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">3.0810467672443163</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1.5120646109338047</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000026388258120850546</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.4034689779652</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000008547841201340867</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.00033968566644525635</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00011763909922171529</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.3231000941117626</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.49009842081461963</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000008553102519270316</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.8232251076000001</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017440739875987407</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006930836931252077</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00024002702909941344</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6592430255286382</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.037603621918244</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017451474899632676</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47154.15664848</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.9990018192901164</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.69968449020259</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.74869646896446</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37761.298347450094</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116713.49608803295</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57278.69791827848</span><span class="p">}},</span><span class="nl">"minerFees"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mf">83.742</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">12300</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">}},</span><span class="nl">"shopper"</span><span class="p">:{</span><span class="nl">"user"</span><span class="p">:</span><span class="s2">"FeFc5a7hUwmrEnYwVPmrkp"</span><span class="p">},</span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">}},</span><span class="nl">"paymentCodes"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"EIP681"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"ripple:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"RIP681"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"dogecoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">}}}</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="err">:</span><span class="w"> </span><span class="err">heartbeat</span><span class="w">
</span><span class="err">:</span><span class="w"> </span><span class="err">heartbeat</span><span class="w">
</span><span class="err">event:</span><span class="w"> </span><span class="err">statechange</span><span class="w">
</span><span class="err">data:</span><span class="w"> </span><span class="p">{</span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://bitpay.com/invoice?id=GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"complete"</span><span class="p">,</span><span class="nl">"price"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nl">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="nl">"orderId"</span><span class="p">:</span><span class="s2">"20210510_abcde"</span><span class="p">,</span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="mi">1620667760096</span><span class="p">,</span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="mi">1620668660096</span><span class="p">,</span><span class="nl">"currentTime"</span><span class="p">:</span><span class="mi">1620671314229</span><span class="p">,</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"lowFeeDetected"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"displayAmountPaid"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"targetConfirmations"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nl">"transactions"</span><span class="p">:[{</span><span class="nl">"amount"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"confirmations"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="nl">"receivedTime"</span><span class="p">:</span><span class="s2">"2021-05-10T17:33:26.847Z"</span><span class="p">,</span><span class="nl">"txid"</span><span class="p">:</span><span class="s2">"f70dbbb8b9482e9383125f712622748b209879f2e64281ab71902e93907d62ac"</span><span class="p">,</span><span class="nl">"exRates"</span><span class="p">:{</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.025190963389785315</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1189.58</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.34720799518293105</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1447.3400000000001</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">951.083599469043</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2943.130999770624</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1445.0293979926098</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.02519845432394954</span><span class="p">},</span><span class="nl">"outputIndex"</span><span class="p">:</span><span class="mi">0</span><span class="p">}],</span><span class="nl">"transactionSpeed"</span><span class="p">:</span><span class="s2">"medium"</span><span class="p">,</span><span class="nl">"buyer"</span><span class="p">:{},</span><span class="nl">"refundAddresses"</span><span class="p">:[],</span><span class="nl">"refundAddressRequestPending"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"buyerProvidedEmail"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="nl">"buyerProvidedInfo"</span><span class="p">:{</span><span class="nl">"selectedWallet"</span><span class="p">:</span><span class="s2">"bitpay"</span><span class="p">,</span><span class="nl">"selectedTransactionCurrency"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="nl">"emailAddress"</span><span class="p">:</span><span class="s2">"john@doe.com"</span><span class="p">},</span><span class="nl">"paymentSubtotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mi">29700</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mi">693900</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mi">2397000000000000</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mi">6602125</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mi">2036905100</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mi">9980000000000000000</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mi">17400</span><span class="p">},</span><span class="nl">"paymentDisplayTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000297"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"paymentDisplaySubTotals"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="s2">"0.006939"</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="s2">"0.002397"</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="s2">"10.00"</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="s2">"6.602125"</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="s2">"20.369051"</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="s2">"9.98"</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="s2">"0.000174"</span><span class="p">},</span><span class="nl">"exchangeRates"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47230.772800000006</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.7194749529503</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.75555025303838</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57405.762760000005</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37780.12251640375</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116771.67826570377</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57307.25159450904</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">1.000115032345421</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1185.359175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.02509099062253361</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.34531309904918916</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1441.08825</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">948.4150723607573</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2931.3832861174246</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1438.6152703502682</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.02510643448440709</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">3430.72378</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.07262506143956358</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">2.886072847475922</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">4171.183365000001</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">2745.1567750597255</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">8484.794182099562</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">4164.0254053282415</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.07266976319862523</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.821828</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017411140936395536</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006919074504594266</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00023961967565080706</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6581242143642191</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.034145574441693</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.9982839498901388</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017421857741472173</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">1.247204175</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000026372025763613466</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0010480072027565593</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.0003629432604570027</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.51466385</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">3.0810467672443163</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">1.5120646109338047</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000026388258120850546</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.4034689779652</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000008547841201340867</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.00033968566644525635</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00011763909922171529</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">0.4909409</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.3231000941117626</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">0.49009842081461963</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000008553102519270316</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">0.8232251076000001</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.000017440739875987407</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">0.0006930836931252077</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">0.00024002702909941344</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">1.0017</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">0.6592430255286382</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">2.037603621918244</span><span class="p">,</span><span class="nl">"WBTC"</span><span class="p">:</span><span class="mf">0.000017451474899632676</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"USD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"EUR"</span><span class="p">:</span><span class="mf">47154.15664848</span><span class="p">,</span><span class="nl">"BTC"</span><span class="p">:</span><span class="mf">0.9990018192901164</span><span class="p">,</span><span class="nl">"BCH"</span><span class="p">:</span><span class="mf">39.69968449020259</span><span class="p">,</span><span class="nl">"ETH"</span><span class="p">:</span><span class="mf">13.74869646896446</span><span class="p">,</span><span class="nl">"GUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"PAX"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"BUSD"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"USDC"</span><span class="p">:</span><span class="mf">57377.16</span><span class="p">,</span><span class="nl">"XRP"</span><span class="p">:</span><span class="mf">37761.298347450094</span><span class="p">,</span><span class="nl">"DOGE"</span><span class="p">:</span><span class="mf">116713.49608803295</span><span class="p">,</span><span class="nl">"DAI"</span><span class="p">:</span><span class="mf">57278.69791827848</span><span class="p">}},</span><span class="nl">"minerFees"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mf">83.742</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">12300</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"satoshisPerByte"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nl">"totalFee"</span><span class="p">:</span><span class="mi">0</span><span class="p">}},</span><span class="nl">"shopper"</span><span class="p">:{</span><span class="nl">"user"</span><span class="p">:</span><span class="s2">"FeFc5a7hUwmrEnYwVPmrkp"</span><span class="p">},</span><span class="nl">"jsonPayProRequired"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="nl">"supportedTransactionCurrencies"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"enabled"</span><span class="p">:</span><span class="kc">true</span><span class="p">}},</span><span class="nl">"paymentCodes"</span><span class="p">:{</span><span class="nl">"BTC"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BCH"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"bitcoincash:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"ETH"</span><span class="p">:{</span><span class="nl">"EIP681"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"GUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"PAX"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"BUSD"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"USDC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"XRP"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"ripple:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"RIP681"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DOGE"</span><span class="p">:{</span><span class="nl">"BIP72b"</span><span class="p">:</span><span class="s2">"dogecoin:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">,</span><span class="nl">"BIP73"</span><span class="p">:</span><span class="s2">"https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"DAI"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">},</span><span class="nl">"WBTC"</span><span class="p">:{</span><span class="nl">"EIP681b"</span><span class="p">:</span><span class="s2">"ethereum:?r=https://bitpay.com/i/GZRP3zgNHTDf8F5BmdChKz"</span><span class="p">}}}</span><span class="w">
</span></code></pre></div>
<p>The &quot;event bus&quot; provides a real-time interface for API consumers to subscribe to changes that occur to a given resource. The bus implements HTTP long-polling and is compatible with the SSE (Server Sent Events) and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events" target="_blank">EventSource</a> specifications. API consumers need only a valid resource token retrieved from the existing REST API in order to subscribe.</p>

<p>In order to access an event stream via the bus, you have to request a &quot;bus pass&quot; for the resource to which you&#39;d like to subscribe. These are special
tokens that may only be used for receiving events via the bus. Bus passes are issued via API request. For example, to request a bus pass for
a given invoice.</p>

<p>Once you have retrieved the bus pass, It&#39;s pretty simple. Send a GET request to the path configured for the bus - let&#39;s say it&#39;s bitpay.com/events including the appropriate parameters:</p>

<ul>
<li><code>?token=</code> - your &quot;bus pass&quot; retrieved from the API</li>
<li><code>&amp;action=</code> - usually &quot;subscribe&quot;, but options are provided in your bus pass</li>
<li><code>&amp;events[]=</code> - an array of events to listen for (also provided in the bus pass)</li>
</ul>

<p>Once you&#39;ve opened the connection, you&#39;ll want to listen for chunks of data to be passed to you. Each chunk represents an event. Since the bus adheres to the SSE/EventSource specification, chunks are passed back in the format:</p>

<table class="table">
  <tbody>
     <tr>
        <th>
          <p>
             <code>event: &lt;event_type&gt;</code>
          </p>
          <p>
             <code>data: {"some":"json"}</code>
          </p>
        </th>
     </tr>
  </tbody>
</table>

<p><b font-size=15px>Type of Events</b></p>

<p>Browsers interpret the &quot;event&quot; property of each chunk and allow you to listen for it by adding an event listener directly to your EventSource instance. There are a few event types that the bus will expose:</p>

<ul>
<li><strong>connect</strong> - your request was valid and you are now subscribed to the resource</li>
<li><strong>state</strong> - sent immediately following the connect event and contains the current state of the resource</li>
<li><strong>statechange</strong> - sent whenever the resource changes and is published to the bus</li>
<li><strong>error</strong> - something went wrong, you should close the connection and try again</li>
</ul>

<p>See below an example of constructed URL which can be used to listen to invoice events. In this example, the invoice was paid via the BitPay wallet from a desktop.</p>

<p>As this &quot;bus pass&quot; was retrieved using the merchant facade <a href="../eventsf401?token=4MuqDPt93i9Xbf8SnAPniwbGeNLW8A3ScgAmukFMgFUFRqTLuuhVdAFfePPysVqL2P&amp;action=subscribe&amp;events[]=payment&amp;events[]=confirmation" class="long-link" target="_blank">https://bitpay.com/events?token=4MuqDPt93i9Xbf8SnAPniwbGeNLW8A3ScgAmukFMgFUFRqTLuuhVdAFfePPysVqL2P&amp;action=subscribe&amp;events[]=payment&amp;events[]=confirmation</a></p>
<h4 id='rest-api-resources-invoices-refund-an-invoice'>Refund an invoice</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">POST</i>
          <h6>https://bitpay.com/invoices/:invoiceId/refunds</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-refund-an-invoice-facades'>Facades</h5>
<p><span class="scope">merchant </span></p>
<h5 id='rest-api-resources-invoices-refund-an-invoice-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/Hpqc63wvE1ZjzeeH4kEycF/refunds"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"amount":10,
"currency":"USD",
"token":"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"/refunds"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
     <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86"</span>
     <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"amount\":10,"</span> <span class="p">+</span>
                        <span class="s">"\"currency\":\"USD\","</span> <span class="p">+</span>
                        <span class="s">"\"token\":\"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN\""</span> <span class="p">+</span>
                  <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>

     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                      <span class="s">"\"amount\":10,"</span> <span class="o">+</span>
                      <span class="s">"\"currency\":\"USD\","</span> <span class="o">+</span>
                      <span class="s">"\"token\":\"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN\""</span> <span class="o">+</span>
                 <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Identity"</span><span class="o">,</span>
              <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Signature"</span><span class="o">,</span>
              <span class="s">"3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'Hpqc63wvE1ZjzeeH4kEycF'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
    <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'/refunds'</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Hpqc63wvE1ZjzeeH4kEycF</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/refunds</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
    "amount": 10,
    "currency": "USD",
    "token": "Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds"</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'Hpqc63wvE1ZjzeeH4kEycF'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'amount'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'token'</span><span class="p">:</span> <span class="s">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'/refunds'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span>
                                <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100e53b29a954599bee1472900ed9962438a8856b9a6244d1ac5091b21f4eefe00b022064c5e9e419649332a76ca7a01c1d082e8a362007b58211f5156164d19c102b86"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"/refunds"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-refund-an-invoice-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>invoiceId</code>
          <div class="param-info">the id of the invoice you want to refund.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-refund-an-invoice-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API.</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API.</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key.</div>
        </td>
        <td class="mandatory">
          M
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key.</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-refund-an-invoice-http-request-body'>Body</h6>
<table class="table">
     <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>amount</code>
          <div class="param-info">The amount to be refunded, denominated in the invoice original currency - partial refunds are supported</div>
        </td>
        <td>
          <code>number</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>currency</code>
          <div class="param-info">The currency in which to price the refund, same as the invoice original currency.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>token</code>
          <div class="param-info">The resource token for the <code>invoiceId</code> you want to refund. You need to retrieve this token from the invoice object itself, if using the merchant facade (see section <a href="#rest-api-resources-invoices-retrieve-an-invoice">Retrieve an invoice</a>).</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>refundEmail</code>
          <div class="param-info">email address to which you want BitPay to send the refund link.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="optional">
          O
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-refund-an-invoice-http-response'>HTTP Response</h5>
<blockquote>
<p>For invoices fetched via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-invoices-refund-an-invoice-http-response-body'>Body</h6>
<table class="table">
     <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
     </tr>
     <tr>
        <td>
          <code>success</code>
          <div class="param-info">set to <code>true</code> when a refund is successfully requested. At the same time an email is sent to the <code>refundEmail</code> address provided in the HTTP request. It contains a link to the invoice where the buyer can provide his address for the refund</div>
        </td>
        <td>
          <code>boolean</code>
        </td>
     </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice'>Retrieve all refund requests on an invoice</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">GET</i>
          <h6>https://bitpay.com/invoices/:invoiceId/refunds</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/Hpqc63wvE1ZjzeeH4kEycF/refunds?token=Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"/refunds?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Identity"</span><span class="o">,</span>
              <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Signature"</span><span class="o">,</span>
              <span class="s">"3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
    <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'Hpqc63wvE1ZjzeeH4kEycF'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'/refunds?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Hpqc63wvE1ZjzeeH4kEycF</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/refunds?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'Hpqc63wvE1ZjzeeH4kEycF'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'/refunds?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3046022100cc18081bae41fa4feec3df63f0c7e97887940b26e70481d1efed81a8d654d99a0221008fcbe0d3ef15b07b1740344573050dcde299d4d022a0e3c951c6db867af01a62"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"/refunds?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>invoiceId</code>
          <div class="param-info">The id of the invoice you want to look up.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>?token=</code>
          <div class="param-info">The resource token for the <code>invoiceId</code> you want to look up. You need to retrieve this token from the invoice object itself, using the merchant facade (see section <a href="#rest-api-resources-invoices-retrieve-an-invoice">Retrieve an invoice</a>).</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key</div>
        </td>
        <td class="mandatory">
          M
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice-http-response'>HTTP Response</h5>
<blockquote>
<p>For invoices fetched via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/supportRequest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CwHVVic2nAdf5pTp2pWWM3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T08:59:55.163Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"requesterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchaser"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"requesterEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"destinationTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"refundAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoincash:qr0fwvhrj0x803cmuyell55wqzpg6432euethcdp9z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"commit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"doit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"supportRequestEid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CwHVVic2nAdf5pTp2pWWM3"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6Z2yxU2rCA5z3X8rDhAV3aQ4BCicjNjH1g7JU9UcsxiamzJtSbXGEzS348vehsaik"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice-http-response-body'>Body</h6>
<p>The response from the BitPay server will contain a refund object if a refund request was successfully created for a given invoice.</p>

<p>When you submit <a href="#rest-api-resources-invoices-refund-an-invoice">a refund request</a> via the API, BitPay sends an email to the consumer containing a secure link for him to submit his refund address, in the same cryptocurrency used to initially pay the invoice. </p>

<p>The refund object is only created in the system after the consumer submitted his refund address. This endpoint allows you to view the corresponding refund object.</p>

<table class="table">
     <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
     </tr>
     <tr>
        <td>
          <code>facade</code>
          <div class="param-info">Facade used to view the refund object created on a given invoice, set to <code>"merchant/supportRequest"</code></div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td>
          <code>data</code>
          <div class="param-info">Refund objects with status <code>"pending"</code> or <code>"success"</code> created for the corresponding invoice will be logged in this array. If no refund objects were successfully created, the array will be empty. Cancelled refund requests are also not logged in this array.</div>
        </td>
        <td>
          <code>array</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>id</code>
          <div class="param-info">Contains the refund <code>requestId</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>requestDate</code>
          <div class="param-info">Date/time of the refund request. ISO-8601 format yyyy-mm-ddThh:mm:ssZ. (UTC)</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>status</code>
          <div class="param-info">Status of the refund request, can be:
          <p>
             <ul>
                <li><code>"pending"</code> If the refund request still needs to be executed by BitPay.</li>
                <li><code>"success"</code> Once the refund request has been executed.</li>
                <li><code>"failure"</code> If the refund request has been declined.</li>
             </ul>
          </p>
         </div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>params</code>
          <div class="param-info">Object containing the refund request parameters.</div>
        </td>
        <td>
          <code>object</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>requesterType</code>
          <div class="param-info">set to <code>"purchaser"</code></div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>requesterEmail</code>
          <div class="param-info">Purchaser's email address stored on the invoice</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>amount</code>
          <div class="param-info">Amount to be refunded in the <code>currency</code> indicated in the refund object.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>currency</code>
          <div class="param-info">Reference currency used for the refund, usually the same as the currency used to create the invoice.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>email</code>
          <div class="param-info">Purchaser's email address stored on the invoice</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>purchaserNotifyEmail</code> 
          <div class="param-info">Email address to which the refund link was sent. This is equal to the <code>refundEmail</code> used when submitting the refund request.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>destinationTag</code> 
          <div class="param-info">For invoices paid in XRP, the customer is invited to provide a destination tag, depending on the wallet or services he is using to receive the refund</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>refundAddress</code>
          <div class="param-info">Contains the cryptocurrency address provided by the customer via the refund link which was emailed to him.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>commit</code>
          <div class="param-info">For internal use. This field can be ignored in merchant implementations.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>doit</code>
          <div class="param-info">For internal use. This field can be ignored in merchant implementations.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="childchild">
          <code>supportRequestEid</code>
          <div class="param-info">Contains the refund <code>requestId</code>.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td class="child">
          <code>token</code>
          <div class="param-info">refund resource token. This token is derived from the API token initially used to refund the invoice and is tied to the specific refund object created.</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-invoices-retrieve-a-refund-request'>Retrieve a refund request</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">GET</i>
          <h6>https://bitpay.com/invoices/:invoiceId/refunds/:requestId</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-retrieve-a-refund-request-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-retrieve-a-refund-request-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/Hpqc63wvE1ZjzeeH4kEycF/refunds/CwHVVic2nAdf5pTp2pWWM3?token=Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">refundRequestId</span> <span class="p">=</span> <span class="s">"CwHVVic2nAdf5pTp2pWWM3"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"/refunds/"</span> <span class="p">+</span> <span class="n">refundRequestId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">refundRequestId</span> <span class="o">=</span> <span class="s">"CwHVVic2nAdf5pTp2pWWM3"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
         <span class="s">"X-Identity"</span><span class="o">,</span>
         <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
         <span class="s">"X-Signature"</span><span class="o">,</span>
         <span class="s">"3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds/"</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
    <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'Hpqc63wvE1ZjzeeH4kEycF'</span><span class="p">;</span>
<span class="nv">$refundRequestId</span> <span class="o">=</span> <span class="s1">'CwHVVic2nAdf5pTp2pWWM3'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'/refunds/'</span> <span class="mf">.</span> <span class="nv">$refundRequestId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Hpqc63wvE1ZjzeeH4kEycF</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">refundRequestId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">CwHVVic2nAdf5pTp2pWWM3</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/refunds/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">refundRequestId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">refundRequestId</span> <span class="o">:=</span> <span class="s">"CwHVVic2nAdf5pTp2pWWM3"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds/"</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'Hpqc63wvE1ZjzeeH4kEycF'</span>
<span class="n">refundRequestId</span> <span class="o">=</span> <span class="s">'CwHVVic2nAdf5pTp2pWWM3'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'/refunds/'</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span>
                              <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">refundRequestId</span> <span class="o">=</span> <span class="s2">"CwHVVic2nAdf5pTp2pWWM3"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022010b2522029ad9e74d26b29eeb4ec154f5786b5afe2a87f1f7adacd11ec01b0f4022100a583a563016c60bde1a75b7dd67caeb0d5ac237bffbedf02bbd6d2c190bec9cc"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"/refunds/"</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-retrieve-a-refund-request-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>invoiceId</code>
          <div class="param-info">The id of the invoice you want to look up.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>requestId</code>
          <div class="param-info">The id of the refund request</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>?token=</code>
          <div class="param-info">The resource token for the <code>invoiceId</code> you want to look up. You need to retrieve this token from the invoice object itself, using the merchant facade (see section <a href="#rest-api-resources-invoices-retrieve-an-invoice">Retrieve an invoice</a>).</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-retrieve-a-refund-request-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key</div>
        </td>
        <td class="mandatory">
          M
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-retrieve-a-refund-request-http-response'>HTTP Response</h5>
<blockquote>
<p>For a refund request fetched via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/supportRequest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NyoNXDUHFKcgk9Jbcr6ALk"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-05-01T12:05:51.355Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HZxbCd5YRWnWJ4kK72DBai"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"full (current rate)"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"refundTransactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"adhoc"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"bitcoinPayouts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="p">{</span><span class="w">
                </span><span class="nl">"bitcoinAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8792f8288F7fd4f57b113714502Eb8360f4353E3"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"invoiceSatoshis"</span><span class="p">:</span><span class="w"> </span><span class="mi">50893000000000000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"refundSatoshis"</span><span class="p">:</span><span class="w"> </span><span class="mi">50893000000000000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"refundFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"exRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">196.49055141</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02388928077462707</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8326128907757621</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">972.2384965523459</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"amountFiat"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amountUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.98</span><span class="p">,</span><span class="w">
                </span><span class="nl">"requestAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nl">"requestCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ledgerAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.98</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ledgerFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ledgerCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc702c7287fa595c9620f121215bf960f5a8fd912987de5a43deede9fbfa42a6a"</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"before"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
             </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paidFull"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"btcPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.051116"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"btcDue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
             </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"balances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.029263</span><span class="p">,</span><span class="w">
                </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.76</span><span class="p">,</span><span class="w">
                </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"CAD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"MXN"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"JPY"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"GBP"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"AUD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"NZD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"ZAR"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
             </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"after"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
             </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paidFull"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"btcPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.051116"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"btcDue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
             </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"numericId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"789949"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"merchantName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Organization"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="s2">"ValidBitcoinAddress"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"InvoiceSufficientBalance"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"6Confirmations"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"NotBitPayAddress"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"LedgerSufficientBalance"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"requesterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchaser"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"requesterEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@email.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@email.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"purchaserNotifyEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@email.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"destinationTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"refundAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8792f8288F7fd4f57b113714502Eb8360f4353E3"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"commit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"doit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"supportRequestEid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NyoNXDUHFKcgk9Jbcr6ALk"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xc702c7287fa595c9620f121215bf960f5a8fd912987de5a43deede9fbfa42a6a"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"effects"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
             </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HZxbCd5YRWnWJ4kK72DBai"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"full (current rate)"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"refundTransactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"adhoc"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
             </span><span class="nl">"bitcoinPayouts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"bitcoinAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8792f8288F7fd4f57b113714502Eb8360f4353E3"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"invoiceSatoshis"</span><span class="p">:</span><span class="w"> </span><span class="mi">50893000000000000</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"refundSatoshis"</span><span class="p">:</span><span class="w"> </span><span class="mi">50893000000000000</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"refundFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"exRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                     </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">196.49055141</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02388928077462707</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8326128907757621</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">215.73000000000002</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">972.2384965523459</span><span class="w">
                  </span><span class="p">},</span><span class="w">
                  </span><span class="nl">"amountFiat"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"fiatCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"amountUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.98</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"requestAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"requestCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ledgerAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.98</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ledgerFeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ledgerCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
                </span><span class="p">}</span><span class="w">
             </span><span class="p">],</span><span class="w">
             </span><span class="nl">"before"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paidFull"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"btcPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.051116"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"btcDue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"balances"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.029263</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.76</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"CAD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"MXN"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"JPY"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"GBP"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"AUD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"NZD"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"ZAR"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">}</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="nl">"after"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paidFull"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"btcPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.051116"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"btcDue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="w">
             </span><span class="p">},</span><span class="w">
             </span><span class="nl">"numericId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"789949"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"merchantName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Organization"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"checks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"ValidBitcoinAddress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"InvoiceSufficientBalance"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"6Confirmations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NotBitPayAddress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"LedgerSufficientBalance"</span><span class="w">
             </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2GxRfYm8KDrpNvmwVBrHMqYyRHo638x2KhFoaPfeVTi8EL3fos2kiC76hekS3SpdrS"</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-invoices-retrieve-a-refund-request-http-response-body'>Body</h6>
<table class="table">
     <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
     </tr>
     <tr>
        <td>
          <code>facade</code>
          <div class="param-info">Facade used to view the refund object created on a given invoice, set to <code>"merchant/supportRequest"</code></div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
     <tr>
        <td>
          <code>data</code>
          <div class="param-info">Refund objects with status <code>"pending"</code> or <code>"success"</code> created for the corresponding invoice will be logged in this array. If no refund objects were successfully created, the array will be empty. Cancelled refund requests are also not logged in this field.</div>
        </td>
        <td>
          <code>array</code>
        </td>
     </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-invoices-cancel-a-refund-request'>Cancel a refund request</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">DELETE</i>
          <h6>https://bitpay.com/invoices/:invoiceId/refunds/requestId</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-cancel-a-refund-request-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-cancel-a-refund-request-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> DELETE <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/Hpqc63wvE1ZjzeeH4kEycF/refunds/CwHVVic2nAdf5pTp2pWWM3?token=hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">refundRequestId</span> <span class="p">=</span> <span class="s">"CwHVVic2nAdf5pTp2pWWM3"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"/refunds/"</span> <span class="p">+</span> <span class="n">refundRequestId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"DELETE"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">refundRequestId</span> <span class="o">=</span> <span class="s">"CwHVVic2nAdf5pTp2pWWM3"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Identity"</span><span class="o">,</span>
              <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Signature"</span><span class="o">,</span>
              <span class="s">"30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds/"</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
    <span class="o">.</span><span class="na">DELETE</span><span class="o">()</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'Hpqc63wvE1ZjzeeH4kEycF'</span><span class="p">;</span>
<span class="nv">$refundRequestId</span> <span class="o">=</span> <span class="s1">'CwHVVic2nAdf5pTp2pWWM3'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'/refunds/'</span> <span class="mf">.</span> <span class="nv">$refundRequestId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'DELETE'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Hpqc63wvE1ZjzeeH4kEycF</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">refundRequestId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">CwHVVic2nAdf5pTp2pWWM3</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/refunds/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">refundRequestId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">refundRequestId</span> <span class="o">:=</span> <span class="s">"CwHVVic2nAdf5pTp2pWWM3"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/refunds/"</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'Hpqc63wvE1ZjzeeH4kEycF'</span>
<span class="n">refundRequestId</span> <span class="o">=</span> <span class="s">'CwHVVic2nAdf5pTp2pWWM3'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'/refunds/'</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span>
                                  <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">refundRequestId</span> <span class="o">=</span> <span class="s2">"CwHVVic2nAdf5pTp2pWWM3"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"hKLzH7abVY59gg1JB4p6GFM8suc2djyTKha6ejQ7VnGo5W1UBMs19PyxfQs3Zfxhd"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"30450221009520f41a1df5655da241f96192ec42f924a1186f900a439306179f658124c7eb02204b1821f89ee174ab7e1eb2f6b41627d1942a13908daaef1cd28f26217490a20a"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"/refunds/"</span> <span class="o">+</span> <span class="n">refundRequestId</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-cancel-a-refund-request-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>invoiceId</code>
          <div class="param-info">The id of the invoice for which you want to cancel a pending refund request.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>requestId</code>
          <div class="param-info">The id of the refund request you want to cancel</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>?token=</code>
          <div class="param-info">The resource token for the refund <code>requestId</code> you want to cancel. You need to retrieve this token from the refund object itself (see section <a href="#rest-api-resources-invoices-retrieve-all-refund-requests-on-an-invoice">Retrieve all refund requests on an invoice</a>).</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-cancel-a-refund-request-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key</div>
        </td>
        <td class="mandatory">
          M
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-cancel-a-refund-request-http-response'>HTTP Response</h5>
<blockquote>
<p>For a refund request fetched via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-invoices-cancel-a-refund-request-http-response-body'>Body</h6>
<table class="table">
     <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
     </tr>
     <tr>
        <td>
          <code>data</code>
          <div class="param-info">set to <code>"Success"</code> once a refund request is successfully cancelled</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-invoices-request-a-webhook-to-be-resent'>Request a webhook to be resent</h4>
<div class="api-endpoint">
     <div class="endpoint-data">
          <i class="label label-get">POST</i>
          <h6>https://bitpay.com/invoices/:invoiceId/notifications</h6>
     </div>
</div>
<h5 id='rest-api-resources-invoices-request-a-webhook-to-be-resent-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-invoices-request-a-webhook-to-be-resent-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/invoices/Hpqc63wvE1ZjzeeH4kEycF/notifications"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"token":"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="p">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">invoiceId</span> <span class="p">+</span> <span class="s">"/notifications"</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Identity"</span><span class="p">,</span>
     <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
     <span class="s">"X-Signature"</span><span class="p">,</span>
     <span class="s">"304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                     <span class="s">"\"token\":\"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN\""</span> <span class="p">+</span>
                  <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>

     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
     <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
     <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
     <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/invoices"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">invoiceId</span> <span class="o">=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                    <span class="s">"\"token\":\"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN\""</span> <span class="o">+</span>
                 <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Identity"</span><span class="o">,</span>
              <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">header</span><span class="o">(</span>
              <span class="s">"X-Signature"</span><span class="o">,</span>
              <span class="s">"304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753"</span>
    <span class="o">)</span>
    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/notifications"</span><span class="o">))</span>
    <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/invoices'</span><span class="p">;</span>
<span class="nv">$invoiceId</span> <span class="o">=</span> <span class="s1">'Hpqc63wvE1ZjzeeH4kEycF'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
    <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$invoiceId</span> <span class="mf">.</span> <span class="s1">'/notifications'</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
    <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s1">'X-Signature: 304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/invoices</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">Hpqc63wvE1ZjzeeH4kEycF</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/notifications</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/invoices"</span>
<span class="n">invoiceId</span> <span class="o">:=</span> <span class="s">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
    "token": "Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">invoiceId</span> <span class="o">+</span> <span class="s">"/notifications"</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
    <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/invoices'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'Hpqc63wvE1ZjzeeH4kEycF'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'token'</span><span class="p">:</span> <span class="s">'Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN'</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
    <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
    <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
    <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'/notifications'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span>
                                <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/invoices"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"Svbfdow1xXc6chtQB3GVKjdPFRTfSGKYyvRmm4Re6mzY7pT3AuN7g3bY9W3t5jHbN"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
    <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304502210098d7e943d78c02fe92586e82695453675911cf72d276804d6e20abfb8df4efd70220660e380b6b6c2b11c3f6a95c86b197cd84a92feae6ee16338704c2952990f753"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"/notifications"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
    <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-invoices-request-a-webhook-to-be-resent-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
     <tr>
        <th>Parameter</th>
        <th>Type</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>invoiceId</code>
          <div class="param-info">The id of the invoice for which you want the last webhook to be resent.</div>
        </td>
        <td>
          <code>string</code>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-request-a-webhook-to-be-resent-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>X-Accept-Version</code>
          <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>Content-Type</code>
          <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
        <td class="mandatory">
          M
        </td>
     </tr>
     <tr>
        <td>
          <code>X-Identity</code>
          <div class="param-info">the hexadecimal public key generated from the client private key</div>
        </td>
        <td class="mandatory">
          M
        </td>        
     </tr>
     <tr>
        <td>
          <code>X-Signature</code>
          <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-invoices-request-a-webhook-to-be-resent-http-request-body'>Body</h6>
<table class="table">
  <tbody>
     <tr>
        <th>fields</th>
        <th>Presence</th>
     </tr>
     <tr>
        <td>
          <code>token</code>
          <div class="param-info">The resource token for the <code>invoiceId</code> you want the webhook to be resent. You first need to retrieve this token from the invoice object itself, using the merchant facade (see section <a href="#rest-api-resources-invoices-retrieve-an-invoice">Retrieve an invoice</a>).</div>
        </td>
        <td class="mandatory">
          M
        </td>
     </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-invoices-request-a-webhook-to-be-resent-http-response'>HTTP Response</h5>
<blockquote>
<p>Example response when the webhook is successfully resent</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-invoices-request-a-webhook-to-be-resent-http-response-body'>Body</h6>
<table class="table">
     <tbody>
     <tr>
        <th>Name</th>
        <th>Type</th>
     </tr>
     <tr>
        <td>
          <code>data</code>
          <div class="param-info">set to <code>"Success"</code> once the webhook has been resent for the current invoice status</div>
        </td>
        <td>
          <code>string</code>
        </td>
     </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-settlements'>Settlements</h3>
<p>Settlements are transfers of payment profits from BitPay to bank accounts and cryptocurrency wallets owned by merchants, partners, etc. This endpoint exposes reports detailing these settlements.</p>
<h4 id='rest-api-resources-settlements-resource'>Resource</h4>
<blockquote>
<p>Example of settlement object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/settlement"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RPWTabW8urd3xWv2To989v"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payoutInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corporate account"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netherlands"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Organization"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RABONL2U"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NL85ABNA0000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T09:05:00.176Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T11:52:29.681Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openingBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.27</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ledgerEntriesSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.82</span><span class="p">,</span><span class="w">
    </span><span class="nl">"withholdings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.21</span><span class="p">,</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending Refunds"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"withholdingsSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.21</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">35.88</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2GrR6GDeYxUFYM9sDKViy6nFFTy4Rjvm1SYdLBjK46jkeJdgUTRccRfhtwkhNcuZky"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>facade</code>
        <div class="param-info">Facade used to view settlement objects, set to <code>"merchant/settlement"</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Settlement data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">String identifying the settlement; this id will also be in the description of the corresponding bank settlement.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>accountId</code>
        <div class="param-info">String identifying the BitPay merchant. For internal use, this field can be ignored in merchant implementations.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Status of the settlement. Possible statuses are "new", "processing", "rejected" and "completed".</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the settlement. Supported settlement currencies are listed on https://bitpay.com/docs/settlement</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>payoutInfo</code>
        <div class="param-info">Object containing the settlement info provided by the Merchant in his <a href="../dashboard/settings/settlement.html" target="_blank">BitPay account settings</a></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>label</code>
        <div class="param-info">As indicated by the merchant in his settlement settings</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankCountry</code>
        <div class="param-info">Country where the merchant's bank account is located</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>name</code>
        <div class="param-info">account holder name</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>routing</code>
        <div class="param-info">for merchants receiving USD settlements via local ACH, this field contains the ABA provided by the merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bank</code>
        <div class="param-info">Name of the bank used by the merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>swift</code>
        <div class="param-info">SWIFT/BIC code of the merchant's bank.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>address</code>
        <div class="param-info">This field is used to indicate the wallet address used for the settlement, if the settlement currency selected by the merchant is one of the supported crypto currency: Bitcoin (BTC), Bitcoin Cash (BCH), Dogecoin (DOGE), Ether (ETH), Gemini US Dollar (GUSD), Circle USD Coin (USDC), Paxos Standard USD (PAX), Binance USD (BUSD), Dai (DAI), Wrapped Bitcoin (WBTC), and Ripple (XRP). If the settlement currency used is AUD, GBP, NZD, MXN, ZAR - this field is used to indicate the address of the merchant's bank</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>city</code>
        <div class="param-info">City of the merchant bank, field return if the settlement currency is</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>postal</code>
        <div class="param-info">Postal code of the merchant bank, field return if the settlement currency is</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>account</code>
        <div class="param-info">Bank account number of the merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>merchantEIN</code>
        <div class="param-info">for merchants receiving USD settlements via local ACH, this field contains the merchant's EIN</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>sort</code>
        <div class="param-info">used to pass country specific bank fields: BSB for AUD</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>wire</code>
        <div class="param-info">If set to true, this means BitPay will be settling the account using an international transfer via the SWIFT network instead of local settlement methods like ACH(United States) or SEPA (European Economic Area)</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankName</code>
        <div class="param-info">Name of the bank used by the merchant. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankAddress</code>
        <div class="param-info">Address of the merchant's bank. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankAddress2</code>
        <div class="param-info">Address of the merchant's bank. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>iban</code>
        <div class="param-info">The merchant's bank account number, in the IBAN (International Bank Account Number) format. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>additionalInformation</code>
        <div class="param-info">When providing the settlement info via the dashboard, this field can be used by the merchant to provide additional information about the receiving bank. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderName</code>
        <div class="param-info">Bank account holder name. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderAddress</code>
        <div class="param-info">Bank account holder address. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderAddress2</code>
        <div class="param-info">Bank account holder address. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderPostalCode</code>
        <div class="param-info">Bank account holder postal code. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderCity</code>
        <div class="param-info">Bank account holder city. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderCountry</code>
        <div class="param-info">Bank account holder country. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dateCreated</code>
        <div class="param-info">timestamp when the settlement was created. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dateExecuted</code>
        <div class="param-info">timestamp when the settlement was executed. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>openingDate</code>
        <div class="param-info">corresponds to the <code>closingDate</code> of the previous settlement executed. For the first settlement of an account the value will be the BitPay merchant account creation date. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>closingDate</code>
        <div class="param-info">Date & time for last ledger entry used for the settlement. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>date</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>openingBalance</code>
        <div class="param-info">Balance of the ledger at the <code>openingDate</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>ledgerEntriesSum</code>
        <div class="param-info">Sum of all ledger entries in the settlement, this means all the debits & credits which happened betwee <code>openingDate</code> and <code>closingDate</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>withholdings</code>
        <div class="param-info">array of withholdings. Withholdings are kept on the ledger to be used later and thus withheld from this settlement. Each withholding is a JSON object containing a code, amount and description field. The possible withholding codes are:
        <p>
          <ul>
            <li><b>W001</b>  - Refund Reserve: a merchant can set a refund reserve for his account. This code indicate the current amount in the reserve at the moment the settlement is generated.</li>
            <li><b>W002</b> - Settlement Fee: in case BitPay is charging the bank fees to the merchant, via a SWIFT wire for instance, will be posted to the ledger when the settlementReport goes into status ‘processing’. This code is not used for SEPA or ACH transfers</li>
            <li><b>W003</b> - Liquidity Withholding : Used when BitPay's balance at the specific settlement bank is unsufficient to payout the full amount today</li>
            <li><b>W004</b> - Insufficient Balance : in the event a case the ledger balance of the merchant drops after the settlement cut-off, the settlement amount will be adjusted.</li>
            <li><b>W005</b> - Pending Refunds : in order to make sure enough funds are left on the account to execute pending refund requests.</li>
          </ul>
        </p>
        </div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>withholdingsSum</code>
        <div class="param-info">Sum of all amounts that are withheld from settlement</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>totalAmount</code>
        <div class="param-info">total amount sent to the merchant; 2 decimals. 
          <p><code>totalAmount</code> = <code>openingBalance</code> + <code>legderEntriesSum</code> - <code>withholdingsSum</code></p>
        </div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token for the corresponding settlement resource. This token is actually derived from the merchant facade token used during the query. This token is required to fetch the reconciliation report</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-settlements-retrieve-settlements'>Retrieve settlements</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/settlements</h6>
    </div>
</div>
<h5 id='rest-api-resources-settlements-retrieve-settlements-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-settlements-retrieve-settlements-http-request'>HTTP Request</h5>
<blockquote>
<p>Retrieving settlements via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/settlements?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY&amp;status=processing&amp;startDate=2021-5-10&amp;endDate=2021-5-12"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/settlements"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="p">=</span> <span class="s">"processing"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">startDate</span> <span class="p">=</span> <span class="s">"2021-5-10"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">endDate</span> <span class="p">=</span> <span class="s">"2021-5-12"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span>
    <span class="n">resourceUrl</span> <span class="p">+</span>
    <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span>
    <span class="s">"&amp;status="</span> <span class="p">+</span> <span class="n">status</span> <span class="p">+</span>
    <span class="s">"&amp;startDate="</span> <span class="p">+</span> <span class="n">startDate</span> <span class="p">+</span>
    <span class="s">"&amp;endDate="</span> <span class="p">+</span> <span class="n">endDate</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/settlements"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="o">=</span> <span class="s">"processing"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">startDate</span> <span class="o">=</span> <span class="s">"2021-5-10"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">endDate</span> <span class="o">=</span> <span class="s">"2021-5-12"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span>
           <span class="n">resourceUrl</span> <span class="o">+</span>
           <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
           <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span> <span class="o">+</span>
           <span class="s">"&amp;startDate="</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
           <span class="s">"&amp;endDate="</span> <span class="o">+</span> <span class="n">endDate</span>
   <span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/settlements'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="s1">'processing'</span><span class="p">;</span>
<span class="nv">$startDate</span> <span class="o">=</span> <span class="s1">'2021-5-10'</span><span class="p">;</span>
<span class="nv">$endDate</span> <span class="o">=</span> <span class="s1">'2021-5-12'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span>
   <span class="nv">$resourceUrl</span> <span class="mf">.</span>
   <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span>
   <span class="s1">'&amp;status='</span> <span class="mf">.</span> <span class="nv">$status</span> <span class="mf">.</span>
   <span class="s1">'&amp;startDate='</span> <span class="mf">.</span> <span class="nv">$startDate</span> <span class="mf">.</span>
   <span class="s1">'&amp;endDate='</span> <span class="mf">.</span> <span class="nv">$endDate</span>
<span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/settlements</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">processing</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">startDate</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2018-8-22</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">endDate</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2019-8-30</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;status=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">status</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;startDate=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">startDate</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;endDate=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">endDate</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/settlements"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">status</span> <span class="o">:=</span> <span class="s">"processing"</span>
<span class="n">startDate</span> <span class="o">:=</span> <span class="s">"2018-8-22"</span>
<span class="n">endDate</span> <span class="o">:=</span> <span class="s">"2019-8-30"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span>
   <span class="s">"GET"</span><span class="p">,</span>
   <span class="n">resourceUrl</span> <span class="o">+</span>
   <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span> <span class="o">+</span>
   <span class="s">"&amp;startDate="</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
   <span class="s">"&amp;endDate="</span> <span class="o">+</span> <span class="n">endDate</span><span class="p">,</span>
   <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/settlements'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">status</span> <span class="o">=</span> <span class="s">'processing'</span>
<span class="n">startDate</span> <span class="o">=</span> <span class="s">'2021-5-10'</span>
<span class="n">endDate</span> <span class="o">=</span> <span class="s">'2021-5-12'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
   <span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span>
       <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
       <span class="s">'&amp;status='</span> <span class="o">+</span> <span class="n">status</span> <span class="o">+</span>
       <span class="s">'&amp;startDate='</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
       <span class="s">'&amp;endDate='</span> <span class="o">+</span> <span class="n">endDate</span><span class="p">,</span>
   <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/settlements"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">status</span> <span class="o">=</span> <span class="s2">"processing"</span>
<span class="n">startDate</span> <span class="o">=</span> <span class="s2">"2018-8-22"</span>
<span class="n">endDate</span> <span class="o">=</span> <span class="s2">"2019-8-30"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100b33a4d7c7669a4023d57f077e7a599b0b7b25fded6cbfc08b9342fa31a15dc7b022062efcea5ec3c8881ec66cace20b09ea0738b90b701882afb2286a8f6fc02e9a4"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span>
   <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s2">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span> <span class="o">+</span>
   <span class="s2">"&amp;startDate="</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
   <span class="s2">"&amp;endDate="</span> <span class="o">+</span> <span class="n">endDate</span>
<span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-settlements-retrieve-settlements-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">When fetching settlememts, pass a merchant facade token as a URL parameter</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>&startDate</code>
        <div class="param-info">The start of the date window to query for settlements. Format <code>YYYY-MM-DD</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>&endDate=</code>
        <div class="param-info">The end of the date window to query for settlements. Format <code>YYYY-MM-DD</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>&status=</code>
        <div class="param-info">The settlement status you want to query on</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>&ampcurrency=</code>
        <div class="param-info">The settlement currency you want to query on</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>&limit=</code>
        <div class="param-info">Maximum results that the query will return (useful for paging results)</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>&offset=</code>
        <div class="param-info">Number of results to offset (ex. skip 10 will give you results starting with the 11th result)</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-settlements-retrieve-settlements-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-settlements-retrieve-settlements-http-response'>HTTP Response</h5>
<blockquote>
<p>Example response when fetching settlement objects for a given date range</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/settlement"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KBkdURgmE3Lsy9VTnavZHX"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payoutInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corporate account"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bankCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netherlands"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Organization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RABONL2U"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NL85ABNA0000000000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T09:05:00.176Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T11:52:29.681Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-09T09:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T09:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openingBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.27</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ledgerEntriesSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.82</span><span class="p">,</span><span class="w">
      </span><span class="nl">"withholdings"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"withholdingsSum"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">22.09</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2gBtViSiBWSEJGo1LfaMFHoaBRzE2jek2VitKAYeenj2SRiTVSCgRvs1WTN8w4w8Lc"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RPWTabW8urd3xWv2To989v"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payoutInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corporate account"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bankCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netherlands"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Organization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RABONL2U"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NL85ABNA0000000000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T09:05:00.176Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T11:52:29.681Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T09:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T09:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openingBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.27</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ledgerEntriesSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.82</span><span class="p">,</span><span class="w">
      </span><span class="nl">"withholdings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.21</span><span class="p">,</span><span class="w">
          </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W005"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending Refunds"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"withholdingsSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.21</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">35.88</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2gBtViSiBWSEJitKAYSCgRvs1WTN8w4Go1Leenj2SRiTVFHoaBRzE2jek2VfaMw8Lc"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example array of settlement objects returned in the response you will get from the BitPay server. A description of all fields is available in the settlement <a href="#rest-api-resources-settlements-resource">resource</a> section.</p>
<h4 id='rest-api-resources-settlements-retrieve-a-settlement'>Retrieve a settlement</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/settlements/:settlementId</h6>
    </div>
</div>
<h5 id='rest-api-resources-settlements-retrieve-a-settlement-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-settlements-retrieve-a-settlement-http-request'>HTTP Request</h5>
<blockquote>
<p>Retrieve a settlement via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/settlements/DNFnN3fFjjzLn6if5bdGJC?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/settlements"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">settlementId</span> <span class="p">=</span> <span class="s">"DNFnN3fFjjzLn6if5bdGJC"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">settlementId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/settlements"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">settlementId</span> <span class="o">=</span> <span class="s">"DNFnN3fFjjzLn6if5bdGJC"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">settlementId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/settlements'</span><span class="p">;</span>
<span class="nv">$settlementId</span> <span class="o">=</span> <span class="s2">"DNFnN3fFjjzLn6if5bdGJC"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$settlementId</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/settlements</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">settlement_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">DNFnN3fFjjzLn6if5bdGJC</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">settlement_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/settlements"</span>
<span class="n">settlementId</span> <span class="o">:=</span> <span class="s">"DNFnN3fFjjzLn6if5bdGJC"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">settlementId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/settlements'</span>
<span class="n">settlement_id</span> <span class="o">=</span> <span class="s">"DNFnN3fFjjzLn6if5bdGJC"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">settlement_id</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/settlements"</span>
<span class="n">settlement_id</span> <span class="o">=</span> <span class="s2">"DNFnN3fFjjzLn6if5bdGJC"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3046022100a9d1ec54237bf0733b6c0903bed401173313792c6a6e1f4abe7629d754b69114022100951954060a8e02fcfe2ef9ee4e43b0b159b146152aff5dad8e9262aca824f964"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">settlement_id</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>

</code></pre></div><h6 id='rest-api-resources-settlements-retrieve-a-settlement-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>settlementId</code>
        <div class="param-info">id of the specific settlement resource to be fetched</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">when fetching settlememts, pass a merchant facade token as a URL parameter</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-settlements-retrieve-a-settlement-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-settlements-retrieve-a-settlement-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of settlement object</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/settlement"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RPWTabW8urd3xWv2To989v"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payoutInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Corporate account"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netherlands"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Organization"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RABONL2U"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NL85ABNA0000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T09:05:00.176Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T11:52:29.681Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-11T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openingBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.27</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ledgerEntriesSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.82</span><span class="p">,</span><span class="w">
    </span><span class="nl">"withholdings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.21</span><span class="p">,</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending Refunds"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"withholdingsSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">8.21</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">35.88</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2GrR6GDeYxUFYM9sDKViy6nFFTy4Rjvm1SYdLBjK46jkeJdgUTRccRfhtwkhNcuZky"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the settlement object returned in the response you will get from the BitPay server. A description of all fields is available in the settlement <a href="#rest-api-resources-settlements-resource">resource</a> section.</p>
<h4 id='rest-api-resources-settlements-fetch-a-reconciliation-report'>Fetch a reconciliation report</h4>
<p>This endpoint allows merchant to retrieve a detailed report of the activity within the settlement period, in order to reconcile incoming settlements from BitPay.</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/settlements/:settlementId/reconciliationReport</h6>
    </div>
</div>
<h5 id='rest-api-resources-settlements-fetch-a-reconciliation-report-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-settlements-fetch-a-reconciliation-report-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/settlements/RvNuCTMAkURKimwgvSVEMP/reconciliationReport?token=5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/settlements"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">settlementId</span> <span class="p">=</span> <span class="s">"RvNuCTMAkURKimwgvSVEMP"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">settlementId</span> <span class="p">+</span> <span class="s">"/reconciliationReport?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/settlements"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">settlementId</span> <span class="o">=</span> <span class="s">"RvNuCTMAkURKimwgvSVEMP"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">settlementId</span> <span class="o">+</span> <span class="s">"/reconciliationReport?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/settlements'</span><span class="p">;</span>
<span class="nv">$settlementId</span> <span class="o">=</span> <span class="s2">"RvNuCTMAkURKimwgvSVEMP"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$settlementId</span> <span class="mf">.</span> <span class="s1">'/reconciliationReport?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/settlements</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">settlement_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">RvNuCTMAkURKimwgvSVEMP</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">settlement_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/reconciliationReport?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/settlements"</span>
<span class="n">settlementId</span> <span class="o">:=</span> <span class="s">"RvNuCTMAkURKimwgvSVEMP"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">settlementId</span> <span class="o">+</span> <span class="s">"/reconciliationReport?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/settlements'</span>
<span class="n">settlement_id</span> <span class="o">=</span> <span class="s">"RvNuCTMAkURKimwgvSVEMP"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">settlement_id</span> <span class="o">+</span> <span class="s">'/reconciliationReport?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span>
                       <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/settlements"</span>
<span class="n">settlement_id</span> <span class="o">=</span> <span class="s2">"RvNuCTMAkURKimwgvSVEMP"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"5T1T5yGDEtFDYe8jEVBSYLHKewPYXZrDLvZxtXBzn69fBbZYitYQYH4BFYFvvaVU7D"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100ef23db87d03ceedaac437d98a57f78788c06535b0462b0a396c2bbdd35b8fa840220418a3e84769e1b714c3b47ccda85d0ac4d1be2531471d00e662cd070588f81ec"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">settlement_id</span> <span class="o">+</span> <span class="s2">"/reconciliationReport?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-settlements-fetch-a-reconciliation-report-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>settlementId</code>
        <div class="param-info">id of the specific settlement resource to be fetched</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">when fetching the reconciliation report for a specific settlement, use the API token linked to the corresponding settlement resource. This token can be retrieved via the endpoint <code>GET https://bitpay.com/settlements/:settlementId</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-settlements-fetch-a-reconciliation-report-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-settlements-fetch-a-reconciliation-report-http-response'>HTTP Response</h5>
<blockquote>
<p>example of reconciliation report</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RvNuCTMAkURKimwgvSVEMP"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payoutInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netherlands"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"iban"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NL85ABNA0000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"swift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RABONL2U"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountHolderCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountHolderCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountHolderPostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountHolderAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountHolderAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountHolderName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wire"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"dateCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-23T20:45:22.742Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-23T20:47:06.912Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T13:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-23T13:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openingBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">23.13</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ledgerEntriesSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">2956.77</span><span class="p">,</span><span class="w">
    </span><span class="nl">"withholdings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">590.08</span><span class="p">,</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"W005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending Refunds"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"withholdingsSum"</span><span class="p">:</span><span class="w"> </span><span class="mf">590.08</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mf">2389.82</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ledgerEntries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T20:16:03.742Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.83</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E1pJQNsHP2oHuMo2fagpe6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T19:24:42.789Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T20:16:03.742Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.06</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E1pJQNsHP2oHuMo2fagpe6"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1017</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account Settlement XGJqZmdSGDwi5exXqQusJf"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T20:19:54.394Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-23.13</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T20:20:25.258Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.84</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PbPTukHvymCZYA8FGDa5wh"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T19:37:52.790Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-01T20:20:25.258Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.06</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PbPTukHvymCZYA8FGDa5wh"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bill 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T13:54:16.656Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GfcuUrvc2TAeCdSzAupbe8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bill 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T12:11:15.760Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T13:54:16.656Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-10.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GfcuUrvc2TAeCdSzAupbe8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bill 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T13:54:16.663Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C3ak5sJD3k15nxTePgVYBv"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bill 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T12:01:44.613Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-02T13:54:16.663Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-10.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C3ak5sJD3k15nxTePgVYBv"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test bill 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-03T10:15:39.714Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1311.81</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5Bfnr8eamNCAYjhVYfzJxs"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test bill 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-03T09:22:55.518Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-03T10:15:39.714Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-13.12</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5Bfnr8eamNCAYjhVYfzJxs"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test bill"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-06T13:41:58.036Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RMUkvBHVQnr9wLDHgD646u"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test bill"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-06T13:24:43.826Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-06T13:41:58.036Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-10.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RMUkvBHVQnr9wLDHgD646u"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1020</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Refund"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-07T08:34:49.842Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1010.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RMUkvBHVQnr9wLDHgD646u"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test bill"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-06T13:24:43.826Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"refundInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"supportRequest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cw4dQ1wnEaL11EkfLrBQAC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amounts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1010.1</span><span class="p">,</span><span class="w">
              </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.145439</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1039</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Refund Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-07T08:34:49.842Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.92</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-07T10:06:35.804Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LWgqvm3CH47psfgy83DvLX"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-07T09:14:09.106Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-07T10:06:35.804Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.06</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LWgqvm3CH47psfgy83DvLX"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-08T12:52:29.384Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.43</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"932QfiTCd4ALwaLfqxH5ae"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-08T12:40:00.622Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.96</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-08T12:52:29.384Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.03</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"932QfiTCd4ALwaLfqxH5ae"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-09T13:04:49.607Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-340.19</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:14:25.311Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.06</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:15:09.605Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.33</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:15:18.557Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.06</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1034</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayoutRequest TDZZuBiqnsNnLjaX93ydcb"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:17:01.081Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1040</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payout Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:17:01.081Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.01</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:17:21.617Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.11</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:17:30.296Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.29</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-13T14:29:52.473Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-1.09</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1034</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayoutRequest BhKWi3WPSoGmCQfvvzfV9B"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T10:34:39.372Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-3000</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1040</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payout Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T10:34:39.372Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-30</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T10:34:39.434Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">69.78</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:13:38.374Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">582.49</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WxY7d2qUzJawZTTqpXUHov"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T10:32:11.015Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BGN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:13:38.374Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-5.82</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WxY7d2qUzJawZTTqpXUHov"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:22:12.577Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76ZQGxLuKwKJ5vBMvjdAbh"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T10:37:06.348Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:22:12.577Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-30</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76ZQGxLuKwKJ5vBMvjdAbh"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1034</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PayoutRequest NkdbgovhHE8CED1ogUJ9Yg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:45:08.017Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-4502</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1040</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payout Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:45:08.017Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-45.02</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1011</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:45:08.073Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.35</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T13:10:18.890Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSPnAH9L5yDWUFNYTGDJmi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test invoice"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T11:58:30.028Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-14T13:10:18.890Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-30</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSPnAH9L5yDWUFNYTGDJmi"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iphone-Order 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-16T13:32:23.205Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WwCouQindnn6TYW9PvRMSU"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iphone-Order 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-16T12:01:32.513Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payoutPercentage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-16T13:32:23.205Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WwCouQindnn6TYW9PvRMSU"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-settlements-fetch-a-reconciliation-report-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>facade</code>
        <div class="param-info">Facade used to view settlement objects, set to <code>"merchant/settlement"</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Settlement data object.</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">String identifying the settlement; this id will also be in the description of the corresponding bank settlement.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>accountId</code>
        <div class="param-info">String identifying the BitPay merchant. For internal use, this field can be ignored in merchant implementations.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Status of the settlement. Possible statuses are "new", "processing", "rejected" and "completed".</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the settlement. Supported settlement currencies are listed on https://bitpay.com/docs/settlement</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>payoutInfo</code>
        <div class="param-info">Object containing the settlement info provided by the Merchant in his <a href="../dashboard/settings/settlement.html" target="_blank">BitPay account settings</a></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>label</code>
        <div class="param-info">As indicated by the merchant in his settlement settings</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankCountry</code>
        <div class="param-info">Country where the merchant's bank account is located</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>name</code>
        <div class="param-info">account holder name</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>routing</code>
        <div class="param-info">for merchants receiving USD settlements via local ACH, this field contains the ABA provided by the merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bank</code>
        <div class="param-info">Name of the bank used by the merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>swift</code>
        <div class="param-info">SWIFT/BIC code of the merchant's bank.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>address</code>
        <div class="param-info">This field is used to indicate the wallet address used for the settlement, if the settlement currency selected by the merchant is one of the supported crypto currency: Bitcoin (BTC), Bitcoin Cash (BCH), Paxos Standard (PAX), Gemini Dollar (GUSD), Circle USD coin (USDC), Binance USD (BUSD) or Ripple (XRP). If the settlement currency used is AUD, GBP, NZD, MXN, ZAR - this field is used to indicate the address of the merchant's bank</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>city</code>
        <div class="param-info">City of the merchant bank, field return if the settlement currency is</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>postal</code>
        <div class="param-info">Postal code of the merchant bank, field return if the settlement currency is</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>account</code>
        <div class="param-info">Bank account number of the merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>merchantEIN</code>
        <div class="param-info">for merchants receiving USD settlements via local ACH, this field contains the merchant's EIN</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>sort</code>
        <div class="param-info">used to pass country specific bank fields: BSB for AUD</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>wire</code>
        <div class="param-info">If set to true, this means BitPay will be settling the account using an international transfer via the SWIFT network instead of local settlement methods like ACH(United States) or SEPA (European Economic Area)</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankName</code>
        <div class="param-info">Name of the bank used by the merchant. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankAddress</code>
        <div class="param-info">Address of the merchant's bank. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>bankAddress2</code>
        <div class="param-info">Address of the merchant's bank. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>iban</code>
        <div class="param-info">The merchant's bank account number, in the IBAN (International Bank Account Number) format. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>additionalInformation</code>
        <div class="param-info">When providing the settlement info via the dashboard, this field can be used by the merchant to provide additional information about the receiving bank. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderName</code>
        <div class="param-info">Bank account holder name. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderAddress</code>
        <div class="param-info">Bank account holder address. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderAddress2</code>
        <div class="param-info">Bank account holder address. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderPostalCode</code>
        <div class="param-info">Bank account holder postal code. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderCity</code>
        <div class="param-info">Bank account holder city. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>accountHolderCountry</code>
        <div class="param-info">Bank account holder country. Field returned if <code>"wire": true</code> in the <code>"payoutInfo"</code> object</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dateCreated</code>
        <div class="param-info">timestamp when the settlement was created. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dateExecuted</code>
        <div class="param-info">timestamp when the settlement was executed. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>openingDate</code>
        <div class="param-info">corresponds to the <code>closingDate</code> of the previous settlement executed. For the first settlement of an account the value will be the BitPay merchant account creation date. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>closingDate</code>
        <div class="param-info">Date & time for last ledger entry used for the settlement. UTC date, ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>date</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>openingBalance</code>
        <div class="param-info">Balance of the ledger at the <code>openingDate</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>ledgerEntriesSum</code>
        <div class="param-info">Sum of all ledger entries in the settlement, this means all the debits & credits which happened betwee <code>openingDate</code> and <code>closingDate</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>withholdings</code>
        <div class="param-info">array of withholdings. Withholdings are kept on the ledger to be used later and thus withheld from this settlement. Each withholding is a JSON object containing a code, amount and description field. The possible withholding codes are:
        <p>
          <ul>
            <li><b>W001</b>  - Refund Reserve: a merchant can set a refund reserve for his account. This code indicate the current amount in the reserve at the moment the settlement is generated.</li>
            <li><b>W002</b> - Settlement Fee: in case BitPay is charging the bank fees to the merchant, via a SWIFT wire for instance, will be posted to the ledger when the settlementReport goes into status ‘processing’. This code is not used for SEPA or ACH transfers</li>
            <li><b>W003</b> - Liquidity Withholding : Used when BitPay's balance at the specific settlement bank is unsufficient to payout the full amount today</li>
            <li><b>W004</b> - Insufficient Balance : in the event a case the ledger balance of the merchant drops after the settlement cut-off, the settlement amount will be adjusted.</li>
            <li><b>W005</b> - Pending Refunds : in order to make sure enough funds are left on the account to execute pending refund requests.</li>
          </ul>
        </p>
        </div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>withholdingsSum</code>
        <div class="param-info">Sum of all amounts that are withheld from the settlement</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>totalAmount</code>
        <div class="param-info">total amount sent to the merchant; 2 decimals. 
          <p><code>totalAmount</code> = <code>openingBalance</code> + <code>legderEntriesSum</code> - <code>withholdingsSum</code></p>
        </div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token for the corresponding settlement resource. This token is actually derived from the merchant facade token used during the query. This token is required to fetch the reconciliation report</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>ledgerEntries</code>
        <div class="param-info">Array of ledger entries listing the various debits and credits which are settled in the report. The total sum of all ledger entries is reported in the field <code>ledgerEntriesSum</code>. A description of all ledger codes can be found </div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
  </tbody>
</table>

<table class="table">
    <tbody>
    <tr>
      <th rowspan="2">Name</th>
      <th rowspan="2">Type</th>
      <th colspan="12">Ledger Codes</th>
    </tr>
    <tr>
      <td>1000</td>
      <td>1006</td>
      <td>1011</td>
      <td>1017</td>
      <td>1020</td>
      <td>1022</td>
      <td>1023</td>
      <td>1025</td>
      <td>1030</td>
      <td>1034</td>
      <td>1039</td>
      <td>1040</td>
    </tr>
    <tr>
      <td>
        <code>code</code>
        <div class="param-info">Contains the Ledger entry code</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>timestamp</code>
        <div class="param-info">Date and time of the ledger entry (UTC). ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>amount</code>
        <div class="param-info">Amount for the ledger entry. Can be positive of negative depending on the type of entry (debit or credit)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>description</code>
        <div class="param-info">Ledger entry description. This field often contains an <code>id</code> depending on the type of entry (for instance payout batch <code>id</code>, settlement <code>id</code>, invoice <code>orderId</code> etc...)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>invoiceId</code>
        <div class="param-info">BitPay invoice Id</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>invoiceData</code>
        <div class="param-info">Object containing relevant information from the paid invoice</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>orderId</code>
        <div class="param-info">Invoice <code>orderId</code> provided during invoice creation.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>date</code>
        <div class="param-info">Date at which the invoice was created (UTC). ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>price</code>
        <div class="param-info">Invoice price in the invoice original <code>currency</code></div>
      </td>
      <td>
        <code>amount</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">Invoice currency</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>transactionCurrency</code>
        <div class="param-info">Cryptocurrency selected by the consumer when paying the invoice.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>payoutPercentage</code>
        <div class="param-info">The payout percentage defined by the merchant on his <a href="../dashboard/settings/settlement.html" target="_blank">BitPay account settings</a></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>refundInfo</code>
        <div class="param-info">Object containing information about the refund executed for the invoice</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>supportRequest</code>
        <div class="param-info">The refund <code>requestId</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>currency</code>
        <div class="param-info">Reference currency used for the refund, usually the same as the currency used to create the invoice</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td> 
    </tr>
    <tr>
      <td class="childchild">
        <code>amounts</code>
        <div class="param-info">For a refunded invoice, this object will contain the crypto currency amount refunded by BitPay to the consumer (in the selected <code>transactionCurrency</code>) and the equivalent refunded amount from the invoice in the given <code>currency</code> (thus linked to the amount debited from the merchant account to cover the refund)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-ledgers'>Ledgers</h3>
<p>Ledgers are records of money movement.</p>
<h4 id='rest-api-resources-ledgers-retrieve-account-balances'>Retrieve account balances</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/ledgers</h6>
    </div>
</div>
<h5 id='rest-api-resources-ledgers-retrieve-account-balances-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-ledgers-retrieve-account-balances-http-request'>HTTP Request</h5>
<blockquote>
<p>Fetching a ledger entries via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/ledgers?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/ledgers"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/ledgers"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/ledgers'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/ledgers</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/ledgers"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>

    <span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/ledgers'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/ledgers"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100aebd185f939e781d82995b17f8e2dbfebfacad117fb176206d15d55c9643e06d0220528606c62162bd36915e058bf713771719de6c6d9b7f787234aa7db90355fcdf"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-ledgers-retrieve-account-balances-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">when fetching ledger entries, pass a merchant facade token as a URL parameter.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-ledgers-retrieve-account-balances-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-ledgers-retrieve-account-balances-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of ledger balances</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">2389.82</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000287</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-ledgers-retrieve-account-balances-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Array of objects indicating the balance for each currency</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">Ledger currency</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>balance</code>
        <div class="param-info">Ledger balance in the corresponding currency</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-ledgers-retrieve-ledger-entries'>Retrieve ledger entries</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/ledgers/:currency</h6>
    </div>
</div>
<h5 id='rest-api-resources-ledgers-retrieve-ledger-entries-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-ledgers-retrieve-ledger-entries-http-request'>HTTP Request</h5>
<blockquote>
<p>Fetching a ledger entries via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/ledgers/EUR?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY&amp;startDate=2021-5-10&amp;endDate=2021-5-31"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/ledgers/EUR"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">startDate</span> <span class="p">=</span> <span class="s">"2021-5-10"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">endDate</span> <span class="p">=</span> <span class="s">"2021-5-31"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span>
    <span class="n">resourceUrl</span> <span class="p">+</span>
    <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span>
    <span class="s">"&amp;startDate="</span> <span class="p">+</span> <span class="n">startDate</span> <span class="p">+</span>
    <span class="s">"&amp;endDate="</span> <span class="p">+</span> <span class="n">endDate</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/ledgers/EUR"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">startDate</span> <span class="o">=</span> <span class="s">"2021-5-10"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">endDate</span> <span class="o">=</span> <span class="s">"2021-5-31"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span>
           <span class="n">resourceUrl</span> <span class="o">+</span>
           <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
           <span class="s">"&amp;startDate="</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
           <span class="s">"&amp;endDate="</span> <span class="o">+</span> <span class="n">endDate</span>
   <span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/ledgers/EUR'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>
<span class="nv">$startDate</span> <span class="o">=</span> <span class="s1">'2021-5-10'</span><span class="p">;</span>
<span class="nv">$endDate</span> <span class="o">=</span> <span class="s1">'2021-5-31'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span>
   <span class="nv">$resourceUrl</span> <span class="mf">.</span>
   <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span>
   <span class="s1">'&amp;startDate='</span> <span class="mf">.</span> <span class="nv">$startDate</span> <span class="mf">.</span>
   <span class="s1">'&amp;endDate='</span> <span class="mf">.</span> <span class="nv">$endDate</span>
<span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/ledgers/EUR</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">startDate</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2021-5-10</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">endDate</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2021-5-31</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;startDate=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">startDate</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;endDate=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">endDate</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/ledgers/EUR"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">startDate</span> <span class="o">:=</span> <span class="s">"2021-5-10"</span>
<span class="n">endDate</span> <span class="o">:=</span> <span class="s">"2021-5-31"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span>
   <span class="n">resourceUrl</span> <span class="o">+</span>
   <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">"&amp;startDate="</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
   <span class="s">"&amp;endDate="</span> <span class="o">+</span> <span class="n">endDate</span><span class="p">,</span>
   <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/ledgers/EUR'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">startDate</span> <span class="o">=</span> <span class="s">'2021-5-10'</span>
<span class="n">endDate</span> <span class="o">=</span> <span class="s">'2021-5-31'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">'&amp;startDate='</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
   <span class="s">'&amp;endDate='</span> <span class="o">+</span> <span class="n">endDate</span><span class="p">,</span>
   <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/ledgers/EUR"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">startDate</span> <span class="o">=</span> <span class="s2">"2021-5-10"</span>
<span class="n">endDate</span> <span class="o">=</span> <span class="s2">"2021-5-31"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304402205f299b2699ffb3a09055251ef85c0044dea2cfbcd6f6492793aa18f906bcf48502202be49cecd5a5abc9d4edded7e0569845d0395ccb9b459f1697691eefcdaccadd"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s2">"&amp;startDate="</span> <span class="o">+</span> <span class="n">startDate</span> <span class="o">+</span>
   <span class="s2">"&amp;endDate="</span> <span class="o">+</span> <span class="n">endDate</span>
<span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-ledgers-retrieve-ledger-entries-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code for your merchant account</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">When fetching ledger entries, pass a merchant facade token as a URL parameter</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>&startDate=</code>
        <div class="param-info">The start date for fetching ledger entries. Format <code>YYYY-MM-DD</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>&endDate=</code>
        <div class="param-info">The end date for fetching ledger entries. Format <code>YYYY-MM-DD</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-ledgers-retrieve-ledger-entries-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-ledgers-retrieve-ledger-entries-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of ledger entries</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">823000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210510_fghij"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T20:08:52.919Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sale"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerFields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"buyerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerZip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerNotify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"invoiceAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FR4rgfADCRNmAhtz1Ci4kU"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-8000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1023</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-10T20:08:52.919Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Fee"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerFields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"buyerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerZip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerNotify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"invoiceAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XCkhgHKP2pSme4qszMpM3B"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Refund"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportRequest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SYyrnbRCJ78V1DknHakKPo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-823000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1020</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Refund"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-12T13:00:45.063Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invoice Refund"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerFields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"buyerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerZip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerNotify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"invoiceAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PBqakmWMZ2H3RwhGq9vCsg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-ledgers-retrieve-ledger-entries-http-response-body'>Body</h6>
<p>Some ledger entries have additional specific fields. The table indicates which fields are returned for the main ledger entries.</p>

<table class="table">
    <tbody>
    <tr>
      <th rowspan="2">Name</th>
      <th rowspan="2">Type</th>
      <th colspan="13">Ledger Codes</th>
    </tr>
    <tr>
      <td>1000</td>
      <td>1006</td>
      <td>1011</td>
      <td>1017</td>
      <td>1020</td>
      <td>1022</td>
      <td>1023</td>
      <td>1025</td>
      <td>1030</td>
      <td>1034</td>
      <td>1039</td>
      <td>1040</td>
      <td>1048</td>
    </tr>
    <tr>
      <td>
        <code>type</code>
        <div class="param-info">Contains the Ledger entry name. See the list of <a href="#legder-entry-codes">Ledger Entry Codes</a>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>amount</code>
        <div class="param-info">Ledger entry amount, relative to the scale. The decimal amount can be obtained by dividing the <code>amount</code> field by the <code>scale</code> parameter.</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>code</code>
        <div class="param-info">Contains the Ledger entry code. See the list of <a href="#legder-entry-codes">Ledger Entry Codes</a>.</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>timestamp</code>
        <div class="param-info">Date and time of the ledger entry (UTC). ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>currency</code>
        <div class="param-info">Ledger entry currency for the corresponding <code>amount</code</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>txType</code>
        <div class="param-info">[DEPRECRATED] see <code>type</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>scale</code>
        <div class="param-info">Power of 10 used for conversion</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>id</code>
        <div class="param-info">Ledger resource Id</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>supportRequest</code>
        <div class="param-info">The refund <code>requestId</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>description</code>
        <div class="param-info">Ledger entry description. Also contains an <code>id</code> depending on the type of entry (for instance payout batch <code>id</code>, settlement <code>id</code>, invoice <code>orderId</code> etc...)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>invoiceId</code>
        <div class="param-info">BitPay invoice Id</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>buyerFields</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerName</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerAddress1</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerAddress2</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerCity</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerState</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerZip</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerCountry</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerPhone</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerNotify</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerEmail</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>invoiceAmount</code>
        <div class="param-info">Invoice price in the invoice original currency</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>invoiceCurrency</code>
        <div class="param-info">Currency used for invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td>
        <code>transactionCurrency</code>
        <div class="param-info">Cryptocurrency selected by the consumer when paying an invoice.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
      </td>
      <td>
        ✓
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-recipients'>Recipients</h3>
<p>To create payout requests, merchants will first need to issue email invites using this resource. This is a mandatory step to onboard customers asking for cryptocurrency payouts. </p>

<p>The recipients of the email invites will be invited to create a BitPay personal account, submit a photo of a proof of ID document (Passport, driver&#39;s license, Identity card) and provide the home address in order to be able to submit a cryptocurrency withdrawal address to be used for the payouts.</p>

<aside class="notice">The BitPay personal account is <b>NOT</b> a cryptocurrency wallet, it is a personal account which allows customers to receive cryptocurrency payouts from merchants, make larger purchase or request a refund, but also apply for additional services like the BitPay Prepaid Mastercard card.</aside>
<h4 id='rest-api-resources-recipients-resource'>Resource</h4>
<blockquote>
<p>Example of recipient resource (fetched using the payroll facade)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/recipient"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="s2">"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"invited"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2LVBntm7z92rnuVjVX5ZVaDoUEaoY4LxhZMMzPAMGyXcejgPXVmZ4Ae3oGaCGBFKQf"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The Recipients resource allows a merchant to invite his clients to signup for a BitPay personal account. </p>

<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>facade</code>
        <div class="param-info">When the <code>payroll</code> facade is used, the BitPay server returns the recipient data as seen from the payroll facade, that is <code>"payroll/recipient"</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Recipient data object.</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>email</code>
        <div class="param-info">Recipient email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>notificationURL</code>
        <div class="param-info">URL to which BitPay sends webhook notifications to inform the merchant about the status of a given recipient. HTTPS is mandatory.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>label</code>
        <div class="param-info">For merchant use, pass through - could be customer name or unique reference.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Recipient status, can have the following values:
        <p>
          <ul>
            <li><code>"invited"</code></li>
            <li><code>"unverified"</code></li>
            <li><code>"verified"</code></li>
            <li><code>"active"</code></li>
            <li><code>"paused"</code></li>
            <li><code>"removed"</code></li>
          </ul>
        </p>
      </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">Unique recipient <code>id</code> assigned by BitPay for a given customer <code>email</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>shopperId</code>
        <div class="param-info">
          <p>This is a unique id assigned by BitPay if a customer signed up for a BitPay ID and used it to log in on a BitPay invoice generated by the merchant before paying it. If not, this id will only be created once the customer becomes a <code>"verified"</code> recipient as part of the payout onboarding.</p>
          <p><b>Note:</b> The same field would also be available on paid invoices if the customer signed in with his BitPay ID before completing the payment. This can allow merchants to monitor the activity of a customer (deposits & payouts).</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">Resource token. This token is derived from the API token initially used to create the recipient and is tied to the specific resource id created.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-recipients-invite-a-recipient'>Invite a Recipient</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/recipients</h6>
    </div>
</div>

<aside class="notice">Please note:
  <ul>
    <li>For merchants who need to invite multiple recipients in a short period of time, make sure to send batch of invites e.g. use this endpoint to invite an array <code>[]</code> of recipients (up to 1000 in a single API call)</li>
    <li>By default a merchant can invite a maximum of 1000 distinct recipients via the business account, reach out to your account manager at BitPay in order to increase this limit.</li>
  </ul>
</aside>
<h5 id='rest-api-resources-recipients-invite-a-recipient-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-recipients-invite-a-recipient-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> 
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature:3046022100ae583a406a1f9325945a7fbaec009c9e83157e42af74536c87b8107d7d935b0a022100d55f7b0f532470deb2945aebfff30e6b5c15a29eaaa9c75f099c0fa7325ad9f3"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/recipients"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"recipients":[{
"email":"alice@email.com",
"notificationURL":"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx",
"label":"Alice"
},
{
"email":"bob@email.com",
"notificationURL":"https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx",
"label":"Bob"
}],
"token":"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100881584e8628e94e62ca5101c8ebe13ab360ab2905b032715ba31cb340f75e3ac02202d0bcab4efcee2dd55c60417881f8a1dbabc0acea403e5cc184c08ee3b9b20cc"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                <span class="s">"\"recipients\":["</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"email\":\"alice@email.com\","</span> <span class="p">+</span>
                        <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx\","</span> <span class="p">+</span>
                        <span class="s">"\"label\":\"Alice\""</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"email\":\"bob@email.com\","</span> <span class="p">+</span>
                        <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx\","</span> <span class="p">+</span>
                        <span class="s">"\"label\":\"Bob\""</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                <span class="s">"],"</span> <span class="p">+</span>
                <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>

    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="o">;</span>

<span class="n">string</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                <span class="s">"\"recipients\":["</span> <span class="o">+</span>
                    <span class="s">"{"</span> <span class="o">+</span>
                        <span class="s">"\"email\":\"alice@email.com\","</span> <span class="o">+</span>
                        <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx\","</span> <span class="o">+</span>
                        <span class="s">"\"label\":\"Alice\""</span> <span class="o">+</span>
                    <span class="s">"},"</span> <span class="o">+</span>
                    <span class="s">"{"</span> <span class="o">+</span>
                        <span class="s">"\"email\":\"bob@email.com\","</span> <span class="o">+</span>
                        <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx\","</span> <span class="o">+</span>
                        <span class="s">"\"label\":\"Bob\""</span> <span class="o">+</span>
                    <span class="s">"},"</span> <span class="o">+</span>
                <span class="s">"],"</span> <span class="o">+</span>
                <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="o">+</span>
              <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100881584e8628e94e62ca5101c8ebe13ab360ab2905b032715ba31cb340f75e3ac02202d0bcab4efcee2dd55c60417881f8a1dbabc0acea403e5cc184c08ee3b9b20cc"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/recipients'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'recipients'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="p">[</span>
           <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'alice@email.com'</span><span class="p">,</span>
           <span class="s1">'notificationURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx'</span><span class="p">,</span>
           <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Alice'</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'bob@email.com'</span><span class="p">,</span>
           <span class="s1">'notificationURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx'</span><span class="p">,</span>
           <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Bob'</span>
       <span class="p">]</span>
   <span class="p">],</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature:3046022100ae583a406a1f9325945a7fbaec009c9e83157e42af74536c87b8107d7d935b0a022100d55f7b0f532470deb2945aebfff30e6b5c15a29eaaa9c75f099c0fa7325ad9f3'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/recipients</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">recipients</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">alice@email.com</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">notificationURL</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Alice</span><span class="dl">"</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bob@email.com</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">notificationURL</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bob</span><span class="dl">"</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100881584e8628e94e62ca5101c8ebe13ab360ab2905b032715ba31cb340f75e3ac02202d0bcab4efcee2dd55c60417881f8a1dbabc0acea403e5cc184c08ee3b9b20cc</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/recipients"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "recipients": [
      {
         "email": "alice@email.com",
         "notificationURL": "https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx",
         "label": "Alice"
      },
      {
         "email": "bob@email.com",
         "notificationURL": "https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx",
         "label": "Bob"
      }
   ],
   "token": "3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100881584e8628e94e62ca5101c8ebe13ab360ab2905b032715ba31cb340f75e3ac02202d0bcab4efcee2dd55c60417881f8a1dbabc0acea403e5cc184c08ee3b9b20cc"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/recipients'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"recipients"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s">"email"</span><span class="p">:</span> <span class="s">"alice@email.com"</span><span class="p">,</span>
           <span class="s">"notificationURL"</span><span class="p">:</span> <span class="s">"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx"</span><span class="p">,</span>
           <span class="s">"label"</span><span class="p">:</span> <span class="s">"Alice"</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s">"email"</span><span class="p">:</span> <span class="s">"bob@email.com"</span><span class="p">,</span>
           <span class="s">"notificationURL"</span><span class="p">:</span> <span class="s">"https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx"</span><span class="p">,</span>
           <span class="s">"label"</span><span class="p">:</span> <span class="s">"Bob"</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="s">"token"</span><span class="p">:</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100881584e8628e94e62ca5101c8ebe13ab360ab2905b032715ba31cb340f75e3ac02202d0bcab4efcee2dd55c60417881f8a1dbabc0acea403e5cc184c08ee3b9b20cc'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/recipients"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"recipients"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"alice@email.com"</span><span class="p">,</span>
           <span class="s2">"notificationURL"</span><span class="p">:</span> <span class="s2">"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx"</span><span class="p">,</span>
           <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"Alice"</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"bob@email.com"</span><span class="p">,</span>
           <span class="s2">"notificationURL"</span><span class="p">:</span> <span class="s2">"https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx"</span><span class="p">,</span>
           <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"Bob"</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100881584e8628e94e62ca5101c8ebe13ab360ab2905b032715ba31cb340f75e3ac02202d0bcab4efcee2dd55c60417881f8a1dbabc0acea403e5cc184c08ee3b9b20cc"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-recipients-invite-a-recipient-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-recipients-invite-a-recipient-http-request-body'>Body</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>recipient</code>
        <div class="param-info">array of JSON objects made of the following parameters. Merchants can invite several recipients in one batch call.</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>email</code>
        <div class="param-info">Recipient email address to which the invite shall be sent.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>label</code>
        <div class="param-info">For merchant use, pass through - could be customer name or unique reference.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>notificationURL</code>
        <div class="param-info">URL to which BitPay sends webhook notifications to inform the merchant about the status of a given recipient. HTTPS is mandatory.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">Approved <code>payroll</code> facade token passed in the body of the request. The section <a href="#rest-api-resources-tokens-request-an-api-token">Request an API token</a>) explains how to obtain a payroll facade token.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-recipients-invite-a-recipient-http-response'>HTTP Response</h5>
<blockquote>
<p>For Recipients created via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/recipient"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invited"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2LVBntm7z92rnuVjVX5ZVaDoUEaoY4LxhZMMzPAMGyXcejgPXVmZ4Ae3oGaCGBFKQf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invited"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2LVBntm7z92rnuVjVX5ZVaDoUEaoY4LxhZMMzPAMGyXrrBAB9vRY3BVxGLbAa6uEx7"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the recipient object returned in the response you will get from the BitPay server. A description of all recipient fields is available in the <a href="#rest-api-resources-recipients-resource">resource</a> section.</p>
<h4 id='rest-api-resources-recipients-retrieve-a-recipient'>Retrieve a recipient</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/recipients/:recipientId</h6>
    </div>
</div>
<h5 id='rest-api-resources-recipients-retrieve-a-recipient-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-recipients-retrieve-a-recipient-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3046022100c0a7e8b07b0f561f71889576aa64528bdfdecddd3ed61b5f0622da586c9809e9022100e1bcb62cb3c694383baa017cfb08d3f016991aeaea519e0f69cef6b2c13211db"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/recipients/JA4cEtmBxCp5cybtnh1rds?token=3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span> <span class="se">\</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="p">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">recipientId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3044022000f91c108c48a867bdd86bb2f3c3553d16342cbc9bf54d7987cfd5f4de1bce6f0220684e90ff57b2b88079f976c65184ae5cf0fceacbcdd05d1e498d02f79dcc00b2"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="o">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3044022000f91c108c48a867bdd86bb2f3c3553d16342cbc9bf54d7987cfd5f4de1bce6f0220684e90ff57b2b88079f976c65184ae5cf0fceacbcdd05d1e498d02f79dcc00b2"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/recipients'</span><span class="p">;</span>
<span class="nv">$recipientId</span> <span class="o">=</span> <span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$recipientId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3044022000f91c108c48a867bdd86bb2f3c3553d16342cbc9bf54d7987cfd5f4de1bce6f0220684e90ff57b2b88079f976c65184ae5cf0fceacbcdd05d1e498d02f79dcc00b2'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/recipients</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">recipientId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">JA4cEtmBxCp5cybtnh1rds</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3044022000f91c108c48a867bdd86bb2f3c3553d16342cbc9bf54d7987cfd5f4de1bce6f0220684e90ff57b2b88079f976c65184ae5cf0fceacbcdd05d1e498d02f79dcc00b2</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">recipientId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/recipients"</span>
<span class="n">recipientId</span> <span class="o">:=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3044022000f91c108c48a867bdd86bb2f3c3553d16342cbc9bf54d7987cfd5f4de1bce6f0220684e90ff57b2b88079f976c65184ae5cf0fceacbcdd05d1e498d02f79dcc00b2"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/recipients'</span>
<span class="n">recipientId</span> <span class="o">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3044022000f91c108c48a867bdd86bb2f3c3553d16342cbc9bf54d7987cfd5f4de1bce6f0220684e90ff57b2b88079f976c65184ae5cf0fceacbcdd05d1e498d02f79dcc00b2'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/recipients"</span>
<span class="n">recipientId</span> <span class="o">=</span> <span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3044022000f91c108c48a867bdd86bb2f3c3553d16342cbc9bf54d7987cfd5f4de1bce6f0220684e90ff57b2b88079f976c65184ae5cf0fceacbcdd05d1e498d02f79dcc00b2"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-recipients-retrieve-a-recipient-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">Approved <code>payroll</code> facade token (you can reuse payroll token previously approved) passed as a URL parameter.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="madatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-recipients-retrieve-a-recipient-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-recipients-retrieve-a-recipient-http-response'>HTTP Response</h5>
<blockquote>
<p>For recipients fetched via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/recipient"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.smith@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invited"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2LVBntm7z92rnuVjVX5ZVaDoUEaoY4LxhZMMzPAMGyXcejgPXVmZ4Ae3oGaCGBFKQf"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the recipient object returned in the response you will get from the BitPay server. A description of all recipient fields is available in the <a href="#rest-api-resources-recipients-resource">resource</a> section.</p>
<h4 id='rest-api-resources-recipients-update-a-recipient'>Update a recipient</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PUT</i>
        <h6>https://bitpay.com/recipients/:recipientId</h6>
    </div>
</div>
<h5 id='rest-api-resources-recipients-update-a-recipient-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-recipients-update-a-recipient-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/recipients/X3icwc4tE8KJ5hEPNPpDXW"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"label":"Bob123",
"notificationURL":"https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7",
"token":"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/recipients'</span><span class="p">;</span>
<span class="nv">$recipientId</span> <span class="o">=</span> <span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Bob123'</span><span class="p">,</span>
   <span class="s1">'notificationURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7'</span><span class="p">,</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$recipientId</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'PUT'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="p">=</span> <span class="s">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">recipientId</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"PUT"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                  <span class="s">"\"label\":\"Bob123\","</span> <span class="p">+</span>
                  <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7\","</span> <span class="p">+</span>
                  <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="o">=</span> <span class="s">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                 <span class="s">"\"label\":\"Bob123\","</span> <span class="o">+</span>
                 <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7\","</span> <span class="o">+</span>
                 <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="o">+</span>
           <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span><span class="o">))</span>
   <span class="o">.</span><span class="na">PUT</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/recipients</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">recipientId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">X3icwc4tE8KJ5hEPNPpDXW</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bob123</span><span class="dl">"</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">recipientId</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/recipients"</span>
<span class="n">recipientId</span> <span class="o">:=</span> <span class="s">"X3icwc4tE8KJ5hEPNPpDXW"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "label": "Bob123",
   "notificationURL": "https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7",
   "token": "3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/recipients'</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s">"X3icwc4tE8KJ5hEPNPpDXW"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'label'</span><span class="p">:</span> <span class="s">'Bob123'</span><span class="p">,</span>
   <span class="s">'notificationURL'</span><span class="p">:</span> <span class="s">'https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7'</span><span class="p">,</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">bill_id</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/recipients"</span>
<span class="n">recipientId</span> <span class="o">=</span> <span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"Bob123"</span><span class="p">,</span>
   <span class="s2">"notificationURL"</span><span class="p">:</span> <span class="s2">"https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7"</span><span class="p">,</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304402205725d948ebbc7af00c5132fbb9b959a90c67c4eae4549a75f481691cc0fd89a102206ebf3b4c055c75878dda498c478f146aed75b5a4e14106948d6bf9c3fe840223"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">recipientId</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Put</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-recipients-update-a-recipient-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for requests to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for requests to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-recipients-update-a-recipient-http-request-body'>Body</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>label</code>
        <div class="param-info">For merchant use, pass through - could be customer name or unique reference.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>notificationURL</code>
        <div class="param-info">URL to which BitPay sends webhook notifications to inform the merchant about the status of a given recipient. HTTPS is mandatory.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">Approved <code>payroll</code> facade token (you can reuse payroll token previously approved) passed as a URL parameter.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-recipients-update-a-recipient-http-response'>HTTP Response</h5>
<blockquote>
<p>For Recipients created via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/recipient"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/XrrBAB9vRY3BVxGLbAa6uEx7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invited"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2LVBntm7z92rnuVjVX5ZVaDoUEaoY4LxhZMMzPAMGyXrrBAB9vRY3BVxGLbAa6uEx7"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the recipient object returned in the response you will get from the BitPay server. A description of all recipient fields is available in the <a href="#rest-api-resources-recipients-resource">resource</a> section.</p>
<h4 id='rest-api-resources-recipients-remove-a-recipient'>Remove a recipient</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">DELETE</i>
        <h6>https://bitpay.com/recipients/:recipientId</h6>
    </div>
</div>
<h5 id='rest-api-resources-recipients-remove-a-recipient-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-recipients-remove-a-recipient-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> DELETE <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/recipients/X3icwc4tE8KJ5hEPNPpDXW?token=3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="p">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">recipientId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"DELETE"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="o">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
       <span class="o">.</span><span class="na">DELETE</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/recipients'</span><span class="p">;</span>
<span class="nv">$recipientId</span> <span class="o">=</span> <span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$recipientId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'DELETE'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/recipients</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">recipientId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">JA4cEtmBxCp5cybtnh1rds</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">recipientId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/recipients"</span>
<span class="n">recipientId</span> <span class="o">:=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/recipients'</span>
<span class="n">recipientId</span> <span class="o">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/recipients"</span>
<span class="n">recipientId</span> <span class="o">=</span> <span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100abcb81e8b272cf41557397ecb7040b4187bebb47c30ac01d794dd888f948f62b02207baf1b10a84b46558bb4b8ce9c23b4f8c526754261c3916462274b10d7e6bb5f"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-recipients-remove-a-recipient-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">Approved <code>payroll</code> facade token (you can reuse payroll token previously approved) passed as a URL parameter.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="madatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-recipients-remove-a-recipient-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-recipients-remove-a-recipient-http-response'>HTTP Response</h5>
<blockquote>
<p>Example response when a recipient is successfully removed</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-recipients-remove-a-recipient-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>success</code>
        <div class="param-info">set to <code>true</code> once a recipient has been successfully removed</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-recipients-retrieve-recipients-by-status'>Retrieve recipients by status</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/recipients</h6>
    </div>
</div>
<h5 id='rest-api-resources-recipients-retrieve-recipients-by-status-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-recipients-retrieve-recipients-by-status-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/recipients?token=3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU&amp;status=invited"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="p">=</span> <span class="s">"new"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span>
    <span class="n">resourceUrl</span> <span class="p">+</span>
    <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span>
    <span class="s">"&amp;status="</span> <span class="p">+</span> <span class="n">status</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="o">=</span> <span class="s">"new"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span>
           <span class="n">resourceUrl</span> <span class="o">+</span>
           <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
           <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
   <span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/recipients'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">;</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="s1">'new'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span>
   <span class="nv">$resourceUrl</span> <span class="mf">.</span>
   <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span>
   <span class="s1">'&amp;status='</span> <span class="mf">.</span> <span class="nv">$status</span>
<span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/recipients</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">new</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;status=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">status</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/recipients"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="n">status</span> <span class="o">:=</span> <span class="s">"new"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span>
   <span class="n">resourceUrl</span> <span class="o">+</span>
   <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/recipients'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="n">status</span> <span class="o">=</span> <span class="s">'new'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">'&amp;status='</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/recipients"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="n">status</span> <span class="o">=</span> <span class="s2">"new"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"30440220736f0ccd6db7c48daced3dd12b2ba0824f788bededc8b2404714adfd225834ab0220288ae00149f20f7fef4f001073b5c1c19291056d7b2e28919157ca520cbedb8a"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s2">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
<span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-recipients-retrieve-recipients-by-status-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">Approved <code>payroll</code> facade token (you can reuse payroll token previously approved) passed as a URL parameter.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="madatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>&status=</code>
        <div class="param-info">the recipient status you want to query on</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>&limit=</code>
        <div class="param-info">maximum results that the query will return (useful for paging results)</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>&offset=</code>
        <div class="param-info">number of results to offset (ex. skip 10 will give you results starting with the 11th result)</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-recipients-retrieve-recipients-by-status-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-recipients-retrieve-recipients-by-status-http-response'>HTTP Response</h5>
<blockquote>
<p>For recipients fetched via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/recipient"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/b3sarz5bg0wx01eq1bv9785amx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invited"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2LVBntm7z92rnuVjVX5ZVaDoUEaoY4LxhZMMzPAMGyXcejgPXVmZ4Ae3oGaCGBFKQf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/01eq1bv9783sarb0wxz5bg5amx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invited"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2LVBntm7z92rnuVjVX5ZVaDoUEaoY4LxhZMMzPAMGyXrrBAB9vRY3BVxGLbAa6uEx7"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the recipient object returned in the response you will get from the BitPay server. A description of all recipient fields is available in the <a href="#rest-api-resources-recipients-resource">resource</a> section.</p>
<h4 id='rest-api-resources-recipients-request-a-webhook-to-be-resent'>Request a webhook to be resent</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/recipients/:recipientId/notifications</h6>
    </div>
</div>
<h5 id='rest-api-resources-recipients-request-a-webhook-to-be-resent-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-recipients-request-a-webhook-to-be-resent-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/recipients/JA4cEtmBxCp5cybtnh1rds/notifications"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"token":"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="p">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">recipientId</span> <span class="p">+</span> <span class="s">"/notifications"</span><span class="p">);</span>

<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>

    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/recipients"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">recipientId</span> <span class="o">=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
               <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="o">+</span>
             <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">"/notifications"</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/recipients'</span><span class="p">;</span>
<span class="nv">$recipientId</span> <span class="o">=</span> <span class="s1">'JA4cEtmBxCp5cybtnh1rds'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$recipientId</span> <span class="mf">.</span> <span class="s1">'/notifications'</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/recipients</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">invoice_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">JA4cEtmBxCp5cybtnh1rds</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">invoice_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/notifications</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/recipients"</span>
<span class="n">recipientId</span> <span class="o">:=</span> <span class="s">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "token": "3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">recipientId</span> <span class="o">+</span> <span class="s">"/notifications"</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/recipients'</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s">'JA4cEtmBxCp5cybtnh1rds'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s">'/notifications'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span>
                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/recipients"</span>
<span class="n">invoice_id</span> <span class="o">=</span> <span class="s2">"JA4cEtmBxCp5cybtnh1rds"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3044022047b1d8ad684b3605deb9dd610fe46e4410ee1c450c13277ce9e3b19a048f60e502204addbea8683db9da232b83edf095b592486e872ed22849a74e5c4fd32671713b"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">invoice_id</span> <span class="o">+</span> <span class="s2">"/notifications"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-recipients-request-a-webhook-to-be-resent-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>recipientId</code>
        <div class="param-info">The id of the recipient for which you want the last webhook to be resent.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-recipients-request-a-webhook-to-be-resent-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>payroll</code> facade).</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-recipients-request-a-webhook-to-be-resent-http-request-body'>Body</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">Approved <code>payroll</code> facade token (you can reuse payroll token previously approved) passed in the body of the request.</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-recipients-request-a-webhook-to-be-resent-http-response'>HTTP Response</h5>
<blockquote>
<p>Example response when the webhook is successfully resent</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-recipients-request-a-webhook-to-be-resent-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>success</code>
        <div class="param-info">set to <code>true</code> once the webhook has been resent for the current recipient status</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-payouts'>Payouts</h3>
<p>Payouts are batches of bitcoin payments to employees, customers, partners, etc.</p>
<h4 id='rest-api-resources-payouts-resource'>Resource</h4>
<blockquote>
<p>Example of payout batch after begin executed.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/payoutRequest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234-abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">19122.54</span><span class="p">,</span><span class="w">
    </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002218</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:16:40.706Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErBj6bT4P4rk8EPEanjrSK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.84</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001351</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mhzbB6m8ZyaYsKeKBAakoC2qctYngV52mA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001351</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T14:10:25.564Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysBRPxdkBzCeRdQQ7Mxpz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.54</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000551</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mghaHDxTSrNvxiJ2soP1pB1NTVK1Lff5EJ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000551</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.876Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BMqyZYsqRyD3CvfRzZC78C"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.62</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000294</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"miCgREyUhfDqHXQ8K2Q2u5h1CjkA8JwLxV"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000294</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.677Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.177Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>facade</code>
        <div class="param-info">this indicates the facade used to create the payout request. When the <code>payroll</code> facade is used to create a payout request, the BitPay server returns the payout object as seen from the payroll facade, that is <code>"payroll/payoutRequest"</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">payout data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">Resource id</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>account</code>
        <div class="param-info">String identifying the BitPay merchant, for internal use</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>reference</code>
        <div class="param-info">Present only if specified in the request to create the batch. This is your reference label for this batch. It will be passed-through on each response for you to identify the batch in your system. Maximum string length is 100 characters</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>supportPhone</code>
        <div class="param-info">Phone number for BitPay. For immediate support visit support@bitpay.com</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Payout batch status, the possible values are:
          <p>
            <ul>
              <li><code>"new"</code> - initial status when the batch is created</li>
              <li><code>"funded"</code> - if there are enough funds available on the merchant account, the batches are set to funded. This happens at the daily cutoff time for payout processing, e.g. 2pm and 9pm UTC</li>
              <li><code>"complete"</code> - when the payout batches has been executed and the bitcoin sent to each recipient included in the batch</li>
              <li><code>"cancelled"</code> - when the merchant cancels a batch (only possible for batches in the status <code>"new"</code> or <code>"funded"</code>)</li>
            </ul>
          </p>
      </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>amount</code>
        <div class="param-info">The total amount of the batch in fiat currency. This amount must equal the sum of the instruction's amounts</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>percentFee</code>
        <div class="param-info">The rate in % as a transaction fee associated to the merchant account</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>fee</code>
        <div class="param-info">The fee amount for the batch</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>depositTotal</code>
        <div class="param-info">The total amount which will be debited from the merchant balance once the payout is executed (including the fee)</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>btc</code>
        <div class="param-info">The total amount of btc that was sent for the batch once the batch is processed</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">Currency code set for the batch amount (ISO 4217 3-character currency code). Supported currency codes for payout batches are EUR, USD, GBP, CAD, NZD, AUD, ZAR</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>requestDate</code>
        <div class="param-info">Date and time (UTC) when BitPay received the batch. ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>effectiveDate</code>
        <div class="param-info">Effective date and time (UTC) for the batch. ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>notificationURL</code>
        <div class="param-info">URL to which BitPay sends webhook notifications. HTTPS is mandatory.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>notificationEmail</code>
        <div class="param-info">Merchant email address for notification of payout status change.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>instructions</code>
        <div class="param-info">This is an array containing the detailed payout instruction objects. This array can contain a maximum of 200 instructions.</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>id</code>
        <div class="param-info">Resource id for the instruction</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>amount</code>
        <div class="param-info">amount to be sent to the customer bitcoin address. The minimum amount per instruction is <b>$5 USD</b> equivalent</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>btc</code>
        <div class="param-info">Initially empty, it will contain the amount of bitcoin sent to the consumer once the payout batch status is set to <code>complete</code></div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>unpaid</code>
        <div class="param-info">Initially set to <code>null</code>, will be set to <code>0</code> once the payout batch status is set to <code>complete</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>paid</code>
        <div class="param-info">Initially set to <code>0</code>, will contain the amount of BTC paid to the consumer once the payout batch status is set to <code>complete</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>address</code>
        <div class="param-info">Bitcoin address provided by the consumer through his personal BitPay dashboard. This parameter will be returned in the response once the payout is executed.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>email</code>
        <div class="param-info"><p>Email address of an active recipient.</p><p>Note: In the future, BitPay may allow Recipients to update the email address tied to their personal account. BitPay encourages the use of <code>recipientId</code> or <code>shopperId</code> when programatically creating payouts requests.</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>recipientId</code>
        <div class="param-info">BitPay recipient id, assigned by BitPay for a given recipient email during the onboarding process (invite recipients)</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>shopperId</code>
        <div class="param-info">
          <p>This is the unique  id assigned by BitPay if a customer signed up for a BitPay personal account and was signed in with this account before paying an invoice generated by the merchant. If not, this id will only be created once the customer becomes a <code>"verified"</code> recipient as part of the payout onboarding.</p>
          <p>The same field would also be available on paid invoices if the customer signed in with his BitPay personal account before completing the payment. This can allow merchants to monitor the activity of a customer (deposits & payouts).</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>label</code>
        <div class="param-info">For merchant use, pass through - can be the customer name or unique merchant reference assigned by the merchant to to the recipient.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>transactions</code>
        <div class="param-info">Contains the bitcoin transaction details for the executed payout instruction</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>txid</code>
        <div class="param-info">Bitcoin transaction hash for the executed payout.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>amount</code>
        <div class="param-info">amount of BTC sent to the requested address.</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>date</code>
        <div class="param-info">Date and time (UTC) when the bitcoin transaction is broadcasted. ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>status</code>
        <div class="param-info">set to <code>"unpaid"</code> when you create the payout request. Will be set to <code>"paid"</code> once the payout batch is processed by BitPay (main batch status set to <code>"complete"</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token for the corresponding payouts resource. This token is actually derived from the API token used to submit the payout request and is tied to the specific resource id created. </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-payouts-create-a-payout-batch'>Create a payout batch</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/payouts</h6>
    </div>
</div>
<h5 id='rest-api-resources-payouts-create-a-payout-batch-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-payouts-create-a-payout-batch-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/payouts"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"amount":42,
"currency":"USD",
"reference":"1234-abcd",
"effectiveDate":"2021-05-24",
"notificationEmail":"merchant@email.com",
"notificationURL":"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx",
"instructions":[
{"email":"alice@email.com","label":"Alice","amount":25.84},
{"recipientId":"X3icwc4tE8KJ5hEPNPpDXW","label":"Bob","amount":10.54},
{"shopperId":"ANmqC1hSDykH2B6hC29z2X","label":"John","amount":5.62}
],
"token":"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                <span class="s">"\"amount\":42,"</span> <span class="p">+</span>
                <span class="s">"\"currency\":\"USD\","</span> <span class="p">+</span>
                <span class="s">"\"reference\":\"1234-abcd\","</span> <span class="p">+</span>
                <span class="s">"\"effectiveDate\":\"2021-05-24\","</span> <span class="p">+</span>
                <span class="s">"\"notificationEmail\":\"merchant@email.com\","</span> <span class="p">+</span>
                <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx\","</span> <span class="p">+</span>
                <span class="s">"\"instructions\":["</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"email\":\"alice@email.com\","</span> <span class="p">+</span>
                        <span class="s">"\"label\":\"Alice\","</span> <span class="p">+</span>
                        <span class="s">"\"amount\":25.84"</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"recipientId\":\"X3icwc4tE8KJ5hEPNPpDXW\","</span> <span class="p">+</span>
                        <span class="s">"\"label\":\"Bob\","</span> <span class="p">+</span>
                        <span class="s">"\"amount\":10.54"</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"shopperId\":\"ANmqC1hSDykH2B6hC29z2X\","</span> <span class="p">+</span>
                        <span class="s">"\"label\":\"John\","</span> <span class="p">+</span>
                        <span class="s">"\"amount\":5.62"</span> <span class="p">+</span>
                    <span class="s">"}"</span> <span class="p">+</span>
                <span class="s">"],"</span> <span class="p">+</span>
                <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>

    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
               <span class="s">"\"amount\":42,"</span> <span class="o">+</span>
               <span class="s">"\"currency\":\"USD\","</span> <span class="o">+</span>
               <span class="s">"\"reference\":\"1234-abcd\","</span> <span class="o">+</span>
               <span class="s">"\"effectiveDate\":\"2021-05-24\","</span> <span class="o">+</span>
               <span class="s">"\"notificationEmail\":\"merchant@email.com\","</span> <span class="o">+</span>
               <span class="s">"\"notificationURL\":\"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx\","</span> <span class="o">+</span>
               <span class="s">"\"instructions\":["</span> <span class="o">+</span>
                   <span class="s">"{"</span> <span class="o">+</span>
                       <span class="s">"\"email\":\"alice@email.com\","</span> <span class="o">+</span>
                       <span class="s">"\"label\":\"Alice\","</span> <span class="o">+</span>
                       <span class="s">"\"amount\":25.84"</span> <span class="o">+</span>
                   <span class="s">"},"</span> <span class="o">+</span>
                   <span class="s">"{"</span> <span class="o">+</span>
                       <span class="s">"\"recipientId\":\"X3icwc4tE8KJ5hEPNPpDXW\","</span> <span class="o">+</span>
                       <span class="s">"\"label\":\"Bob\","</span> <span class="o">+</span>
                       <span class="s">"\"amount\":10.54"</span> <span class="o">+</span>
                   <span class="s">"},"</span> <span class="o">+</span>
                   <span class="s">"{"</span> <span class="o">+</span>
                       <span class="s">"\"shopperId\":\"ANmqC1hSDykH2B6hC29z2X\","</span> <span class="o">+</span>
                       <span class="s">"\"label\":\"John\","</span> <span class="o">+</span>
                       <span class="s">"\"amount\":5.62"</span> <span class="o">+</span>
                   <span class="s">"}"</span> <span class="o">+</span>
               <span class="s">"],"</span> <span class="o">+</span>
               <span class="s">"\"token\":\"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU\""</span> <span class="o">+</span>
             <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/payouts'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="mi">42</span><span class="p">,</span>
   <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
   <span class="s1">'reference'</span> <span class="o">=&gt;</span> <span class="s1">'1234-abcd'</span><span class="p">,</span>
   <span class="s1">'effectiveDate'</span> <span class="o">=&gt;</span> <span class="s1">'2021-05-24'</span><span class="p">,</span>
   <span class="s1">'notificationEmail'</span> <span class="o">=&gt;</span> <span class="s1">'merchant@email.com'</span><span class="p">,</span>
   <span class="s1">'notificationURL'</span> <span class="o">=&gt;</span> <span class="s1">'https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx'</span><span class="p">,</span>
   <span class="s1">'instructions'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="p">[</span>
           <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'alice@email.com'</span><span class="p">,</span>
           <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Alice'</span><span class="p">,</span>
           <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="mf">25.84</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="s1">'recipientId'</span> <span class="o">=&gt;</span> <span class="s1">'X3icwc4tE8KJ5hEPNPpDXW'</span><span class="p">,</span>
           <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'Bob'</span><span class="p">,</span>
           <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="mf">10.54</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="s1">'shopperId'</span> <span class="o">=&gt;</span> <span class="s1">'ANmqC1hSDykH2B6hC29z2X'</span><span class="p">,</span>
           <span class="s1">'label'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
           <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="mf">5.62</span><span class="p">,</span>
       <span class="p">],</span>
   <span class="p">],</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/payouts</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">reference</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1234-abcd</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">effectiveDate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2021-05-24</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">notificationEmail</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">merchant@email.com</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">notificationURL</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">instructions</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">alice@email.com</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Alice</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">25.84</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">recipientId</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">X3icwc4tE8KJ5hEPNPpDXW</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bob</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">10.54</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">shopperId</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ANmqC1hSDykH2B6hC29z2X</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">5.62</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/payouts"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "amount": 42,
   "currency": "USD",
   "reference": "1234-abcd",
   "effectiveDate": "2021-05-24",
   "notificationEmail": "merchant@email.com",
   "notificationURL": "https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx",
   "instructions": [
      {
         "email": "alice@email.com",
         "label": "Alice",
         "amount": 25.84
      },
      {
         "recipientId": "X3icwc4tE8KJ5hEPNPpDXW",
         "address": "Bob",
         "amount": 10.54
      },
      {
         "shopperId": "ANmqC1hSDykH2B6hC29z2X",
         "address": "John",
         "amount": 5.62
      }
   ],
   "token": "3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/payouts'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">"amount"</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
   <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
   <span class="s">"reference"</span><span class="p">:</span> <span class="s">"1234-abcd"</span><span class="p">,</span>
   <span class="s">"effectiveDate"</span><span class="p">:</span> <span class="s">"2021-05-24"</span><span class="p">,</span>
   <span class="s">"notificationEmail"</span><span class="p">:</span> <span class="s">"merchant@email.com"</span><span class="p">,</span>
   <span class="s">"notificationURL"</span><span class="p">:</span> <span class="s">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span>
       <span class="s">"instructions"</span><span class="p">:</span> <span class="p">[</span>
           <span class="p">{</span>
             <span class="s">"email"</span><span class="p">:</span> <span class="s">"alice@email.com"</span><span class="p">,</span>
             <span class="s">"label"</span><span class="p">:</span> <span class="s">"Alice"</span><span class="p">,</span>
             <span class="s">"amount"</span><span class="p">:</span> <span class="mf">25.84</span>
           <span class="p">},</span>
           <span class="p">{</span>
             <span class="s">"recipientId"</span><span class="p">:</span> <span class="s">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span>
             <span class="s">"address"</span><span class="p">:</span> <span class="s">"Bob"</span><span class="p">,</span>
             <span class="s">"amount"</span><span class="p">:</span> <span class="mf">10.54</span>
           <span class="p">},</span>
           <span class="p">{</span>
             <span class="s">"shopperId"</span><span class="p">:</span> <span class="s">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span>
             <span class="s">"address"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
             <span class="s">"amount"</span><span class="p">:</span> <span class="mf">5.62</span>
           <span class="p">}</span>           
       <span class="p">],</span>
       <span class="s">"token"</span><span class="p">:</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/payouts"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"amount"</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
   <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
   <span class="s2">"reference"</span><span class="p">:</span> <span class="s2">"1234-abcd"</span><span class="p">,</span>
   <span class="s2">"effectiveDate"</span><span class="p">:</span> <span class="s2">"2021-05-24"</span><span class="p">,</span>
   <span class="s2">"notificationEmail"</span><span class="p">:</span> <span class="s2">"merchant@email.com"</span><span class="p">,</span>
   <span class="s2">"notificationURL"</span><span class="p">:</span> <span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span>
   <span class="s2">"instructions"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"alice@email.com"</span><span class="p">,</span>
         <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"Alice"</span><span class="p">,</span>
         <span class="s2">"amount"</span><span class="p">:</span> <span class="mf">25.84</span>
       <span class="p">},</span>
       <span class="p">{</span>
         <span class="s2">"recipientId"</span><span class="p">:</span> <span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span>
         <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"Bob"</span><span class="p">,</span>
         <span class="s2">"amount"</span><span class="p">:</span> <span class="mf">10.54</span>
       <span class="p">},</span>
       <span class="p">{</span>
         <span class="s2">"shopperId"</span><span class="p">:</span> <span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span>
         <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
         <span class="s2">"amount"</span><span class="p">:</span> <span class="mf">5.62</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"30450220137b68ce74e4308c29854dd94a095125641ec7ae4f702426a9280f9c32923303022100f98269fc598446c438279612c2d1a3d12663ce6f8ae5a4bede32e56543664a05"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-payouts-create-a-payout-batch-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-payouts-create-a-payout-batch-http-request-body'>Body</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>amount</code>
        <div class="param-info">The total amount of the batch in fiat currency. This amount must equal the sum of the instruction's amounts</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>currency</code>
        <div class="param-info">Currency code set for the batch amount (ISO 4217 3-character currency code). Supported currency codes for payout batches are EUR, USD, GBP, CAD, NZD, AUD, ZAR</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>reference</code>
        <div class="param-info">For the merchant to pass their own reference label for this batch. It will be passed-through on each response for you to identify the batch in your system. Maximum string length is 100 characters</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>effectiveDate</code>
        <div class="param-info">Effective date and time (UTC) for the batch. ISO-8601 date format <code>yyyy-mm-dd</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>notificationEmail</code>
        <div class="param-info">Merchant email address for notification of payout status change.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>notificationURL</code>
        <div class="param-info">URL to which BitPay sends webhook notifications. HTTPS is mandatory.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>instructions</code>
        <div class="param-info">This is an array containing the detailed payout instruction objects. This array can contain a maximum of 200 instructions.</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>amount</code>
        <div class="param-info">amount to be sent to the customer bitcoin address. The minimum amount per instruction is <b>$5 USD</b> equivalent</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>email</code>
        <div class="param-info"><p>Email address of an active recipient.</p><p>Note: In the future, BitPay may allow Recipients to update the email address tied to their personal account. BitPay encourages the use of <code>recipientId</code> or <code>shopperId</code> when programatically creating payouts requests.</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>recipientId</code>
        <div class="param-info">BitPay recipient id, assigned by BitPay for a given recipient email during the onboarding process (invite recipients).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>shopperId</code>
        <div class="param-info">
          <p>This is the unique  id assigned by BitPay if a customer signed up for a BitPay personal account and was signed in with this account before paying an invoice generated by the merchant. If not, this id will only be created once the customer becomes a <code>"verified"</code> recipient as part of the payout onboarding.</p>
          <p>The same field would also be available on paid invoices if the customer signed in with his BitPay personal account before completing the payment. This can allow merchants to monitor the activity of a customer (deposits & payouts).</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>label</code>
        <div class="param-info">For merchant use, pass through - can be the customer name or unique merchant reference assigned by the merchant to to the recipient.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">The API token can be retrieved using the <b>Tokens</b> resource to get access to the <code>payroll</code> facade. This is described in the section <a href="#rest-api-resources-tokens-request-an-api-token">Request an API token</a>).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-payouts-create-a-payout-batch-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of payout batch</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/payoutRequest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234-abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:16:40.706Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErBj6bT4P4rk8EPEanjrSK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.84</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysBRPxdkBzCeRdQQ7Mxpz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.54</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BMqyZYsqRyD3CvfRzZC78C"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.62</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example payout object returned in the response you will get from the BitPay server. A description of all payout fields is available in the <a href="#rest-api-resources-payouts-resource">resource</a> section.</p>
<h4 id='rest-api-resources-payouts-retrieve-a-payout-batch'>Retrieve a payout batch</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/payouts/:payoutId</h6>
    </div>
</div>
<h5 id='rest-api-resources-payouts-retrieve-a-payout-batch-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-payouts-retrieve-a-payout-batch-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/payouts/85Krn4jvdtTJtGc6T4gcaK?token=3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">payoutId</span> <span class="p">=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">payoutId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">payoutId</span> <span class="o">=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/payouts'</span><span class="p">;</span>
<span class="nv">$payoutId</span> <span class="o">=</span> <span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$payoutId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/payouts</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">payoutId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">85Krn4jvdtTJtGc6T4gcaK</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">payoutId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/payouts"</span>
<span class="n">payoutId</span> <span class="o">:=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/payouts'</span>
<span class="n">payoutId</span> <span class="o">=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/payouts"</span>
<span class="n">payoutId</span> <span class="o">=</span> <span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022038d391d590328b647450c132d4f51438d99dfb508fe29487da952840afc04cc5022100bd9ec6e0441b7683aabb029e5d7c81fad23bed9fc779b260ddb5ce6dd28b3932"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-payouts-retrieve-a-payout-batch-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>payoutId</code>
        <div class="param-info">the specific payout batch Id you want to fetch</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">When retrieving a payout batch, pass the API token as a URL parameter - the same payroll token used to create the payout batch in the first place.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-payouts-retrieve-a-payout-batch-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-payouts-retrieve-a-payout-batch-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of complete payout batch</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/payoutRequest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234-abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">19122.54</span><span class="p">,</span><span class="w">
    </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002218</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:16:40.706Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LGLKzGNj8tDVGSGQCAhbDi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.84</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001351</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mhzbB6m8ZyaYsKeKBAakoC2qctYngV52mA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001351</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T14:10:25.564Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LGLKzGNj8tDVGSGQCAhbDi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.54</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000551</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mghaHDxTSrNvxiJ2soP1pB1NTVK1Lff5EJ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000551</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.876Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LGLKzGNj8tDVGSGQCAhbDi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.62</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000294</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"miCgREyUhfDqHXQ8K2Q2u5h1CjkA8JwLxV"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000294</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.677Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.177Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example payout object returned in the response you will get from the BitPay server. A description of all payout fields is available in the <a href="#rest-api-resources-payouts-resource">resource</a> section.</p>
<h4 id='rest-api-resources-payouts-cancel-a-payout-batch'>Cancel a payout batch</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">DELETE</i>
        <h6>https://bitpay.com/payouts/payoutId</h6>
    </div>
</div>
<h5 id='rest-api-resources-payouts-cancel-a-payout-batch-facades'>Facades</h5>
<p><span class="scope">payroll</span></p>
<h5 id='rest-api-resources-payouts-cancel-a-payout-batch-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> DELETE <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/payouts/85Krn4jvdtTJtGc6T4gcaK?token=7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">payoutId</span> <span class="p">=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">payoutId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"DELETE"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">payoutId</span> <span class="o">=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
       <span class="o">.</span><span class="na">DELETE</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/payouts'</span><span class="p">;</span>
<span class="nv">$payoutId</span> <span class="o">=</span> <span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$payoutId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'DELETE'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/payouts</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">payoutId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">85Krn4jvdtTJtGc6T4gcaK</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">payoutId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">DELETE</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/payouts"</span>
<span class="n">payoutId</span> <span class="o">:=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"DELETE"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/payouts'</span>
<span class="n">payoutId</span> <span class="o">=</span> <span class="s">"85Krn4jvdtTJtGc6T4gcaK"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/payouts"</span>
<span class="n">payoutId</span> <span class="o">=</span> <span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022013f8d0a1fe6f47bef4ca4e4ae41d02eaf0930ddb9fcb43ba1cebc26548474577022100c75e01bfb82494baf94000c9bc00b4fa8fd5abfd9a60dd0bed4e92f401f08c38"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">payoutId</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Delete</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-payouts-cancel-a-payout-batch-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>payoutId</code>
        <div class="param-info">the payout status you want to cancel</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">The resource token for the <code>payoutId</code> you want to cancel. You need to retrieve this token from the payout object itself, using the payroll facade (see section <a href="#rest-api-resources-payouts-retrieve-a-payout-batch">Retrieve a payout batch</a>).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-payouts-cancel-a-payout-batch-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-payouts-cancel-a-payout-batch-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of cancelled payout batch</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/payoutRequest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234-abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:16:40.706Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErBj6bT4P4rk8EPEanjrSK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.84</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysBRPxdkBzCeRdQQ7Mxpz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.54</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BMqyZYsqRyD3CvfRzZC78C"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.62</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of cancelled payout object returned in the response you will get from the BitPay server. A description of all payout fields is available in the <a href="#rest-api-resources-payouts-resource">resource</a> section.</p>
<h4 id='rest-api-resources-payouts-retrieve-payout-batches-based-on-status'>Retrieve payout batches based on status</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/payouts</h6>
    </div>
</div>
<h5 id='rest-api-resources-payouts-retrieve-payout-batches-based-on-status-facades'>Facades</h5>
<p><span class="scope">payroll </span></p>
<h5 id='rest-api-resources-payouts-retrieve-payout-batches-based-on-status-http-request'>HTTP Request</h5>
<blockquote>
<p>via the payroll facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/payouts?token=3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU&amp;status=new"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="p">=</span> <span class="s">"new"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span>
    <span class="n">resourceUrl</span> <span class="p">+</span>
    <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span>
    <span class="s">"&amp;status="</span> <span class="p">+</span> <span class="n">status</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/payouts"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="o">=</span> <span class="s">"new"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span>
           <span class="n">resourceUrl</span> <span class="o">+</span>
           <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
           <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
   <span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/payouts'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span><span class="p">;</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="s1">'new'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span>
   <span class="nv">$resourceUrl</span> <span class="mf">.</span>
   <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span>
   <span class="s1">'&amp;status='</span> <span class="mf">.</span> <span class="nv">$status</span>
<span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/payouts</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">new</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;status=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">status</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/payouts"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="n">status</span> <span class="o">:=</span> <span class="s">"new"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span>
   <span class="n">resourceUrl</span> <span class="o">+</span>
   <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/payouts'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU'</span>
<span class="n">status</span> <span class="o">=</span> <span class="s">'new'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">'&amp;status='</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/payouts"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"3LKKrrNB2BcVAu2Y24QQ78GrKUk2ANLK4eLo85Q1a2HU"</span>
<span class="n">status</span> <span class="o">=</span> <span class="s2">"new"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3046022100fe8c86bb0d356b92607ee089ea4374073b5ff322e77a932c07aa7cdddd3e532f022100a6032b205c1192e65a7cf26421f06309196fafbea7e06cb20d453f6c0f9758bc"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s2">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
<span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-payouts-retrieve-payout-batches-based-on-status-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">When retrieving a payout batch, pass the API token as a URL parameter - the same payroll token used to create the payout batch in the first place.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>&status=</code>
        <div class="param-info">the payout status you want to query on</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-payouts-retrieve-payout-batches-based-on-status-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-payouts-retrieve-payout-batches-based-on-status-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of payout batches</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payroll/payoutRequest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234-abcd"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="p">,</span><span class="w">
      </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.42</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:16:40.706Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErBj6bT4P4rk8EPEanjrSK"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.84</span><span class="p">,</span><span class="w">
          </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysBRPxdkBzCeRdQQ7Mxpz"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.54</span><span class="p">,</span><span class="w">
          </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BMqyZYsqRyD3CvfRzZC78C"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.62</span><span class="p">,</span><span class="w">
          </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RVgXaqKWJUaQmyt8swxtWN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5678-efgh"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.84</span><span class="p">,</span><span class="w">
      </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">84.84</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-3T09:31:56.742Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T09:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/wed3sa0wx1rz5bg0bv97851eqx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QCALKzGLj8tDVGSGNhbDi"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">51.68</span><span class="p">,</span><span class="w">
          </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zGNj8tDVGSGQCALGLKbDi"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.08</span><span class="p">,</span><span class="w">
          </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cj8tDAhbDLGLKzGNVGSGQi"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">11.24</span><span class="p">,</span><span class="w">
          </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unpaid"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnxWwCceJ6XKuv5XPx8YLWvFHqQgsKCoUQS5RK67AaB88VGNhS4CLawh"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example payout objects returned in the response you will get from the BitPay server. A description of all payout fields is available in the <a href="#rest-api-resources-payouts-resource">resource</a> section.</p>
<h3 id='rest-api-resources-bills'>Bills</h3>
<p>Bills are payment requests addressed to specific buyers. Bill line items have fixed prices, typically denominated in fiat currency.</p>
<h4 id='rest-api-resources-bills-resource'>Resource</h4>
<blockquote>
<p>Example of bill object via the pos facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pos/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=X6KJbe9RxAGWNReCwd1xRw&amp;resource=bills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:48:02.373Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"jane@doe.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EL4vx41Nxc5RYhbqDthjE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6spPADZ2h6MfADvnhfsuBt"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example of bill object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=3Zpmji8bRKxWJo2NJbWX5H&amp;resource=bills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-EFGH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:51:04.126Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"jane@doe.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7HyKWn3d4xdhAMQYAEVxVq"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NV35GRWtrdB2cmGEjY4LKY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apy3i2TpzHRYP8tJCkrZMT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Bills are payment requests addressed to specific buyers. Bill line items have fixed prices, typically denominated in fiat currency.</p>

<table class="table">
    <tbody>
    <tr>
      <th rowspan="2">Name</th>
      <th rowspan="2">Type</th>
      <th colspan="2">returned via facade</th>
    </tr>
    <tr>
      <td class="facade pos">pos</td>
      <td class="facade merchant">merchant</td>
    </tr>
    <tr>
      <td>
        <code>facade</code>
          <div class="param-info">This field indicates the facade from which the bill is being requested:
          <p>
            <ul>
              <li><code>"pos/bill"</code> if the <code>pos</code> facade is used to request an invoice resource</li>
              <li><code>"merchant/bill"</code> if the <code>merchant</code> facade is used to request an invoice resource</li>
            </ul>
          </p>
        </div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">bill data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Can "draft", "sent", "new", "paid", or "complete"</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>url</code>
        <div class="param-info">Web address of bill</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>number</code>
        <div class="param-info">Bill identifier, specified by merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>createdDate</code>
        <div class="param-info">Date and time of Bill creation, ISO-8601 format yyyy-mm-ddThh:mm:ssZ. (UTC)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dueDate</code>
        <div class="param-info">Date and time at which a bill is due, ISO-8601 format yyyy-mm-ddThh:mm:ssZ. (UTC)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">Bill recipient's name</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>address1</code>
        <div class="param-info">Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>address2</code>
        <div class="param-info">Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>city</code>
        <div class="param-info">Bill recipient's city</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>state</code>
        <div class="param-info">Bill recipient's state or province</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>zip</code>
        <div class="param-info">Bill recipient's ZIP code</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>country</code>
        <div class="param-info">Bill recipient's country</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>email</code>
        <div class="param-info">Bill recipient's email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>cc</code>
        <div class="param-info">Email addresses to which a copy of the bill must be sent</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>phone</code>
        <div class="param-info">Bill recipient's phone number</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>passProcessingFee</code>
        <div class="param-info">If set to <code>true</code>, BitPay's processing fee will be included in the amount charged on the invoice</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">Bill resource id</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>merchant</code>
        <div class="param-info">Internal identifier for BitPay, this field can be ignored by the merchants.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>items</code>
        <div class="param-info">List of line items</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>id</code>
        <div class="param-info">item resource Id</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>description</code>
        <div class="param-info">Line item description</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>price</code>
        <div class="param-info">Line item unit price for the corresponding <code>currency</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>quantity</code>
        <div class="param-info">Line item number of units</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token for bill resource. This token is actually derived from the API token used to create the bill and is tied to the specific resource id created.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="facade pos">
        ✓
      </td>
      <td class="facade merchant">
        ✓
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-bills-create-a-bill'>Create a bill</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/bills</h6>
    </div>
</div>
<h5 id='rest-api-resources-bills-create-a-bill-facades'>Facades</h5>
<p><span class="scope">pos</span>
<span class="scope">merchant</span></p>
<h5 id='rest-api-resources-bills-create-a-bill-http-request'>HTTP Request</h5>
<blockquote>
<p>via the pos facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"number":"bill1234-ABCD",
"currency":"USD",
"name":"John Doe",
"address1":"2630 Hegal Place",
"address2":"Apt 42",
"city":"Alexandria",
"state":"VA",
"zip":23242,
"country":"US",
"email":"john@doe.com",
"cc":["jane@doe.com"],
"phone":"555-123-456",
"dueDate":"2021-5-31",
"passProcessingFee":true,
"items":[
{
"description":"Test Item 1",
"price":6,"quantity":1
},
{
"description":"Test Item 2",
"price":4,"quantity":1
}
],
"token":"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                <span class="s">"\"number\":\"bill1234-ABCD\","</span> <span class="p">+</span>
                <span class="s">"\"currency\":\"USD\","</span> <span class="p">+</span>
                <span class="s">"\"name\":\"John Doe\","</span> <span class="p">+</span>
                <span class="s">"\"address1\":\"2630 Hegal Place\","</span> <span class="p">+</span>
                <span class="s">"\"address2\":\"Apt 42\","</span> <span class="p">+</span>
                <span class="s">"\"city\":\"Alexandria\","</span> <span class="p">+</span>
                <span class="s">"\"state\":\"VA\","</span> <span class="p">+</span>
                <span class="s">"\"zip\":23242,"</span> <span class="p">+</span>
                <span class="s">"\"country\":\"US\","</span> <span class="p">+</span>
                <span class="s">"\"email\":\"john@doe.com\","</span> <span class="p">+</span>
                <span class="s">"\"cc\":["</span> <span class="p">+</span>
                    <span class="s">"\"jane@doe.com\""</span> <span class="p">+</span>
                <span class="s">"],"</span> <span class="p">+</span>
                <span class="s">"\"phone\":\"555-123-456\","</span> <span class="p">+</span>
                <span class="s">"\"dueDate\":\"2021-5-31\","</span> <span class="p">+</span>
                <span class="s">"\"passProcessingFee\":true,"</span> <span class="p">+</span>
                <span class="s">"\"items\":["</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"description\":\"Test item 1\","</span> <span class="p">+</span>
                        <span class="s">"\"price\":6,"</span> <span class="p">+</span>
                        <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"description\":\"Test item 2\","</span> <span class="p">+</span>
                        <span class="s">"\"price\":4,"</span> <span class="p">+</span>
                        <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                <span class="s">"],"</span> <span class="p">+</span>
                <span class="s">"\"token\":\"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
               <span class="s">"\"number\":\"bill1234-ABCD\","</span> <span class="o">+</span>
               <span class="s">"\"currency\":\"USD\","</span> <span class="o">+</span>
               <span class="s">"\"name\":\"John Doe\","</span> <span class="o">+</span>
               <span class="s">"\"address1\":\"2630 Hegal Place\","</span> <span class="o">+</span>
               <span class="s">"\"address2\":\"Apt 42\","</span> <span class="o">+</span>
               <span class="s">"\"city\":\"Alexandria\","</span> <span class="o">+</span>
               <span class="s">"\"state\":\"VA\","</span> <span class="o">+</span>
               <span class="s">"\"zip\":23242,"</span> <span class="o">+</span>
               <span class="s">"\"country\":\"US\","</span> <span class="o">+</span>
               <span class="s">"\"email\":\"john@doe.com\","</span> <span class="o">+</span>
               <span class="s">"\"cc\":["</span> <span class="o">+</span>
                   <span class="s">"\"jane@doe.com\""</span> <span class="o">+</span>
               <span class="s">"],"</span> <span class="o">+</span>
               <span class="s">"\"phone\":\"555-123-456\","</span> <span class="o">+</span>
               <span class="s">"\"dueDate\":\"2021-5-31\","</span> <span class="o">+</span>
               <span class="s">"\"passProcessingFee\":true,"</span> <span class="o">+</span>
               <span class="s">"\"items\":["</span> <span class="o">+</span>
                   <span class="s">"{"</span> <span class="o">+</span>
                       <span class="s">"\"description\":\"Test item 1\","</span> <span class="o">+</span>
                       <span class="s">"\"price\":6,"</span> <span class="o">+</span>
                       <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                   <span class="s">"},"</span> <span class="o">+</span>
                   <span class="s">"{"</span> <span class="o">+</span>
                       <span class="s">"\"description\":\"Test item 2\","</span> <span class="o">+</span>
                       <span class="s">"\"price\":4,"</span> <span class="o">+</span>
                       <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                   <span class="s">"},"</span> <span class="o">+</span>
               <span class="s">"],"</span> <span class="o">+</span>
               <span class="s">"\"token\":\"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv\""</span> <span class="o">+</span>
             <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'number'</span> <span class="o">=&gt;</span> <span class="s1">'bill1234-ABCD'</span><span class="p">,</span>
   <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
   <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'John Doe'</span><span class="p">,</span>
   <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'2630 Hegal Place'</span><span class="p">,</span>
   <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'Apt 42'</span><span class="p">,</span>
   <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Alexandria'</span><span class="p">,</span>
   <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'VA'</span><span class="p">,</span>
   <span class="s1">'zip'</span> <span class="o">=&gt;</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="s1">'country'</span> <span class="o">=&gt;</span> <span class="s1">'US'</span><span class="p">,</span>
   <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'john@doe.com'</span><span class="p">,</span>
   <span class="s1">'cc'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="s1">'jane@doe.com'</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="s1">'phone'</span> <span class="o">=&gt;</span> <span class="s1">'555-123-456'</span><span class="p">,</span>
   <span class="s1">'dueDate'</span> <span class="o">=&gt;</span> <span class="s1">'2021-5-31'</span><span class="p">,</span>
   <span class="s1">'passProcessingFee'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
   <span class="s1">'items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="p">[</span>
           <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 1'</span><span class="p">,</span>
           <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 2'</span><span class="p">,</span>
           <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">],</span>
   <span class="p">],</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bill1234-ABCD</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John Doe</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">address1</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2630 Hegal Place</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">address2</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Apt 42</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">city</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Alexandria</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">state</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VA</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">zip</span><span class="dl">"</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">US</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@doe.com</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">cc</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="dl">"</span><span class="s2">jane@doe.com</span><span class="dl">"</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">555-123-456</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">dueDate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2021-5-31</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">passProcessingFee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">items</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 1</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 2</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "number":"bill1234-ABCD",
   "currency":"USD",
   "name":"John Doe",
   "address1":"2630 Hegal Place",
   "address2":"Apt 42",
   "city":"Alexandria",
   "state":"VA",
   "zip":23242,
   "country":"US",
   "email":"john@doe.com",
   "cc":[
      "jane@doe.com"
   ],
   "phone":"555-123-456",
   "dueDate":"2021-5-31",
   "passProcessingFee":true,
   "items":[
      {
         "description":"Test item 1",
         "price":10,
         "quantity":1
      },
      {
         "description":"Test item 2",
         "price":20,
         "quantity":1
      },
   ],
   "token":"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"
}`</span><span class="p">)</span>
    <span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'number'</span><span class="p">:</span> <span class="s">'bill1234-ABCD'</span><span class="p">,</span>
   <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
   <span class="s">'name'</span><span class="p">:</span> <span class="s">'John Doe'</span><span class="p">,</span>
   <span class="s">'address1'</span><span class="p">:</span> <span class="s">'2630 Hegal Place'</span><span class="p">,</span>
   <span class="s">'address2'</span><span class="p">:</span> <span class="s">'Apt 42'</span><span class="p">,</span>
   <span class="s">'city'</span><span class="p">:</span> <span class="s">'Alexandria'</span><span class="p">,</span>
   <span class="s">'state'</span><span class="p">:</span> <span class="s">'VA'</span><span class="p">,</span>
   <span class="s">'zip'</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="s">'country'</span><span class="p">:</span> <span class="s">'US'</span><span class="p">,</span>
   <span class="s">'email'</span><span class="p">:</span> <span class="s">'john@doe.com'</span><span class="p">,</span>
   <span class="s">'cc'</span><span class="p">:</span> <span class="p">[</span>
       <span class="s">'jane@doe.com'</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="s">'phone'</span><span class="p">:</span> <span class="s">'555-123-456'</span><span class="p">,</span>
   <span class="s">'dueDate'</span><span class="p">:</span> <span class="s">'2021-5-31'</span><span class="p">,</span>
   <span class="s">'passProcessingFee'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
   <span class="s">'items'</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 1'</span><span class="p">,</span>
           <span class="s">'price'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 2'</span><span class="p">,</span>
           <span class="s">'price'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
   <span class="p">],</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"number"</span><span class="p">:</span> <span class="s2">"bill1234-ABCD"</span><span class="p">,</span>
   <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"John Doe"</span><span class="p">,</span>
   <span class="s2">"address1"</span><span class="p">:</span> <span class="s2">"2630 Hegal Place"</span><span class="p">,</span>
   <span class="s2">"address2"</span><span class="p">:</span> <span class="s2">"Apt 42"</span><span class="p">,</span>
   <span class="s2">"city"</span><span class="p">:</span> <span class="s2">"Alexandria"</span><span class="p">,</span>
   <span class="s2">"state"</span><span class="p">:</span> <span class="s2">"VA"</span><span class="p">,</span>
   <span class="s2">"zip"</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="s2">"country"</span><span class="p">:</span> <span class="s2">"US"</span><span class="p">,</span>
   <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"john@doe.com"</span><span class="p">,</span>
   <span class="s2">"cc"</span><span class="p">:</span> <span class="p">[</span>
       <span class="s2">"jane@doe.com"</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="s2">"phone"</span><span class="p">:</span> <span class="s2">"555-123-456"</span><span class="p">,</span>
   <span class="s2">"dueDate"</span><span class="p">:</span> <span class="s2">"2021-5-31"</span><span class="p">,</span>
   <span class="s2">"passProcessingFee"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
   <span class="s2">"items"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Test item 1"</span><span class="p">,</span>
           <span class="s2">"price"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Test item 2"</span><span class="p">,</span>
           <span class="s2">"price"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
   <span class="p">],</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"number":"bill1234-EFGH",
"currency":"USD",
"name":"John Doe",
"address1":"2630 Hegal Place",
"address2":"Apt 42",
"city":"Alexandria",
"state":"VA",
"zip":23242,
"country":"US",
"email":"john@doe.com",
"cc":["jane@doe.com"],
"phone":"555-123-456",
"dueDate":"2021-5-31",
"passProcessingFee":true,
"items":[
{
"description":"Test Item 1",
"price":6,"quantity":1
},
{
"description":"Test Item 2",
"price":4,"quantity":1
}],
"token":"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                <span class="s">"\"number\":\"bill1234-EFGH\","</span> <span class="p">+</span>
                <span class="s">"\"currency\":\"USD\","</span> <span class="p">+</span>
                <span class="s">"\"name\":\"John Doe\","</span> <span class="p">+</span>
                <span class="s">"\"address1\":\"2630 Hegal Place\","</span> <span class="p">+</span>
                <span class="s">"\"address2\":\"Apt 42\","</span> <span class="p">+</span>
                <span class="s">"\"city\":\"Alexandria\","</span> <span class="p">+</span>
                <span class="s">"\"state\":\"VA\","</span> <span class="p">+</span>
                <span class="s">"\"zip\":23242,"</span> <span class="p">+</span>
                <span class="s">"\"country\":\"US\","</span> <span class="p">+</span>
                <span class="s">"\"email\":\"john@doe.com\","</span> <span class="p">+</span>
                <span class="s">"\"cc\":["</span> <span class="p">+</span>
                  <span class="s">"\"jane@doe.com\""</span> <span class="p">+</span>
                <span class="s">"],"</span> <span class="p">+</span>
                <span class="s">"\"phone\":\"555-123-456\","</span> <span class="p">+</span>
                <span class="s">"\"dueDate\":\"2021-5-31\","</span> <span class="p">+</span>
                <span class="s">"\"passProcessingFee\":true,"</span> <span class="p">+</span>
                <span class="s">"\"items\":["</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"description\":\"Test item 1\","</span> <span class="p">+</span>
                        <span class="s">"\"price\":6,"</span> <span class="p">+</span>
                        <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                    <span class="s">"{"</span> <span class="p">+</span>
                        <span class="s">"\"description\":\"Test item 2\","</span> <span class="p">+</span>
                        <span class="s">"\"price\":4,"</span> <span class="p">+</span>
                        <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                    <span class="s">"},"</span> <span class="p">+</span>
                <span class="s">"],"</span> <span class="p">+</span>
                <span class="s">"\"token\":\"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                 <span class="s">"\"number\":\"bill1234-EFGH\","</span> <span class="o">+</span>
                 <span class="s">"\"currency\":\"USD\","</span> <span class="o">+</span>
                 <span class="s">"\"name\":\"John Doe\","</span> <span class="o">+</span>
                 <span class="s">"\"address1\":\"2630 Hegal Place\","</span> <span class="o">+</span>
                 <span class="s">"\"address2\":\"Apt 42\","</span> <span class="o">+</span>
                 <span class="s">"\"city\":\"Alexandria\","</span> <span class="o">+</span>
                 <span class="s">"\"state\":\"VA\","</span> <span class="o">+</span>
                 <span class="s">"\"zip\":23242,"</span> <span class="o">+</span>
                 <span class="s">"\"country\":\"US\","</span> <span class="o">+</span>
                 <span class="s">"\"email\":\"john@doe.com\","</span> <span class="o">+</span>
                 <span class="s">"\"cc\":["</span> <span class="o">+</span>
                   <span class="s">"\"jane@doe.com\""</span> <span class="o">+</span>
                 <span class="s">"],"</span> <span class="o">+</span>
                 <span class="s">"\"phone\":\"555-123-456\","</span> <span class="o">+</span>
                 <span class="s">"\"dueDate\":\"2021-5-31\","</span> <span class="o">+</span>
                 <span class="s">"\"passProcessingFee\":true,"</span> <span class="o">+</span>
                 <span class="s">"\"items\":["</span> <span class="o">+</span>
                     <span class="s">"{"</span> <span class="o">+</span>
                         <span class="s">"\"description\":\"Test item 1\","</span> <span class="o">+</span>
                         <span class="s">"\"price\":6,"</span> <span class="o">+</span>
                         <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                     <span class="s">"},"</span> <span class="o">+</span>
                     <span class="s">"{"</span> <span class="o">+</span>
                         <span class="s">"\"description\":\"Test item 2\","</span> <span class="o">+</span>
                         <span class="s">"\"price\":4,"</span> <span class="o">+</span>
                         <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                     <span class="s">"},"</span> <span class="o">+</span>
                 <span class="s">"],"</span> <span class="o">+</span>
                 <span class="s">"\"token\":\"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY\""</span> <span class="o">+</span>
             <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'number'</span> <span class="o">=&gt;</span> <span class="s1">'bill1234-EFGH'</span><span class="p">,</span>
   <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
   <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'John Doe'</span><span class="p">,</span>
   <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'2630 Hegal Place'</span><span class="p">,</span>
   <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'Apt 42'</span><span class="p">,</span>
   <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Alexandria'</span><span class="p">,</span>
   <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'VA'</span><span class="p">,</span>
   <span class="s1">'zip'</span> <span class="o">=&gt;</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="s1">'country'</span> <span class="o">=&gt;</span> <span class="s1">'US'</span><span class="p">,</span>
   <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'john@doe.com'</span><span class="p">,</span>
   <span class="s1">'cc'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="s1">'jane@doe.com'</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="s1">'phone'</span> <span class="o">=&gt;</span> <span class="s1">'555-123-456'</span><span class="p">,</span>
   <span class="s1">'dueDate'</span> <span class="o">=&gt;</span> <span class="s1">'2021-5-31'</span><span class="p">,</span>
   <span class="s1">'passProcessingFee'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
   <span class="s1">'items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="p">[</span>
           <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 1'</span><span class="p">,</span>
           <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 2'</span><span class="p">,</span>
           <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">],</span>
   <span class="p">],</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bill1234-EFGH</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John Doe</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">address1</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2630 Hegal Place</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">address2</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Apt 42</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">city</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Alexandria</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">state</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VA</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">zip</span><span class="dl">"</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">US</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@doe.com</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">cc</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="dl">"</span><span class="s2">jane@doe.com</span><span class="dl">"</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">555-123-456</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">dueDate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2021-5-31</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">passProcessingFee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">items</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 1</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 2</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "number":"bill1234-EFGH",
   "currency":"USD",
   "name":"John Doe",
   "address1":"2630 Hegal Place",
   "address2":"Apt 42",
   "city":"Alexandria",
   "state":"VA",
   "zip":23242,
   "country":"US",
   "email":"john@doe.com",
   "cc":[
      "jane@doe.com"
   ],
   "phone":"555-123-456",
   "dueDate":"2019-5-30",
   "passProcessingFee":true,
   "items":[
      {
         "description":"Test item 1",
         "price":6,
         "quantity":1
      },
      {
         "description":"Test item 2",
         "price":4,
         "quantity":1
      },
   ],
   "token":"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'number'</span><span class="p">:</span> <span class="s">'bill1234-EFGH'</span><span class="p">,</span>
   <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
   <span class="s">'name'</span><span class="p">:</span> <span class="s">'John Doe'</span><span class="p">,</span>
   <span class="s">'address1'</span><span class="p">:</span> <span class="s">'2630 Hegal Place'</span><span class="p">,</span>
   <span class="s">'address2'</span><span class="p">:</span> <span class="s">'Apt 42'</span><span class="p">,</span>
   <span class="s">'city'</span><span class="p">:</span> <span class="s">'Alexandria'</span><span class="p">,</span>
   <span class="s">'state'</span><span class="p">:</span> <span class="s">'VA'</span><span class="p">,</span>
   <span class="s">'zip'</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="s">'country'</span><span class="p">:</span> <span class="s">'US'</span><span class="p">,</span>
   <span class="s">'email'</span><span class="p">:</span> <span class="s">'john@doe.com'</span><span class="p">,</span>
   <span class="s">'cc'</span><span class="p">:</span> <span class="p">[</span>
       <span class="s">'jane@doe.com'</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="s">'phone'</span><span class="p">:</span> <span class="s">'555-123-456'</span><span class="p">,</span>
   <span class="s">'dueDate'</span><span class="p">:</span> <span class="s">'2021-5-31'</span><span class="p">,</span>
   <span class="s">'passProcessingFee'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
   <span class="s">'items'</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 1'</span><span class="p">,</span>
           <span class="s">'price'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 2'</span><span class="p">,</span>
           <span class="s">'price'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
   <span class="p">],</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"number"</span><span class="p">:</span> <span class="s2">"bill1234-EFGH"</span><span class="p">,</span>
   <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"USD"</span><span class="p">,</span>
   <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"John Doe"</span><span class="p">,</span>
   <span class="s2">"address1"</span><span class="p">:</span> <span class="s2">"2630 Hegal Place"</span><span class="p">,</span>
   <span class="s2">"address2"</span><span class="p">:</span> <span class="s2">"Apt 42"</span><span class="p">,</span>
   <span class="s2">"city"</span><span class="p">:</span> <span class="s2">"Alexandria"</span><span class="p">,</span>
   <span class="s2">"state"</span><span class="p">:</span> <span class="s2">"VA"</span><span class="p">,</span>
   <span class="s2">"zip"</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
   <span class="s2">"country"</span><span class="p">:</span> <span class="s2">"US"</span><span class="p">,</span>
   <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"john@doe.com"</span><span class="p">,</span>
   <span class="s2">"cc"</span><span class="p">:</span> <span class="p">[</span>
       <span class="s2">"jane@doe.com"</span><span class="p">,</span>
   <span class="p">],</span>
   <span class="s2">"phone"</span><span class="p">:</span> <span class="s2">"555-123-456"</span><span class="p">,</span>
   <span class="s2">"dueDate"</span><span class="p">:</span> <span class="s2">"2021-5-31"</span><span class="p">,</span>
   <span class="s2">"passProcessingFee"</span><span class="p">:</span> <span class="kp">true</span><span class="p">,</span>
   <span class="s2">"items"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Test item 1"</span><span class="p">,</span>
           <span class="s2">"price"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Test item 2"</span><span class="p">,</span>
           <span class="s2">"price"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
   <span class="p">],</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100c01b1a7af95e737ae7b110ce600234ba29a399747a18900a456c52f1cfe5f4ed022031b34ef62c2a49aa0d071fce09d6bf9da9f713941cab87ff34d23aa0237794ac"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-bills-create-a-bill-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
      </td>
      <td class="conditional">
        C
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-bills-create-a-bill-http-request-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>number</code>
        <div class="param-info">Bill identifier, specified by merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>name</code>
        <div class="param-info">Bill recipient's name</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>address1</code>
        <div class="param-info">Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>address2</code>
        <div class="param-info">Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>city</code>
        <div class="param-info">Bill recipient's city</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>state</code>
        <div class="param-info">Bill recipient's state or province</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>zip</code>
        <div class="param-info">Bill recipient's ZIP code</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>country</code>
        <div class="param-info">Bill recipient's country</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>email</code>
        <div class="param-info">Bill recipient's email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>cc</code>
        <div class="param-info">Email addresses to which a copy of the bill must be sent</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>phone</code>
        <div class="param-info">Bill recipient's phone number</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>dueDate</code>
        <div class="param-info">Date and time at which a bill is due, ISO-8601 format yyyy-mm-ddThh:mm:ssZ. (UTC)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>passProcessingFee</code>
        <div class="param-info">If set to <code>true</code>, BitPay's processing fee will be included in the amount charged on the invoice</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>items</code>
        <div class="param-info">List of line items</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>description</code>
        <div class="param-info">Line item description</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>price</code>
        <div class="param-info">Line item unit price for the corresponding <code>currency</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>quantity</code>
        <div class="param-info">Line item number of units</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">The API token can be retrieved from the dashboard (limited to <code>pos</code> facade) or using the <b>Tokens</b> resource to get access to the <code>merchant</code> facade. This is described in the section <a href="#rest-api-resources-tokens-request-an-api-token">Request an API token</a>).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-bills-create-a-bill-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of bill object via the pos facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pos/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=X6KJbe9RxAGWNReCwd1xRw&amp;resource=bills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:48:02.373Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"jane@doe.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EL4vx41Nxc5RYhbqDthjE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6spPADZ2h6MfADvnhfsuBt"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example of bill object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=3Zpmji8bRKxWJo2NJbWX5H&amp;resource=bills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-EFGH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:51:04.126Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"jane@doe.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7HyKWn3d4xdhAMQYAEVxVq"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NV35GRWtrdB2cmGEjY4LKY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apy3i2TpzHRYP8tJCkrZMT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the bill object returned in the response you will get from the BitPay server. A description of all bill fields is available in the <a href="#rest-api-resources-bills-resource">resource</a> section.</p>
<h4 id='rest-api-resources-bills-retrieve-a-bill'>Retrieve a bill</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/bills/:billId</h6>
    </div>
</div>
<h5 id='rest-api-resources-bills-retrieve-a-bill-facades'>Facades</h5>
<p><span class="scope">pos</span>
<span class="scope">merchant</span></p>
<h5 id='rest-api-resources-bills-retrieve-a-bill-http-request'>HTTP Request</h5>
<blockquote>
<p>via the pos facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills/X6KJbe9RxAGWNReCwd1xRw?token=AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>
<span class="nv">$billId</span> <span class="o">=</span> <span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$billId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="p">=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">billId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="o">=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">bill_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">X6KJbe9RxAGWNReCwd1xRw</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">bill_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">billId</span> <span class="o">:=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"AKnJyeLF1BjAfgfDbVUzHXk64N1WuDq3R9xtZouQFhSv"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills/3Zpmji8bRKxWJo2NJbWX5H?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="p">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">billId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="o">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>
<span class="nv">$billId</span> <span class="o">=</span> <span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$billId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">bill_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3Zpmji8bRKxWJo2NJbWX5H</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">bill_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">billId</span> <span class="o">:=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>

    <span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="p">)</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304402206f56bdcdc4cbf7101c948b4ed250ff6d96b66fdd60379435a0fea6bd81f0fb7d022051c00165fbe018c5bc547178dc7bac959be7183f7e0cb39825579946001b4cf4"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-bills-retrieve-a-bill-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">when fetching settlememts, pass a merchant facade token as a URL parameter</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-bills-retrieve-a-bill-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
      </td>
      <td class="conditional">
        C
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-bills-retrieve-a-bill-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of bill object via the pos facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pos/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=X6KJbe9RxAGWNReCwd1xRw&amp;resource=bills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-ABCD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:48:02.373Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"jane@doe.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EL4vx41Nxc5RYhbqDthjE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6spPADZ2h6MfADvnhfsuBt"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example of bill object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=3Zpmji8bRKxWJo2NJbWX5H&amp;resource=bills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-EFGH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:51:04.126Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"jane@doe.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7HyKWn3d4xdhAMQYAEVxVq"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NV35GRWtrdB2cmGEjY4LKY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apy3i2TpzHRYP8tJCkrZMT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the bill object returned in the response you will get from the BitPay server. A description of all bill fields is available in the <a href="#rest-api-resources-bills-resource">resource</a> section.</p>
<h4 id='rest-api-resources-bills-update-a-bill'>Update a bill</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PUT</i>
        <h6>https://bitpay.com/bills/:billId</h6>
    </div>
</div>
<h5 id='rest-api-resources-bills-update-a-bill-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-bills-update-a-bill-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills/3Zpmji8bRKxWJo2NJbWX5H"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"items":[
{
"description":"Test Item 1",
"price":6,"quantity":1
},
{
"description":"Test Item 2",
"price":4,"quantity":1
},
{
"description":"Test Item 3",
"price":5,"quantity":1
}
],
"token":"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>
<span class="nv">$billId</span> <span class="o">=</span> <span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="p">[</span>
           <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 1'</span><span class="p">,</span>
           <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 2'</span><span class="p">,</span>
           <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 3'</span><span class="p">,</span>
           <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
           <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">]</span>
   <span class="p">],</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$billId</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'PUT'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="p">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">billId</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974"</span>
    <span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"PUT"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                  <span class="s">"\"items\":["</span> <span class="p">+</span>
                      <span class="s">"{"</span> <span class="p">+</span>
                          <span class="s">"\"description\":\"Test item 1\","</span> <span class="p">+</span>
                          <span class="s">"\"price\":6,"</span> <span class="p">+</span>
                          <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                      <span class="s">"}"</span> <span class="p">+</span>
                      <span class="s">"{"</span> <span class="p">+</span>
                          <span class="s">"\"description\":\"Test item 2\","</span> <span class="p">+</span>
                          <span class="s">"\"price\":4,"</span> <span class="p">+</span>
                          <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                      <span class="s">"}"</span> <span class="p">+</span>
                      <span class="s">"{"</span> <span class="p">+</span>
                          <span class="s">"\"description\":\"Test item 3\","</span> <span class="p">+</span>
                          <span class="s">"\"price\":5,"</span> <span class="p">+</span>
                          <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                      <span class="s">"}"</span> <span class="p">+</span>
                  <span class="s">"],"</span> <span class="p">+</span>
                  <span class="s">"\"token\":\"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="o">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                 <span class="s">"\"items\":["</span> <span class="o">+</span>
                     <span class="s">"{"</span> <span class="o">+</span>
                         <span class="s">"\"description\":\"Test item 1\","</span> <span class="o">+</span>
                         <span class="s">"\"price\":6,"</span> <span class="o">+</span>
                         <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                     <span class="s">"}"</span> <span class="o">+</span>
                     <span class="s">"{"</span> <span class="o">+</span>
                         <span class="s">"\"description\":\"Test item 2\","</span> <span class="o">+</span>
                         <span class="s">"\"price\":4,"</span> <span class="o">+</span>
                         <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                     <span class="s">"}"</span> <span class="o">+</span>
                     <span class="s">"{"</span> <span class="o">+</span>
                         <span class="s">"\"description\":\"Test item 3\","</span> <span class="o">+</span>
                         <span class="s">"\"price\":5,"</span> <span class="o">+</span>
                         <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                     <span class="s">"}"</span> <span class="o">+</span>
                 <span class="s">"],"</span> <span class="o">+</span>
                 <span class="s">"\"token\":\"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA\""</span> <span class="o">+</span>
             <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span><span class="o">))</span>
   <span class="o">.</span><span class="na">PUT</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">bill_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3Zpmji8bRKxWJo2NJbWX5H</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">items</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 1</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 2</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 3</span><span class="dl">"</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
           <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">bill_id</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">billId</span> <span class="o">:=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "items": [
      {
         "description": "Test item 1",
         "price": 6,
         "quantity": 1
      },
      {
         "description": "Test item 2",
         "price": 4,
         "quantity": 1
      },
      {
         "description": "Test item 3",
         "price": 5,
         "quantity": 1
      }
   ],
   "token": "6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'items'</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 1'</span><span class="p">,</span>
           <span class="s">'price'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 2'</span><span class="p">,</span>
           <span class="s">'price'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 3'</span><span class="p">,</span>
           <span class="s">'price'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
           <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">bill_id</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"items"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Test item 1"</span><span class="p">,</span>
           <span class="s2">"price"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
           <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Test item 2"</span><span class="p">,</span>
           <span class="s2">"price"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
           <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">},</span>
       <span class="p">{</span>
           <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Test item 3"</span><span class="p">,</span>
           <span class="s2">"price"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
           <span class="s2">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="p">}</span>
   <span class="p">],</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3044022075cf9558ddceb9f3bf8ab76d70cc04a5749a2002e4b1cf6d73a0fe87eeb2abf602206cbd870332ffbcd829e8cb37a1e5bb895fe588bbd50695b05f14de71464c4974"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">bill_id</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Put</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-bills-update-a-bill-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>billId</code>
        <div class="param-info">the id of the bill you want to update</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-bills-update-a-bill-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-bills-update-a-bill-http-request-body'>Body</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>items</code>
        <div class="param-info">List of line items</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>description</code>
        <div class="param-info">Line item description</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>price</code>
        <div class="param-info">Line item unit price for the corresponding <code>currency</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>quantity</code>
        <div class="param-info">Line item number of units</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field, supported currencies are listed on https://bitpay.com/bitcoin-exchange-rates</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>email</code>
        <div class="param-info">Bill recipient's email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
   <tr>
    <td>
      <code>token</code>
      <div class="param-info">The resource token for the <code>billId</code> you want to update. You need to retrieve this token from the bill object itself, using the merchant facade (see section <a href="#rest-api-resources-invoices-retrieve-a-bill">Retrieve a bill</a>).</div>
    </td>
    <td>
      <code>string</code>
    </td>
    <td class="mandatory">
      M
    </td>
   </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-bills-update-a-bill-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of bill object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=3Zpmji8bRKxWJo2NJbWX5H&amp;resource=bills"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-EFGH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:51:04.126Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"jane@doe.com"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7HyKWn3d4xdhAMQYAEVxVq"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8vXbhqWDL1A9F66ZwJAiyJ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WmgAaPiyuY9L6vBX7KvF2R"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89xhSLYPnLDBczsQHCvJ2D"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 3"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7dnoyMe27VDKY1WNrCTqgK5RWbEi4XkvBSUTTwET6XnNYfWKYdrnSyg7myn7oc3vms"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the bill object returned in the response you will get from the BitPay server. A description of all bill fields is available in the <a href="#rest-api-resources-bills-resource">resource</a> section.</p>
<h4 id='rest-api-resources-bills-retrieve-bills-by-status'>Retrieve bills by status</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/bills</h6>
    </div>
</div>
<h5 id='rest-api-resources-bills-retrieve-bills-by-status-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-bills-retrieve-bills-by-status-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY&amp;status=draft"</span> <span class="se">\</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="p">=</span> <span class="s">"draft"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span>
    <span class="n">resourceUrl</span> <span class="p">+</span>
    <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span>
    <span class="s">"&amp;status="</span> <span class="p">+</span> <span class="n">status</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="o">=</span> <span class="s">"draft"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span>
           <span class="n">resourceUrl</span> <span class="o">+</span>
           <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
           <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
   <span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="s1">'draft'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span>
   <span class="nv">$resourceUrl</span> <span class="mf">.</span>
   <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span>
   <span class="s1">'&amp;status='</span> <span class="mf">.</span> <span class="nv">$status</span>
<span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">draft</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;status=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">status</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">status</span> <span class="o">:=</span> <span class="s">"draft"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span>
   <span class="n">resourceUrl</span> <span class="o">+</span>
   <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">status</span> <span class="o">=</span> <span class="s">'draft'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">'&amp;status='</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">status</span> <span class="o">=</span> <span class="s2">"draft"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100c9836ba9b4a03b84736ed8849e0642101509a82ebdf15bd91ea5c41d944c83f30220338faa09f5d88fcda4fc6d3be60dc8c96bbe8740867cea87899fb054b7631709"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s2">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
<span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>

</code></pre></div><h6 id='rest-api-resources-bills-retrieve-bills-by-status-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">when fetching settlememts, pass a merchant facade token as a URL parameter</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>&status=</code>
        <div class="param-info">the bill status you want to query on</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-bills-retrieve-bills-by-status-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-bills-retrieve-bills-by-status-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of bill object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/bill"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=X6KJbe9RxAGWNReCwd1xRw&amp;resource=bills"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:48:02.373Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@doe.com"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7HyKWn3d4xdhAMQYAEVxVq"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EL4vx41Nxc5RYhbqDthjE"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6spPADZ2h6MfADvnhfsuBt"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6EBQR37MgDJPfEiLY3jtRqBMYLg8XSDqhp2kp7VSDqCMHGHnsw4bqnnwQmtehzCvSo"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/bill?id=3Zpmji8bRKxWJo2NJbWX5H&amp;resource=bills"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill1234-EFGH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T09:51:04.126Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@doe.com"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7HyKWn3d4xdhAMQYAEVxVq"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NV35GRWtrdB2cmGEjY4LKY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apy3i2TpzHRYP8tJCkrZMT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the bill object returned in the response you will get from the BitPay server. A description of all bill fields is available in the <a href="#rest-api-resources-bills-resource">resource</a> section.</p>
<h4 id='rest-api-resources-bills-deliver-a-bill-via-email'>Deliver a bill via email</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/bills/:billId/deliveries</h6>
    </div>
</div>
<h5 id='rest-api-resources-bills-deliver-a-bill-via-email-facades'>Facades</h5>
<p><span class="scope">pos</span>
<span class="scope">merchant</span></p>
<h5 id='rest-api-resources-bills-deliver-a-bill-via-email-http-request'>HTTP Request</h5>
<blockquote>
<p>via the pos facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills/X6KJbe9RxAGWNReCwd1xRw/deliveries"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"token":"qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>
<span class="nv">$billId</span> <span class="o">=</span> <span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$billId</span> <span class="mf">.</span> <span class="s1">'/deliveries'</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="p">=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">billId</span> <span class="p">+</span> <span class="s">"/deliveries"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                <span class="s">"\"token\":\"qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="o">=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
               <span class="s">"\"token\":\"qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo\""</span> <span class="o">+</span>
           <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"/deliveries"</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">bill_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">X6KJbe9RxAGWNReCwd1xRw</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">bill_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/deliveries</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">billId</span> <span class="o">:=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "token": "qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"/deliveries"</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s">"X6KJbe9RxAGWNReCwd1xRw"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s">'/deliveries'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span>
                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s2">"X6KJbe9RxAGWNReCwd1xRw"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"qVVgRARN6fKtNZ7Tcq6qpoPBBE3NxdrmdMD883RyMK4Pf8EHENKVxCXhRwyynWveo"</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s2">"/deliveries"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/bills/3Zpmji8bRKxWJo2NJbWX5H/deliveries"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"token":"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="p">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">billId</span> <span class="p">+</span> <span class="s">"/deliveries"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
              <span class="s">"\"token\":\"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/bills"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">billId</span> <span class="o">=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
             <span class="s">"\"token\":\"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA\""</span> <span class="o">+</span>
           <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"/deliveries"</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/bills'</span><span class="p">;</span>
<span class="nv">$billId</span> <span class="o">=</span> <span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$billId</span> <span class="mf">.</span> <span class="s1">'/deliveries'</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/bills</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">bill_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">3Zpmji8bRKxWJo2NJbWX5H</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">bill_id</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/deliveries</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/bills"</span>
<span class="n">billId</span> <span class="o">:=</span> <span class="s">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
    "token": "6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">billId</span> <span class="o">+</span> <span class="s">"/deliveries"</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/bills'</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s">'3Zpmji8bRKxWJo2NJbWX5H'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s">'/deliveries'</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span>
                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/bills"</span>
<span class="n">bill_id</span> <span class="o">=</span> <span class="s2">"3Zpmji8bRKxWJo2NJbWX5H"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"6EBQR37MgDJPfEiLY3jtRq7eTP2aodR5V5wmXyyZhru5FM5yF4RCGKYQtnT7nhwHjA"</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3046022100cf237e8195f71d9f8c873314af50889730459a08ad9c5fa02a2bfadc9d7ae9a9022100fc654300344c08db92f2f8f2fc2adaab076a59af6f2941f658c92b2f2b6afdb9"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">bill_id</span> <span class="o">+</span> <span class="s2">"/deliveries"</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-bills-deliver-a-bill-via-email-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>billId</code>
        <div class="param-info">the id of the bill you want to deliver via email</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-bills-deliver-a-bill-via-email-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
      </td>
      <td class="conditional">
        C
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key. This header is required when using tokens with higher privileges (<code>merchant</code> facade). When using standard <code>pos</code> facade token directly from the <a href="https://test.bitpay.com/dashboard/merchant/api-tokens" target="_blank">BitPay dashboard</a> (with <code>"Require Authentication"</code> disabled), this header is not needed.</div>
      </td>
      <td class="conditional">
        C
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-bills-deliver-a-bill-via-email-http-request-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>token</code>
        <div class="param-info">The resource token for the <code>billId</code> you want to deliver via email. You need to retrieve this token from the bill object itself (see section <a href="#rest-api-resources-invoices-retrieve-a-bill">Retrieve a bill</a>).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-bills-deliver-a-bill-via-email-http-response'>HTTP Response</h5>
<blockquote>
<p>Response to a successful bill delivery</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-bills-deliver-a-bill-via-email-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">set to <code>"Success"</code> once a bill is successfully sent via email</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-subscriptions'>Subscriptions</h3>
<p>Subscriptions are repeat billing agreements with specific buyers. BitPay sends bill emails to buyers identified in active subscriptions according to the specified schedule.</p>
<h4 id='rest-api-resources-subscriptions-resource'>Resource</h4>
<blockquote>
<p>Example of subscription object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/subscription"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SeL33Hjyr3VmFHA5Skc4zy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"billData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@doe.com"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription1234-ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5461e13dfd8b0047590d644a"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 0 0 * * 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextDelivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T12:29:54.428Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85yxWk7aEgPdJME6zTkXkAGA3K13MtXf3WHqvtBvyhw3ycfEebJ5WMBRZHXsssSBvn"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>facade</code>
        <div class="param-info">Facade used to view subscription objects, set to <code>"merchant/subscription"</code>.</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Subscription data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">Subscription resource Id</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Subscription object status. Can be <code>draft</code>, <code>active</code> or <code>cancelled</code>. Subscriptions in active state will create new Bills on the <code>nextDelivery</code> date.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>billData</code>
        <div class="param-info">Object containing the recurring billing information</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>emailBill</code>
        <div class="param-info">If set the <code>true</code>, BitPay will automatically issue recurring bills to the <code>email</code> address provided once the status of the subscription is set to <code>active</code>.</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>cc</code>
        <div class="param-info">Email addresses to which a copy of the recurring bill must be sent</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>number</code>
        <div class="param-info">Recurring bill identifier, specified by merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>name</code>
        <div class="param-info">Recurring Bill recipient's name</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>address1</code>
        <div class="param-info">Recurring Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>address2</code>
        <div class="param-info">Recurring Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>city</code>
        <div class="param-info">Recurring Bill recipient's city</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>state</code>
        <div class="param-info">Recurring Bill recipient's state or province</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>zip</code>
        <div class="param-info">Recurring Bill recipient's ZIP code</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>country</code>
        <div class="param-info">Recurring Bill recipient's country</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>email</code>
        <div class="param-info">Recurring Bill recipient's email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>phone</code>
        <div class="param-info">Recurring Bill recipient's phone</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>dueDate</code>
        <div class="param-info">Date and time at which a bill is due, ISO-8601 format yyyy-mm-ddThh:mm:ssZ (UTC).</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>passProcessingFee</code>
        <div class="param-info">If set to <code>true</code>, BitPay's processing fee will be included in the amount charged on the invoice</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>items</code>
        <div class="param-info">List of line items</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>description</code>
        <div class="param-info">Line item description</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>price</code>
        <div class="param-info">Line item unit price for the corresponding <code>currency</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>quantity</code>
        <div class="param-info">Line item number of units</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>merchant</code>
        <div class="param-info">Internal identifier for BitPay, this field can be ignored by the merchants.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>schedule</code>
        <div class="param-info">Schedule of repeat bill due dates. Can be <code>weekly</code>, <code>monthly</code>, <code>quarterly</code>, <code>yearly</code>, or a simple cron expression specifying seconds, minutes, hours, day of month, month, and day of week. BitPay maintains the difference between the due date and the delivery date in all subsequent, automatically-generated bills.
          <code>
            <p>+-------------- second (0 - 59)</p>
            <p>|  +------------ minute (0 - 59)</p>
            <p>|  |  +---------- hour (0 - 23)</p>
            <p>|  |  |  +-------- day of month (1 - 31)</p>
            <p>|  |  |  |  +------ month (1 - 12)</p>
            <p>|  |  |  |  |  +---- day of week (0 - 6) (Sunday=0 or 7)</p>
            <p>|  |  |  |  |  |</p>
            <p>*  *  *  *  *  *     Cron expression</p>
          </code>
        </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>nextDelivery</code>
        <div class="param-info">Default is current date & time, ISO-8601 format yyyy-mm-ddThh:mm:ssZ (UTC). Current or past date indicates that the bill can be delivered immediately. BitPay may modify the hh:mm:ss values in order to distribute deliveries evenly throughout the day.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>createdDate</code>
        <div class="param-info">Date and time of recurring billing creation, ISO-8601 format yyyy-mm-ddThh:mm:ssZ (UTC)</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token for subscription resource. This token is actually derived from the API token used to create the subscription and is tied to the specific resource id created. </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-subscriptions-create-a-subscription'>Create a subscription</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/subscriptions</h6>
    </div>
</div>
<h5 id='rest-api-resources-subscriptions-create-a-subscription-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-subscriptions-create-a-subscription-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 30450221009ef444f893ec1f4cb725dcebb044090fc5168d4828827dc6c8fa84b71f3558d802202db1db3ce3f563fa7d514c50d2560371c20992b79ab06a246834118d11a54070"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/subscriptions"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"billData":{
"number":"subscription1234-ABCD",
"currency":"USD",
"name":"John Doe",
"address1":"2630 Hegal Place",
"address2":"Apt 42",
"city":"Alexandria",
"state":"VA",
"zip":23242,
"country":"US",
"email":"john@doe.com",
"cc":["jane@doe.com"],
"phone":"555-123-456",
"dueDate":"2021-5-31",
"passProcessingFee":true,
"items":[
{
"description":"Test Item 1",
"price":6,
"quantity":1
},
{
"description":"Test Item 2",
"price":4,"quantity":1
}
]
},
"nextDelivery":"2021-5-24",
"schedule":"weekly",
"token":"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"30450221009ef444f893ec1f4cb725dcebb044090fc5168d4828827dc6c8fa84b71f3558d802202db1db3ce3f563fa7d514c50d2560371c20992b79ab06a246834118d11a54070"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                <span class="s">"\"billData\":{"</span> <span class="p">+</span>
                    <span class="s">"\"number\":\"subscription1234-ABCD\","</span> <span class="p">+</span>
                    <span class="s">"\"currency\":\"USD\","</span> <span class="p">+</span>
                    <span class="s">"\"name\":\"John Doe\","</span> <span class="p">+</span>
                    <span class="s">"\"address1\":\"2630 Hegal Place\","</span> <span class="p">+</span>
                    <span class="s">"\"address2\":\"Apt 42\","</span> <span class="p">+</span>
                    <span class="s">"\"city\":\"Alexandria\","</span> <span class="p">+</span>
                    <span class="s">"\"state\":\"VA\","</span> <span class="p">+</span>
                    <span class="s">"\"zip\":23242,"</span> <span class="p">+</span>
                    <span class="s">"\"country\":\"US\","</span> <span class="p">+</span>
                    <span class="s">"\"email\":\"john@doe.com\","</span> <span class="p">+</span>
                    <span class="s">"\"cc\":["</span> <span class="p">+</span>
                      <span class="s">"\"jane@doe.com\""</span> <span class="p">+</span>
                    <span class="s">"],"</span> <span class="p">+</span>
                    <span class="s">"\"phone\":\"555-123-456\","</span> <span class="p">+</span>
                    <span class="s">"\"dueDate\":\"2021-5-31\","</span> <span class="p">+</span>
                    <span class="s">"\"passProcessingFee\":true,"</span> <span class="p">+</span>
                    <span class="s">"\"items\":["</span> <span class="p">+</span>
                      <span class="s">"{"</span> <span class="p">+</span>
                          <span class="s">"\"description\":\"Test item 1\","</span> <span class="p">+</span>
                          <span class="s">"\"price\":6,"</span> <span class="p">+</span>
                          <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                      <span class="s">"},"</span> <span class="p">+</span>
                      <span class="s">"{"</span> <span class="p">+</span>
                          <span class="s">"\"description\":\"Test item 2\","</span> <span class="p">+</span>
                          <span class="s">"\"price\":4,"</span> <span class="p">+</span>
                          <span class="s">"\"quantity\":1"</span> <span class="p">+</span>
                      <span class="s">"}"</span> <span class="p">+</span>
                    <span class="s">"]"</span> <span class="p">+</span>
                <span class="s">"},"</span> <span class="p">+</span>
                <span class="s">"\"nextDelivery\":\"2021-5-24\","</span> <span class="p">+</span>
                <span class="s">"\"schedule\":\"weekly\","</span> <span class="p">+</span>
                <span class="s">"\"token\":\"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
             <span class="s">"\"billData\":{"</span> <span class="o">+</span>
                 <span class="s">"\"number\":\"subscription1234-ABCD\","</span> <span class="o">+</span>
                 <span class="s">"\"currency\":\"USD\","</span> <span class="o">+</span>
                 <span class="s">"\"name\":\"John Doe\","</span> <span class="o">+</span>
                 <span class="s">"\"address1\":\"2630 Hegal Place\","</span> <span class="o">+</span>
                 <span class="s">"\"address2\":\"Apt 42\","</span> <span class="o">+</span>
                 <span class="s">"\"city\":\"Alexandria\","</span> <span class="o">+</span>
                 <span class="s">"\"state\":\"VA\","</span> <span class="o">+</span>
                 <span class="s">"\"zip\":23242,"</span> <span class="o">+</span>
                 <span class="s">"\"country\":\"US\","</span> <span class="o">+</span>
                 <span class="s">"\"email\":\"john@doe.com\","</span> <span class="o">+</span>
                 <span class="s">"\"cc\":["</span> <span class="o">+</span>
                   <span class="s">"\"jane@doe.com\""</span> <span class="o">+</span>
                 <span class="s">"],"</span> <span class="o">+</span>
                 <span class="s">"\"phone\":\"555-123-456\","</span> <span class="o">+</span>
                 <span class="s">"\"dueDate\":\"2021-5-31\","</span> <span class="o">+</span>
                 <span class="s">"\"passProcessingFee\":true,"</span> <span class="o">+</span>
                 <span class="s">"\"items\":["</span> <span class="o">+</span>
                   <span class="s">"{"</span> <span class="o">+</span>
                       <span class="s">"\"description\":\"Test item 1\","</span> <span class="o">+</span>
                       <span class="s">"\"price\":6,"</span> <span class="o">+</span>
                       <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                   <span class="s">"},"</span> <span class="o">+</span>
                   <span class="s">"{"</span> <span class="o">+</span>
                       <span class="s">"\"description\":\"test item 2\","</span> <span class="o">+</span>
                       <span class="s">"\"price\":4,"</span> <span class="o">+</span>
                       <span class="s">"\"quantity\":1"</span> <span class="o">+</span>
                   <span class="s">"}"</span> <span class="o">+</span>
                 <span class="s">"]"</span> <span class="o">+</span>
             <span class="s">"},"</span> <span class="o">+</span>
             <span class="s">"\"nextDelivery\":\"2021-5-24\","</span> <span class="o">+</span>
             <span class="s">"\"schedule\":\"weekly\","</span> <span class="o">+</span>
             <span class="s">"\"token\":\"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY\""</span> <span class="o">+</span>
           <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"30450221009ef444f893ec1f4cb725dcebb044090fc5168d4828827dc6c8fa84b71f3558d802202db1db3ce3f563fa7d514c50d2560371c20992b79ab06a246834118d11a54070"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/subscriptions'</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'billData'</span> <span class="o">=&gt;</span> <span class="p">[</span>
       <span class="s1">'number'</span> <span class="o">=&gt;</span> <span class="s1">'subscription1234-ABCD'</span><span class="p">,</span>
       <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
       <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'John Doe'</span><span class="p">,</span>
       <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'2630 Hegal Place'</span><span class="p">,</span>
       <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'Apt 42'</span><span class="p">,</span>
       <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Alexandria'</span><span class="p">,</span>
       <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'VA'</span><span class="p">,</span>
       <span class="s1">'zip'</span> <span class="o">=&gt;</span> <span class="mi">23242</span><span class="p">,</span>
       <span class="s1">'country'</span> <span class="o">=&gt;</span> <span class="s1">'US'</span><span class="p">,</span>
       <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'john@doe.com'</span><span class="p">,</span>
       <span class="s1">'cc'</span> <span class="o">=&gt;</span> <span class="p">[</span>
           <span class="s1">'jane@doe.com'</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="s1">'phone'</span> <span class="o">=&gt;</span> <span class="s1">'555-123-456'</span><span class="p">,</span>
       <span class="s1">'dueDate'</span> <span class="o">=&gt;</span> <span class="s1">'2021-5-31'</span><span class="p">,</span>
       <span class="s1">'passProcessingFee'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
       <span class="s1">'items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
           <span class="p">[</span>
               <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 1'</span><span class="p">,</span>
               <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span>
               <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
           <span class="p">],</span>
           <span class="p">[</span>
               <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'Test item 2'</span><span class="p">,</span>
               <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
               <span class="s1">'quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
           <span class="p">],</span>
       <span class="p">],</span>
   <span class="p">],</span>
   <span class="s1">'nextDelivery'</span> <span class="o">=&gt;</span> <span class="s1">'2021-5-24'</span><span class="p">,</span>
   <span class="s1">'schedule'</span> <span class="o">=&gt;</span> <span class="s1">'weekly'</span><span class="p">,</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 30450221009ef444f893ec1f4cb725dcebb044090fc5168d4828827dc6c8fa84b71f3558d802202db1db3ce3f563fa7d514c50d2560371c20992b79ab06a246834118d11a54070'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/subscriptions</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">billData</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
       <span class="dl">"</span><span class="s2">number</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">subscription1234-ABCD</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">John Doe</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">address1</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2630 Hegal Place</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">address2</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Apt 42</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">city</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Alexandria</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">state</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">VA</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">zip</span><span class="dl">"</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">country</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">US</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">john@doe.com</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">cc</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
           <span class="dl">"</span><span class="s2">jane@doe.com</span><span class="dl">"</span>
       <span class="p">],</span>
       <span class="dl">"</span><span class="s2">phone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">555-123-456</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">dueDate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-6-1</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">passProcessingFee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">items</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
           <span class="p">{</span>
               <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 1</span><span class="dl">"</span><span class="p">,</span>
               <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
               <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Test item 2</span><span class="dl">"</span><span class="p">,</span>
               <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
               <span class="dl">"</span><span class="s2">quantity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
           <span class="p">}</span>
       <span class="p">]</span>
   <span class="p">},</span>
   <span class="dl">"</span><span class="s2">nextDelivery</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-2-20</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">schedule</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">weekly</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">30450221008d5f19cc140160ff6410d9c84c55d9f5abfffa01a1ac2aa05f47ce8207b78cf602201c4e60f18da2aa4c49851aaed0441c060d7b07fe69d8183db725d4ad4c157795</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/subscriptions"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
    "billData": {
        "number": "subscription1234-ABCD",
        "currency": "USD",
        "name": "John Doe",
        "address1": "2630 Hegal Place",
        "address2": "Apt 42",
        "city": "Alexandria",
        "state": "VA",
        "zip": 23242,
        "country": "US",
        "email": "john@doe.com",
        "cc": [
            "jane@doe.com"
        ],
        "phone": "555-123-456",
        "dueDate": "2020-6-1",
        "passProcessingFee": true,
        "items": [
            {
                "description": "Test item 1",
                "price": 6,
                "quantity": 1
            },
            {
                "description": "Test item 2",
                "price": 4,
                "quantity": 1
            }
        ]
    },
    "nextDelivery": "2020-2-20",
    "schedule": "weekly",
    "token": "MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"30450221008d5f19cc140160ff6410d9c84c55d9f5abfffa01a1ac2aa05f47ce8207b78cf602201c4e60f18da2aa4c49851aaed0441c060d7b07fe69d8183db725d4ad4c157795"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/subscriptions'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'billData'</span><span class="p">:</span> <span class="p">{</span>
       <span class="s">'number'</span><span class="p">:</span> <span class="s">'subscription1234-ABCD'</span><span class="p">,</span>
       <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
       <span class="s">'name'</span><span class="p">:</span> <span class="s">'John Doe'</span><span class="p">,</span>
       <span class="s">'address1'</span><span class="p">:</span> <span class="s">'2630 Hegal Place'</span><span class="p">,</span>
       <span class="s">'address2'</span><span class="p">:</span> <span class="s">'Apt 42'</span><span class="p">,</span>
       <span class="s">'city'</span><span class="p">:</span> <span class="s">'Alexandria'</span><span class="p">,</span>
       <span class="s">'state'</span><span class="p">:</span> <span class="s">'VA'</span><span class="p">,</span>
       <span class="s">'zip'</span><span class="p">:</span> <span class="mi">23242</span><span class="p">,</span>
       <span class="s">'country'</span><span class="p">:</span> <span class="s">'US'</span><span class="p">,</span>
       <span class="s">'email'</span><span class="p">:</span> <span class="s">'john@doe.com'</span><span class="p">,</span>
       <span class="s">'cc'</span><span class="p">:</span> <span class="p">[</span>
           <span class="s">'jane@doe.com'</span><span class="p">,</span>
       <span class="p">],</span>
       <span class="s">'phone'</span><span class="p">:</span> <span class="s">'555-123-456'</span><span class="p">,</span>
       <span class="s">'dueDate'</span><span class="p">:</span> <span class="s">'2021-5-31'</span><span class="p">,</span>
       <span class="s">'passProcessingFee'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
       <span class="s">'items'</span><span class="p">:</span> <span class="p">[</span>
           <span class="p">{</span>
               <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 1'</span><span class="p">,</span>
               <span class="s">'price'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
               <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="s">'description'</span><span class="p">:</span> <span class="s">'Test item 2'</span><span class="p">,</span>
               <span class="s">'price'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
               <span class="s">'quantity'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
           <span class="p">},</span>
       <span class="p">],</span>
   <span class="p">},</span>
   <span class="s">'nextDelivery'</span><span class="p">:</span> <span class="s">'2021-5-24'</span><span class="p">,</span>
   <span class="s">'schedule'</span><span class="p">:</span> <span class="s">'weekly'</span><span class="p">,</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'30450221009ef444f893ec1f4cb725dcebb044090fc5168d4828827dc6c8fa84b71f3558d802202db1db3ce3f563fa7d514c50d2560371c20992b79ab06a246834118d11a54070'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/subscriptions"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"billData"</span><span class="p">:{</span>
       <span class="s2">"number"</span><span class="ss">:"subscription1234-ABCD"</span><span class="p">,</span>
       <span class="s2">"currency"</span><span class="ss">:"USD"</span><span class="p">,</span>
       <span class="s2">"name"</span><span class="ss">:"John Doe"</span><span class="p">,</span>
       <span class="s2">"address1"</span><span class="ss">:"2630 Hegal Place"</span><span class="p">,</span>
       <span class="s2">"address2"</span><span class="ss">:"Apt 42"</span><span class="p">,</span>
       <span class="s2">"city"</span><span class="ss">:"Alexandria"</span><span class="p">,</span>
       <span class="s2">"state"</span><span class="ss">:"VA"</span><span class="p">,</span>
       <span class="s2">"zip"</span><span class="p">:</span><span class="mi">23242</span><span class="p">,</span>
       <span class="s2">"country"</span><span class="ss">:"US"</span><span class="p">,</span>
       <span class="s2">"email"</span><span class="ss">:"john@doe.com"</span><span class="p">,</span>
       <span class="s2">"cc"</span><span class="p">:[</span>
           <span class="s2">"jane@doe.com"</span>
       <span class="p">],</span>
       <span class="s2">"phone"</span><span class="ss">:"555-123-456"</span><span class="p">,</span>
       <span class="s2">"dueDate"</span><span class="ss">:"2020-6-1"</span><span class="p">,</span>
       <span class="s2">"passProcessingFee"</span><span class="ss">:true</span><span class="p">,</span>
       <span class="s2">"items"</span><span class="p">:[</span>
           <span class="p">{</span>
               <span class="s2">"description"</span><span class="ss">:"Test item 1"</span><span class="p">,</span>
               <span class="s2">"price"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span>
               <span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span>
           <span class="p">},</span>
           <span class="p">{</span>
               <span class="s2">"description"</span><span class="ss">:"Test item 2"</span><span class="p">,</span>
               <span class="s2">"price"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span>
               <span class="s2">"quantity"</span><span class="p">:</span><span class="mi">1</span>
           <span class="p">}</span>
       <span class="p">]</span>
   <span class="p">},</span>
   <span class="s2">"nextDelivery"</span><span class="ss">:"2020-2-20"</span><span class="p">,</span>
   <span class="s2">"schedule"</span><span class="ss">:"weekly"</span><span class="p">,</span>
   <span class="s2">"token"</span><span class="ss">:"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"30450221008d5f19cc140160ff6410d9c84c55d9f5abfffa01a1ac2aa05f47ce8207b78cf602201c4e60f18da2aa4c49851aaed0441c060d7b07fe69d8183db725d4ad4c157795"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-subscriptions-create-a-subscription-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-subscriptions-create-a-subscription-http-request-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>billData</code>
        <div class="param-info">Object containing the recurring billing information</div>
      </td>
      <td>
        <code>object</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>cc</code>
        <div class="param-info">Email addresses to which a copy of the recurring bill must be sent</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>number</code>
        <div class="param-info">Recurring bill identifier, specified by merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">Recurring Bill recipient's name</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>address1</code>
        <div class="param-info">Recurring Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>address2</code>
        <div class="param-info">Recurring Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>city</code>
        <div class="param-info">Recurring Bill recipient's city</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>state</code>
        <div class="param-info">Recurring Bill recipient's state or province</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>zip</code>
        <div class="param-info">Recurring Bill recipient's ZIP code</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>country</code>
        <div class="param-info">Recurring Bill recipient's country</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>email</code>
        <div class="param-info">Recurring Bill recipient's email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>phone</code>
        <div class="param-info">Recurring Bill recipient's phone</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dueDate</code>
        <div class="param-info">Date and time at which a bill is due, ISO-8601 format yyyy-mm-ddThh:mm:ssZ (UTC).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>passProcessingFee</code>
        <div class="param-info">If set to <code>true</code>, BitPay's processing fee will be included in the amount charged on the invoice</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>items</code>
        <div class="param-info">List of line items</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>description</code>
        <div class="param-info">Line item description</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>price</code>
        <div class="param-info">Line item unit price for the corresponding <code>currency</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>quantity</code>
        <div class="param-info">Line item number of units</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>schedule</code>
        <div class="param-info">Schedule of repeat bill due dates. Can be <code>weekly</code>, <code>monthly</code>, <code>quarterly</code>, <code>yearly</code>, or a simple cron expression specifying seconds, minutes, hours, day of month, month, and day of week. BitPay maintains the difference between the due date and the delivery date in all subsequent, automatically-generated bills.
          <code>
            <p>+-------------- second (0 - 59)</p>
            <p>|  +------------ minute (0 - 59)</p>
            <p>|  |  +---------- hour (0 - 23)</p>
            <p>|  |  |  +-------- day of month (1 - 31)</p>
            <p>|  |  |  |  +------ month (1 - 12)</p>
            <p>|  |  |  |  |  +---- day of week (0 - 6) (Sunday=0 or 7)</p>
            <p>|  |  |  |  |  |</p>
            <p>*  *  *  *  *  *     Cron expression</p>
          </code>
        </div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>nextDelivery</code>
        <div class="param-info">Default is current date & time, ISO-8601 format yyyy-mm-ddThh:mm:ssZ (UTC). Current or past date indicates that the bill can be delivered immediately. BitPay may modify the hh:mm:ss values in order to distribute deliveries evenly throughout the day.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token retrieved via endpoint <code>POST https://bitpay.com/tokens</code> (<code>merchant</code> facade)</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-subscriptions-create-a-subscription-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of subscription object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/subscription"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SeL33Hjyr3VmFHA5Skc4zy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"billData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@doe.com"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription1234-ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5461e13dfd8b0047590d644a"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 0 0 * * 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextDelivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T12:29:54.428Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85yxWk7aEgPdJME6zTkXkAGA3K13MtXf3WHqvtBvyhw3ycfEebJ5WMBRZHXsssSBvn"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the subscription object returned in the response you will get from the BitPay server. A description of all subscription fields is available in the <a href="#rest-api-resources-subscriptions-resource">resource</a> section.</p>
<h4 id='rest-api-resources-subscriptions-retrieve-a-subscription'>Retrieve a subscription</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/subscriptions/:subscriptionId</h6>
    </div>
</div>
<h5 id='rest-api-resources-subscriptions-retrieve-a-subscription-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-subscriptions-retrieve-a-subscription-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/subscriptions/6gqe8y5mkc5Qx2a9zmspgx?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">subscriptionId</span> <span class="p">=</span> <span class="s">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">subscriptionId</span> <span class="p">+</span> <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">subscriptionId</span> <span class="o">=</span> <span class="s">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">subscriptionId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/subscriptions'</span><span class="p">;</span>
<span class="nv">$subscriptionId</span> <span class="o">=</span> <span class="s2">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$subscriptionId</span> <span class="mf">.</span> <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/subscriptions</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">subscriptionId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">6gqe8y5mkc5Qx2a9zmspgx</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">subscriptionId</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/subscriptions"</span>
<span class="n">subscriptionId</span> <span class="o">:=</span> <span class="s">"6gqe8y5mkc5Qx2a9zmspgx"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>

    <span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">subscriptionId</span> <span class="o">+</span> <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/subscriptions'</span>
<span class="n">subscriptionId</span> <span class="o">=</span> <span class="s">"6gqe8y5mkc5Qx2a9zmspgx"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">subscriptionId</span> <span class="o">+</span> <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/subscriptions"</span>
<span class="n">subscriptionId</span> <span class="o">=</span> <span class="s2">"6gqe8y5mkc5Qx2a9zmspgx"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"30440220261ead082717bd53c854c999c0851aa4955b93c7386fa84a8d488bc5d49a206a022046cb6fd37a353134b3dc800004d4d2a60835078924ae1b66e2367d61f4e29d3e"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">subscriptionId</span> <span class="o">+</span> <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-subscriptions-retrieve-a-subscription-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>subscriptionId</code>
        <div class="param-info">the subscription status you want to query on</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">when fetching subscriptions, pass a merchant facade token as a URL parameter</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-subscriptions-retrieve-a-subscription-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-subscriptions-retrieve-a-subscription-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of subscription object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="mi">200</span><span class="w"> 

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/subscription"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"billData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@doe.com"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription1234-ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5461e13dfd8b0047590d644a"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 0 0 * * 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextDelivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T12:41:51.841Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the subscription object returned in the response you will get from the BitPay server. A description of all subscription fields is available in the <a href="#rest-api-resources-subscriptions-resource">resource</a> section.</p>
<h4 id='rest-api-resources-subscriptions-update-a-subscription'>Update a subscription</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">PUT</i>
        <h6>https://bitpay.com/subscriptions/:subscriptionId</h6>
    </div>
</div>
<h5 id='rest-api-resources-subscriptions-update-a-subscription-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-subscriptions-update-a-subscription-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> PUT <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/subscriptions/6gqe8y5mkc5Qx2a9zmspgx"</span> <span class="se">\</span>
<span class="nt">-d</span> @- <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
"status":"active",
"token":"85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6"
}
</span><span class="no">EOF
</span></code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">subscriptionId</span> <span class="p">=</span> <span class="s">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">subscriptionId</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"PUT"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">json</span> <span class="p">=</span> <span class="s">"{"</span> <span class="p">+</span>
                  <span class="s">"\"status\":\"active\","</span> <span class="p">+</span>
                  <span class="s">"\"token\":\"85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6\""</span> <span class="p">+</span>
              <span class="s">"}"</span><span class="p">;</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamWriter</span><span class="p">(</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Flush</span><span class="p">();</span>
    <span class="n">streamWriter</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">subscriptionId</span> <span class="o">=</span> <span class="s">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="o">;</span>

<span class="kt">var</span> <span class="n">json</span> <span class="o">=</span> <span class="s">"{"</span> <span class="o">+</span>
                 <span class="s">"\"status\":\"active\","</span> <span class="o">+</span>
                 <span class="s">"\"token\":\"85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6\""</span> <span class="o">+</span>
             <span class="s">"}"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">subscriptionId</span><span class="o">))</span>
   <span class="o">.</span><span class="na">PUT</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">json</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/subscriptions'</span><span class="p">;</span>
<span class="nv">$subscriptionId</span> <span class="o">=</span> <span class="s2">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="p">;</span>

<span class="nv">$postData</span> <span class="o">=</span> <span class="nb">json_encode</span><span class="p">([</span>
   <span class="s1">'status'</span> <span class="o">=&gt;</span> <span class="s1">'active'</span><span class="p">,</span>
   <span class="s1">'token'</span> <span class="o">=&gt;</span> <span class="s1">'85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6'</span><span class="p">,</span>
<span class="p">]);</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span> <span class="mf">.</span> <span class="s1">'/'</span> <span class="mf">.</span> <span class="nv">$subscriptionId</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'PUT'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2'</span>
<span class="p">]);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$postData</span><span class="p">));</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/subscriptions</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">subscription_id</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">6gqe8y5mkc5Qx2a9zmspgx</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">active</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">subscription_id</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="nx">post_data</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/subscriptions"</span>
<span class="n">subscriptionId</span> <span class="o">:=</span> <span class="s">"6gqe8y5mkc5Qx2a9zmspgx"</span>
<span class="n">postData</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">(</span><span class="s">`{
   "status": "active",
   "token": "85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6"
}`</span><span class="p">)</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"PUT"</span><span class="p">,</span> <span class="n">resourceUrl</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">subscriptionId</span><span class="p">,</span> <span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">postData</span><span class="p">))</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="p">)</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/subscriptions'</span>
<span class="n">subscription_id</span> <span class="o">=</span> <span class="s">'6gqe8y5mkc5Qx2a9zmspgx'</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'status'</span><span class="p">:</span> <span class="s">'active'</span><span class="p">,</span>
   <span class="s">'token'</span><span class="p">:</span> <span class="s">'85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s">'/'</span> <span class="o">+</span> <span class="n">subscription_id</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_data</span><span class="p">),</span>
                       <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/subscriptions"</span>
<span class="n">subscription_id</span> <span class="o">=</span> <span class="s2">"6gqe8y5mkc5Qx2a9zmspgx"</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"active"</span><span class="p">,</span>
   <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6"</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"3045022100b9270bd26181f2b5eb2aa90383b138963748d4b359b2bbf4082ba3530ce18dfd02207f16851ecfc9978218ee4a89b8d01a7ad597548280fe6bde82e978234dde0bc2"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span> <span class="o">+</span> <span class="s2">"/"</span> <span class="o">+</span> <span class="n">subscription_id</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Put</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">post_data</span><span class="p">.</span><span class="nf">to_json</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-subscriptions-update-a-subscription-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>subscriptionId</code>
        <div class="param-info">the subscription you want to update</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-subscriptions-update-a-subscription-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-subscriptions-update-a-subscription-http-request-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>status</code>
        <div class="param-info">Can be "draft" or "active" or "cancelled`. Subscriptions in active state will create new Bills on the <code>nextDelivery</code> date.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td>
        <code>billData</code>
        <div class="param-info">Object containing the recurring billing information</div>
      </td>
      <td>
        <code>object</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>cc</code>
        <div class="param-info">Email addresses to which a copy of the recurring bill must be sent</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>number</code>
        <div class="param-info">Recurring bill identifier, specified by merchant</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code. This is the currency associated with the price field</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">Recurring Bill recipient's name</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>address1</code>
        <div class="param-info">Recurring Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>address2</code>
        <div class="param-info">Recurring Bill recipient's address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>city</code>
        <div class="param-info">Recurring Bill recipient's city</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>state</code>
        <div class="param-info">Recurring Bill recipient's state or province</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>zip</code>
        <div class="param-info">Recurring Bill recipient's ZIP code</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>country</code>
        <div class="param-info">Recurring Bill recipient's country</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>email</code>
        <div class="param-info">Recurring Bill recipient's email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>phone</code>
        <div class="param-info">Recurring Bill recipient's phone</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>dueDate</code>
        <div class="param-info">Date and time at which a bill is due, ISO-8601 format yyyy-mm-ddThh:mm:ssZ (UTC).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>passProcessingFee</code>
        <div class="param-info">If set to <code>true</code>, BitPay's processing fee will be included in the amount charged on the invoice</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>items</code>
        <div class="param-info">List of line items</div>
      </td>
      <td>
        <code>array</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>description</code>
        <div class="param-info">Line item description</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>price</code>
        <div class="param-info">Line item unit price for the corresponding <code>currency</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>quantity</code>
        <div class="param-info">Line item number of units</div>
      </td>
      <td>
        <code>number</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>schedule</code>
        <div class="param-info">Schedule of repeat bill due dates. Can be <code>weekly</code>, <code>monthly</code>, <code>quarterly</code>, <code>yearly</code>, or a simple cron expression specifying seconds, minutes, hours, day of month, month, and day of week. BitPay maintains the difference between the due date and the delivery date in all subsequent, automatically-generated bills.
          <code>
            <p>+-------------- second (0 - 59)</p>
            <p>|  +------------ minute (0 - 59)</p>
            <p>|  |  +---------- hour (0 - 23)</p>
            <p>|  |  |  +-------- day of month (1 - 31)</p>
            <p>|  |  |  |  +------ month (1 - 12)</p>
            <p>|  |  |  |  |  +---- day of week (0 - 6) (Sunday=0 or 7)</p>
            <p>|  |  |  |  |  |</p>
            <p>*  *  *  *  *  *     Cron expression</p>
          </code>
        </div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>nextDelivery</code>
        <div class="param-info">Default is current date & time, ISO-8601 format yyyy-mm-ddThh:mm:ssZ (UTC). Current or past date indicates that the bill can be delivered immediately. BitPay may modify the hh:mm:ss values in order to distribute deliveries evenly throughout the day.</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">The resource token for the <code>subscriptionId</code> you want to modify. You need to retrieve this token from the subscription object itself, using the merchant facade (see section <a href="#rest-api-resources-subscriptions-retrieve-a-subscription">Retrieve a subscription</a>).</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-subscriptions-update-a-subscription-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of activated subscription</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/subscription"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SeL33Hjyr3VmFHA5Skc4zy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"billData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jane@doe.com"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription1234-ABCD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5461e13dfd8b0047590d644a"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 0 0 * * 1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextDelivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T12:29:54.428Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85yxWk7aEgPdJME6zTkXkAGA3K13MtXf3WHqvtBvyhw3ycfEebJ5WMBRZHXsssSBvn"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the subscription object returned in the response you will get from the BitPay server. A description of all subscription fields is available in the <a href="#rest-api-resources-subscriptions-resource">resource</a> section.</p>
<h4 id='rest-api-resources-subscriptions-retrieve-subscriptions-based-on-status'>Retrieve subscriptions based on status</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/subscriptions</h6>
    </div>
</div>
<h5 id='rest-api-resources-subscriptions-retrieve-subscriptions-based-on-status-facades'>Facades</h5>
<p><span class="scope">merchant</span></p>
<h5 id='rest-api-resources-subscriptions-retrieve-subscriptions-based-on-status-http-request'>HTTP Request</h5>
<blockquote>
<p>via the merchant facade (signed requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Signature: 304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/subscriptions?token=MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY&amp;status=draft"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="p">=</span> <span class="s">"draft"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span>
    <span class="n">resourceUrl</span> <span class="p">+</span>
    <span class="s">"?token="</span> <span class="p">+</span> <span class="n">token</span> <span class="p">+</span>
    <span class="s">"&amp;status="</span> <span class="p">+</span> <span class="n">status</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Identity"</span><span class="p">,</span>
    <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="s">"X-Signature"</span><span class="p">,</span>
    <span class="s">"304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99"</span>
<span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/subscriptions"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">token</span> <span class="o">=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span><span class="o">;</span>
<span class="kt">var</span> <span class="n">status</span> <span class="o">=</span> <span class="s">"draft"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Identity"</span><span class="o">,</span>
           <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span>
           <span class="s">"X-Signature"</span><span class="o">,</span>
           <span class="s">"304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99"</span>
   <span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span>
           <span class="n">resourceUrl</span> <span class="o">+</span>
           <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
           <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
   <span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/subscriptions'</span><span class="p">;</span>
<span class="nv">$token</span> <span class="o">=</span> <span class="s1">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span><span class="p">;</span>
<span class="nv">$status</span> <span class="o">=</span> <span class="s1">'draft'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span>
   <span class="nv">$resourceUrl</span> <span class="mf">.</span>
   <span class="s1">'?token='</span> <span class="mf">.</span> <span class="nv">$token</span> <span class="mf">.</span>
   <span class="s1">'&amp;status='</span> <span class="mf">.</span> <span class="nv">$status</span>
<span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span><span class="p">,</span>
   <span class="s1">'X-Identity: 02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s1">'X-Signature: 304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/subscriptions</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">token</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">status</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">draft</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Identity</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">X-Signature</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99</span><span class="dl">"</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">?token=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">token</span> <span class="o">+</span>
       <span class="dl">'</span><span class="s1">&amp;status=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">status</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/subscriptions"</span>
<span class="n">token</span> <span class="o">:=</span> <span class="s">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">status</span> <span class="o">:=</span> <span class="s">"draft"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span>
   <span class="n">resourceUrl</span> <span class="o">+</span>
   <span class="s">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Identity"</span><span class="p">,</span> <span class="s">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Signature"</span><span class="p">,</span> <span class="s">"304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/subscriptions'</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">'MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY'</span>
<span class="n">status</span> <span class="o">=</span> <span class="s">'draft'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span>
   <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
   <span class="s">'X-Identity'</span><span class="p">:</span> <span class="s">'02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e'</span><span class="p">,</span>
   <span class="s">'X-Signature'</span><span class="p">:</span> <span class="s">'304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99'</span>
<span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s">'?token='</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s">'&amp;status='</span> <span class="o">+</span> <span class="n">status</span><span class="p">,</span>
   <span class="n">headers</span><span class="o">=</span><span class="n">headers</span>
<span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/subscriptions"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s2">"MqA2wX15qHCbG7FBtJZRAxQunrRjAvGBRVJedsiTnZY"</span>
<span class="n">status</span> <span class="o">=</span> <span class="s2">"draft"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
   <span class="s2">"Content-Type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
   <span class="s2">"X-Identity"</span><span class="p">:</span> <span class="s2">"02811dcd84bb5f436269ed070c27858f872196c90ce77cf869cf3516c82477d22e"</span><span class="p">,</span>
   <span class="s2">"X-Signature"</span><span class="p">:</span> <span class="s2">"304402203af87e4960de099bbcc7dc9299f8f71598d3d85a363d062648368413348fec7a0220450b6917d188c6fd499ead94c97e1b3db99f9d9dac891ef8d56e7da9694d7e99"</span>
<span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span>
   <span class="n">resource_url</span> <span class="o">+</span>
   <span class="s2">"?token="</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span>
   <span class="s2">"&amp;status="</span> <span class="o">+</span> <span class="n">status</span>
<span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-subscriptions-retrieve-subscriptions-based-on-status-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>?token=</code>
        <div class="param-info">when fetching subscriptions, pass a merchant facade token as a URL parameter</code> .</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>&status=</code>
        <div class="param-info">the subscription status you want to query on</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="optional">
        O
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-subscriptions-retrieve-subscriptions-based-on-status-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>X-Identity</code>
        <div class="param-info">the hexadecimal public key generated from the client private key</div>
      </td>
      <td class="mandatory">
        M
      </td>        
    </tr>
    <tr>
      <td>
        <code>X-Signature</code>
        <div class="param-info">header is the ECDSA signature of the full request URL concatenated with the request body, signed with your private key</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-subscriptions-retrieve-subscriptions-based-on-status-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of subscription object via the merchant facade</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"facade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant/subscription"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6gqe8y5mkc5Qx2a9zmspgx"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"jane@doe.com"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription1234-ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5461e13dfd8b0047590d644a"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 0 0 * * 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextDelivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T12:41:51.841Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85yxWk7aEgPdJME6zTkXkA9UAGL1BW3TnJ3oTFYSa936qGRT2xDy6t5m9CUDhTt8w6"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2WDabp4eXU2UMbPYKYoPwA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"billData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"emailBill"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"cc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"jane@doe.com"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription1234-EFGH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"zip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"passProcessingFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Item 2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"merchant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5461e13dfd8b0047590d644a"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 0 0 * * 1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nextDelivery"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-21T12:42:01.029Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85yxWk7aEgPdJME6zTkXkACFxcVxzQuhyGuYv4ESYEgdkReFnqzN5WdACzSNGEBE99"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>On the right side, you will find an example of the subscription object returned in the response you will get from the BitPay server. A description of all subscription fields is available in the <a href="#rest-api-resources-subscriptions-resource">resource</a> section.</p>
<h3 id='rest-api-resources-rates'>Rates</h3>
<p>Rates are exchange rates, representing the number of fiat currency units equivalent to one BTC.</p>
<h4 id='rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency'>Retrieve all the rates for a given cryptocurrency</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/rates/:baseCurrency</h6>
    </div>
</div>
<h5 id='rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency-facades'>Facades</h5>
<p><span class="scope">public</span></p>
<h5 id='rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency-http-request'>HTTP Request</h5>
<blockquote>
<p>via the public facade</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/rates/BTC"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/rates/BTC"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/rates/BTC"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/rates/BTC'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/rates/BTC</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/rates/BTC"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/rates/BTC'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/rates/BTC"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>baseCurrency</code>
        <div class="param-info">the cryptocurrency for which you want to fetch the rates. Current supported values are BTC and BCH</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of rates, for BTC as baseCurrency</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Bitcoin Cash"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">50.77</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">41248.11</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Eurozone Euro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">33823.04</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Pound Sterling"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">29011.49</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"JPY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Japanese Yen"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mi">4482741</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Canadian Dollar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">49670.85</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Australian Dollar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">53031.99</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"CNY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Chinese Yuan"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">265266.57</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-rates-retrieve-all-the-rates-for-a-given-cryptocurrency-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">array of currency rates for the requested <code>baseCurrency</code></div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>code</code>
        <div class="param-info">ISO 4217 3-character currency code</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">detailed currency name</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>rate</code>
        <div class="param-info">rate for the requested <code>baseCurrency</code> /<code>currency</code> pair</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
  </tbody>
</table>
<h4 id='rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair'>Retrieve the rates for a cryptocurrency / fiat pair</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/rates/:baseCurrency/:currency</h6>
    </div>
</div>
<h5 id='rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair-facades'>Facades</h5>
<p><span class="scope">public</span></p>
<h5 id='rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair-http-request'>HTTP Request</h5>
<blockquote>
<p>via the public facade</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/rates/BCH/USD"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/rates/BTC/USD"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/rates/BTC/USD"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/rates/BTC/USD'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/rates/BTC/USD</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/rates/BTC/USD"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/rates/BTC/USD'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/rates/BTC/USD"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair-http-request-url-parameters'>URL Parameters</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>baseCurrency</code>
        <div class="param-info">the cryptocurrency for which you want to fetch the rates. Current supported values are BTC and BCH</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>currency</code>
        <div class="param-info">the fiat currency for which you want to fetch the <code>baseCurrency</code> rates</div>
      </td>
      <td>
        <code>string</code>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h6 id='rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair-http-response'>HTTP Response</h5>
<blockquote>
<p>Example of rates, for BTC as baseCurrency</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="nl">"data"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="mf">41154.05</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-rates-retrieve-the-rates-for-a-cryptocurrency-fiat-pair-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">rate data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>code</code>
        <div class="param-info">ISO 4217 3-character currency code</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">detailed currency name</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>rate</code>
        <div class="param-info">rate for the requested <code>baseCurrency</code> /<code>currency</code> pair</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-sessions'>Sessions</h3>
<p>
API sessions are an optional feature of our API which can be utilized to provide even greater security and reliability. In particular it protects against <a href="http://en.wikipedia.org/wiki/Replay_attack" target="_blank">replay attacks</a> and ensures api requests are processed in the same order they are received.

An API session can be created by issuing a <code>POST</code> to <code>/sessions</code>. The server responds with a <code>sessionId</code>. The <code>sessionId</code> is used in each subsequent request along with a <code>requestNumber</code>. These fields, <code>sessionId</code> and <code>requestNumber</code> are included as parameters either in the URL for a <code>GET</code> or in the data body for <code>POST</code> and <code>PUT</code>.

On the first request, the <code>requestNumber</code> should be 1. Each additional request should increment the <code>requestNumber</code> by 1. If the server receives a request out of order it will return an error. If the client does not hear back from the server because of an interruption in network connectivity or some other problem, the client may retry by sending the same request with the same requestNumber. The server will then respond with a cached copy of the data if it had already serviced that request but was interrupted when delivering it to the client.

API sessions timeout after 15 minutes of inactivity. After 15 minutes, clients will get an error, and must create a new session. Clients can be programmed to handle creation of new sessions and timeouts automatically. Please see the Node.js client library for a working implementation. 
</p>
<h4 id='rest-api-resources-sessions-creates-an-api-session'>Creates an API session</h4>
<p>Creates an API session to protect against replay attacks and ensure requests are received in the same order they are sent.</p>

<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">POST</i>
        <h6>https://bitpay.com/sessions</h6>
    </div>
</div>
<h5 id='rest-api-resources-sessions-creates-an-api-session-facades'>Facades</h5>
<p><span class="scope">public</span></p>
<h5 id='rest-api-resources-sessions-creates-an-api-session-http-request'>HTTP Request</h5>
<blockquote>
<p>via the public facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/sessions"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/sessions"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/sessions"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="s">""</span><span class="o">))</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://bitpay.com/sessions'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'POST'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://bitpay.com/sessions</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://bitpay.com/sessions"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://bitpay.com/sessions'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://bitpay.com/sessions"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-sessions-creates-an-api-session-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-sessions-creates-an-api-session-http-response'>HTTP Response</h5><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9d3dc999f49eec7a96854a802f800efa0ba1e883f5a7d509a8d34ea0133bd7c8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-sessions-creates-an-api-session-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">the API <code>sessionId</code> is returned in this field</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h3 id='rest-api-resources-currencies'>Currencies</h3>
<p>Currencies are fiat currencies supported by BitPay</p>
<h4 id='rest-api-resources-currencies-retrieve-the-supported-currencies'>Retrieve the supported currencies</h4>
<div class="api-endpoint">
    <div class="endpoint-data">
        <i class="label label-get">GET</i>
        <h6>https://bitpay.com/currencies</h6>
    </div>
</div>
<h5 id='rest-api-resources-currencies-retrieve-the-supported-currencies-facades'>Facades</h5>
<p><span class="scope">public</span></p>
<h5 id='rest-api-resources-currencies-retrieve-the-supported-currencies-http-request'>HTTP Request</h5>
<blockquote>
<p>via the public facade (unsigned requests)</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"X-Accept-Version: 2.0.0"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">--url</span> <span class="s2">"https://bitpay.com/currencies"</span>
</code></pre></div><div class="highlight"><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="p">=</span> <span class="s">"https://bitpay.com/currencies"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpWebRequest</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebRequest</span><span class="p">)</span><span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">resourceUrl</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">);</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"application/json"</span><span class="p">;</span>
<span class="n">httpWebRequest</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="p">(</span><span class="n">HttpWebResponse</span><span class="p">)</span><span class="n">httpWebRequest</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">streamReader</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StreamReader</span><span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="nf">GetResponseStream</span><span class="p">()))</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">streamReader</span><span class="p">.</span><span class="nf">ReadToEnd</span><span class="p">();</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="kt">var</span> <span class="n">resourceUrl</span> <span class="o">=</span> <span class="s">"https://bitpay.com/currencies"</span><span class="o">;</span>

<span class="nc">HttpClient</span> <span class="n">client</span> <span class="o">=</span> <span class="nc">HttpClient</span><span class="o">.</span><span class="na">newHttpClient</span><span class="o">();</span>
<span class="nc">HttpRequest</span> <span class="n">request</span><span class="o">=</span><span class="nc">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span><span class="s">"application/json"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"X-Accept-Version"</span><span class="o">,</span><span class="s">"2.0.0"</span><span class="o">)</span>
   <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">resourceUrl</span><span class="o">))</span>
   <span class="o">.</span><span class="na">GET</span><span class="o">()</span>
   <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="nc">HttpResponse</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">request</span><span class="o">,</span><span class="nc">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
</code></pre></div><div class="highlight"><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$resourceUrl</span> <span class="o">=</span> <span class="s1">'https://test.bitpay.com/currencies'</span><span class="p">;</span>

<span class="nv">$curlCli</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$resourceUrl</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_CUSTOMREQUEST</span><span class="p">,</span> <span class="s1">'GET'</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">,</span> <span class="no">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="p">[</span>
   <span class="s1">'X-Accept-Version: 2.0.0'</span><span class="p">,</span>
   <span class="s1">'Content-Type: application/json'</span>
<span class="p">]);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>
<span class="nv">$resultData</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$result</span><span class="p">,</span> <span class="kc">TRUE</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curlCli</span><span class="p">);</span>

<span class="k">echo</span> <span class="nv">$resultData</span><span class="p">;</span>

<span class="cp">?&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">request</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">resource_url</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://test.bitpay.com/currencies</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span><span class="dl">"</span><span class="s2">X-Accept-Version</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0.0</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Content-type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">url</span><span class="p">:</span> <span class="nx">resource_url</span><span class="p">,</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
   <span class="na">json</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">resourceUrl</span> <span class="o">:=</span> <span class="s">"https://test.bitpay.com/currencies"</span>

<span class="n">request</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"GET"</span><span class="p">,</span> <span class="n">resourceUrl</span><span class="p">,</span> <span class="no">nil</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"X-Accept-Version"</span><span class="p">,</span> <span class="s">"2.0.0"</span><span class="p">)</span>
<span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">)</span>

<span class="n">client</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{</span><span class="n">Timeout</span><span class="o">:</span> <span class="n">time</span><span class="o">.</span><span class="n">Second</span> <span class="o">*</span> <span class="m">10</span><span class="p">}</span>

<span class="n">response</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>
<span class="k">defer</span> <span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

<span class="n">body</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span>
<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
   <span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">fmt</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s">'https://test.bitpay.com/currencies'</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'X-Accept-Version'</span><span class="p">:</span> <span class="s">'2.0.0'</span><span class="p">,</span> <span class="s">'Content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">resource_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">).</span><span class="n">content</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">detect_encoding</span><span class="p">(</span><span class="n">response</span><span class="p">)))</span>
</code></pre></div><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="n">resource_url</span> <span class="o">=</span> <span class="s2">"https://test.bitpay.com/currencies"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"X-Accept-Version"</span><span class="p">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span> <span class="s2">"Content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">}</span>
<span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">resource_url</span><span class="p">)</span>
<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">to_s</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">).</span><span class="nf">tap</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
   <span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>
<span class="k">end</span>

<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">).</span><span class="nf">body</span>
</code></pre></div><h6 id='rest-api-resources-currencies-retrieve-the-supported-currencies-http-request-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>fields</th>
      <th>Presence</th>
    </tr>
    <tr>
      <td>
        <code>X-Accept-Version</code>
        <div class="param-info">must be set to <code>2.0.0</code> for request to the BitPay API</div>
      </td>
      <td class="mandatory">
        M
      </td>
    </tr>
    <tr>
      <td>
        <code>Content-Type</code>
        <div class="param-info">must be set to <code>application/json</code> for request to the BitPay API</div>
      <td class="mandatory">
        M
      </td>
    </tr>
  </tbody>
</table>
<h5 id='rest-api-resources-currencies-retrieve-the-supported-currencies-http-response'>HTTP Response</h5>
<blockquote>
<p>Example response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"฿"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plural"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"alts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000006</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sanctioned"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XRP"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ʀ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ripple"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plural"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ripple"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"alts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xrp"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000006</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sanctioned"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XRP"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"€"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eurozone Euro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plural"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Eurozone Euros"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"alts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eur"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sanctioned"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plural"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US Dollars"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"alts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usd bucks"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sanctioned"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"precision"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Circle USD Coin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"plural"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Circle USD Coin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"alts"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minimum"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sanctioned"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nl">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='rest-api-resources-currencies-retrieve-the-supported-currencies-http-response-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Array of supported currencies</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>code</code>
        <div class="param-info">ISO 4217 3-character currency code</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>symbol</code>
        <div class="param-info">Display symbol</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>precision</code>
        <div class="param-info">Number of decimal places</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">English currency name</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>plural</code>
        <div class="param-info">English plural form</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>alts</code>
        <div class="param-info">Alternative currency name(s)</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>minimum</code>
        <div class="param-info">Minimum supported value when creating an invoice, bill or payout for instance</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>sanctionned</code>
        <div class="param-info">If the currency is linked to a sanctionned country</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>decimals</code>
        <div class="param-info">decimal precision</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>chain</code>
        <div class="param-info">For cryptocurrencies or tokens, the corresponding chain is also specified. For instance, with <code>USDC</code> (Circle USD Coin), the <code>chain</code> is <code>ETH</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h1 id='legder-entry-codes'>Legder entry codes</h1>
<table class="table">
  <tbody>
    <tr>
      <th>Code</th>
      <th>Name</th>
      <th>type</th>
      <th>Description</th>
    </tr>
    <tr>
      <td class="ledger-code">1000</td>
      <td>Invoice</td>
      <td>credit</td>
      <td class="ledger-description">once an invoice reaches the <code>"complete"</code> status, the corresponding amount is credited to the merchant account in the selected settlement currency</td>
    </tr>
    <tr>
      <td class="ledger-code">1004</td>
      <td>Fee Refund</td>
      <td>credit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1006</td>
      <td>Exchange</td>
      <td>debit & credit</td>
      <td class="ledger-description">This entry indicates that BitPay transfered your balance from one ledger currency (recorded as a debit) to another ledger currency (recorded as a credit). This typically happens if a merchant needs to change settlement currency and exchange the pending balance from one currency to another</td>
    </tr>
    <tr>
      <td class="ledger-code">1007</td>
      <td>Exchange Fee</td>
      <td>debit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1008</td>
      <td>Plan Charge</td>
      <td>debit</td>
      <td class="ledger-description">For merchants on a legacy SaaS plan, this entry is used to debit the merchant account with the monthly fee</td>
    </tr>
    <tr>
      <td class="ledger-code">1009</td>
      <td>Plan Prorated Credit</td>
      <td>credit</td>
      <td class="ledger-description">For merchants on a legacy SaaS plan, this entry is used to adjust the amount charged.</td>
    </tr>
    <tr>
      <td class="ledger-code">1010</td>
      <td>Plan Underutilization Credit</td>
      <td>credit</td>
      <td class="ledger-description">For merchants on a legacy SaaS plan, this entry is used to adjust the amount debited (account not used)</td>
    </tr>
    <tr>
      <td class="ledger-code">1011</td>
      <td>Payoff Negative Balance</td>
      <td>debit & credit</td>
      <td class="ledger-description">This entry does not have any additional fields. It corresponds to an automatic transfer made by BitPay from one ledger currency to another. Typically to cover refund or payout requests. For instance, if you execute a refund request where EUR is the base currency but your active ledger (linked to the settlement currency) is in USD, you will see such "Payoff Negative Balance" entry appear on both ledger (a debit on the USD ledger and a credit)</td>
    </tr>
    <tr>
      <td class="ledger-code">1012</td>
      <td>Donation</td>
      <td>credit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1016</td>
      <td>Custom</td>
      <td>debit & credit</td>
      <td class="ledger-description">Code used by BitPay for general purpose custom entries. It may be use to correct an invalid entry on your ledger</td>
    </tr>
    <tr>
      <td class="ledger-code">1017</td>
      <td>Account Settlement</td>
      <td>debit</td>
      <td class="ledger-description">This entry is written to debit the merchant balance for a given account settlement</td>
    </tr>
    <tr>
      <td class="ledger-code">1020</td>
      <td>Invoice Refund</td>
      <td>debit</td>
      <td class="ledger-description">This entry is written once a refund request made on an invoice is executed. The merchant balance is debited with the refund amount requested.</td>
    </tr>
    <tr>
      <td class="ledger-code">1022</td>
      <td>Corrective for Failed Account Settlement</td>
      <td>credit</td>
      <td class="ledger-description">Indicates a previous settlement failed (for instance invalid settlement info). In such scenario BitPay credits the amount back to the merchant account using this ledger code.</td>
    </tr>
    <tr>
      <td class="ledger-code">1023</td>
      <td>Invoice Fee</td>
      <td>debit</td>
      <td class="ledger-description">Once an invoice reaches the <code>"complete"</code> status, the corresponding fee is credited using this ledger code</td>
    </tr>
    <tr>
      <td class="ledger-code">1024</td>
      <td>Bitcoin Deposit</td>
      <td>credit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1025</td>
      <td>Fiat Deposit for Payout</td>
      <td>credit</td>
      <td class="ledger-description">When a merchant makes a bank transfer to BitPay in order to fund the consumer payout/withdrawal activity, the deposited amount is credited to the merchant account using this ledger code</td>
    </tr>
    <tr>
      <td class="ledger-code">1026</td>
      <td>Donation Fee</td>
      <td>debit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1027</td>
      <td>Custom Fee</td>
      <td>debit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1030</td>
      <td>Affiliate Commission</td>
      <td>credit</td>
      <td class="ledger-description">For merchants who onboarded business under their referral link, the commissions are credited to the account using this ledger code</td>
    </tr>
    <tr>
      <td class="ledger-code">1031</td>
      <td>Manual Affiliate Commission</td>
      <td>credit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1032</td>
      <td>Merchant Card Deposit</td>
      <td>debit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1033</td>
      <td>Custom Plan Charge</td>
      <td>debit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1034</td>
      <td>Funding Payout Request</td>
      <td>debit</td>
      <td class="ledger-description">This entry is written once BitPay sets a payout request to the status <code>funded</code>. This means that part of the merchant balance has been allocated to execute a payout.</td>
    </tr>
    <tr>
      <td class="ledger-code">1035</td>
      <td>Manually Funding Payout Request</td>
      <td>debit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1036</td>
      <td>Custom Fee Reimbursement</td>
      <td>credit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1037</td>
      <td>Custom Plan Charge Reimbursement</td>
      <td>credit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1038</td>
      <td>Testnet Bitcoin Settlement</td>
      <td>debit</td>
      <td class="ledger-description">Testnet BTC/BCH settlements (test.bitpay.com) are recorded using this ledger code</td>
    </tr>
    <tr>
      <td class="ledger-code">1039</td>
      <td>Refund Fee</td>
      <td>debit</td>
      <td class="ledger-description">This entry will be immediately written next to the "Invoice Refund". The refund fee is the actual cost of broadcasting the refund transaction on the selected blockchain</td>
    </tr>
    <tr>
      <td class="ledger-code">1040</td>
      <td>Payout Fee</td>
      <td>debit</td>
      <td class="ledger-description">This entry is written once BitPay sets a payout request to the status <code>funded</code>. This is the fee charged for each payout request executed</td>
    </tr>
    <tr>
      <td class="ledger-code">1041</td>
      <td>Wire Fee</td>
      <td>debit</td>
      <td class="ledger-description"></td>
    </tr>
    <tr>
      <td class="ledger-code">1048</td>
      <td>Fiat Deposit for Refund</td>
      <td>credit</td>
      <td class="ledger-description">When a merchant makes a bank transfer to BitPay in order to cover pending refund requests.</td>
    </tr>
  </tbody>
</table>
<h1 id='notifications'>Notifications</h1><h2 id='notifications-webhooks'>Webhooks</h2>
<p>Webhooks are an HTTP POST message sent from the BitPay server to the merchant’s eCommerce server. </p>
<h3 id='notifications-webhooks-instant-payment-notifications'>Instant Payment Notifications</h3>
<p>The only webhook available at the moment is the <b>Instant Payment Notification (IPN)</b>. The primary purpose of an IPN is to alert the merchant’s ecommerce server that the status of a resource (invoice, payout) has changed. The messages are sent to the <code>notificationURL</code> field when creating the invoice or payout request.</p>
<h4 id='notifications-webhooks-instant-payment-notifications-handling'>Handling</h4>
<aside class="warning">BitPay does not sign IPNs, so the information in the payload <b>should never be trusted outright</b></aside>

<ol>
<li>The IPN shall be used as a trigger to verify the status of a specific invoice or payout. This can be done by fetching the corresponding <a href="#rest-api-resources-invoices-fetch-an-invoice-by-id">invoice</a> or <a href="#rest-api-resources-payouts-fetch-a-specific-payout-batch">payout batch</a>, since both invoice id and payout batch id are provided in the body of the IPN.</li>
<li>The invoice status <code>&quot;paid&quot;</code> <b>does not</b> represent a payment guarantee, so merchants should only mark an order as successful once the corresponding BitPay invoice has reached the status <code>&quot;confirmed&quot;</code> or <code>&quot;complete&quot;</code>.</li>
<li>Merchants who rely on the invoice status <code>&quot;confirmed&quot;</code> to fulfill orders <b>also</b> have to monitor IPNs for the <code>&quot;complete&quot;</code> status, as in some cases the IPN for the status <code>&quot;confirmed&quot;</code> may not be sent (for instance: node outage or network errors).</li>
<li>The BitPay server expects an HTTP 200 response with an empty body. Any other HTTP response is considered by BitPay as a failed delivery. The BitPay server attempts to send IPNs multiple times until the send is either successful or the BitPay server gives up. </li>
<li>Make sure to not rely on whitelisting BitPay’s sending IP addresses, as these IP addresses are subject to change without notice.</li>
<li>Make sure to use HTTPS for your <code>notificationURL</code>. </li>
</ol>
<h4 id='notifications-webhooks-instant-payment-notifications-invoices'>Invoices</h4>
<p>
The body of the IPNs sent by BitPay is a JSON-formatted string (<code>Content-Type: application/json</code>) and comes in 2 different formats. The <a href="#notifications-webhooks-instant-payment-notifications-invoices-standard-ipn-format">standard format</a> is used by default for the invoice resource.    
</p>
<h5 id='notifications-webhooks-instant-payment-notifications-invoices-standard-ipn-format'>Standard IPN format</h5>
<p>This format is only applicable for the invoice resource.</p>

<aside class="notice"> BitPay strongly advise merchants to use instead the <b><a href="#notifications-webhooks-instant-payment-notifications-invoices-extended-ipn-format">extended format</a></b> for the invoice resource by passing the parameter <b><code>"extendedNotifications": true</code></b> in the body of the invoice request.</aside>
<h6 id='notifications-webhooks-instant-payment-notifications-invoices-standard-ipn-format-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Header</th>
      <th>Value</th>
    </tr>
    <tr>
      <td><code>Accept</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
    <tr>
      <td><code>Content-Type</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
  </tbody>
</table>
<h6 id='notifications-webhooks-instant-payment-notifications-invoices-standard-ipn-format-body'>Body</h6>
<blockquote>
<p>Example of webhook - standard format</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620669854224</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620670754224</span><span class="p">,</span><span class="w">
  </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620671313184</span><span class="p">,</span><span class="w">
  </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"buyerFields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"buyerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerZip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerNotify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2406000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">6668704</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2077327700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29800</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2406000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">6668704</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2077327700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">47077.319565</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.966599499063804</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.755531957178825</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38003.14441595195</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">118682.55849585062</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">57120.83386098427</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0001084497591646</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1173.9677250000002</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024936271286002874</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3431833281634361</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">948.1309499292485</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2960.981483402489</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.0934048139654</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02495145570387066</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3418.000145000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07262515738127348</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.904033102311154</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2761.365509177756</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">8623.652821576765</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">4150.4855164823275</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0726693809431983</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2359324250000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002620036527481575</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010476635203867759</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003605803149549498</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.111082468879668</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4973356412678729</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000026216319436127937</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3960573976857</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000008410925256868251</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003363243020428695</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00011575464869947028</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.31980156383904546</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4806794879021982</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000084160469128805</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8239520747519998</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001749796710395044</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006996842075846071</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024081429488613</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6653105422947376</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0777427385892113</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017508622122950502</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
      </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">47021.18667566999</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985716437296819</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.92948467149204</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.74275793579228</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">37967.85294332578</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">118572.34439834024</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">57067.78882022329</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210510_fghij"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>id</code>
        <div class="param-info">BitPay invoice id</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>url</code>
        <div class="param-info">BitPay invoice URL</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>posData</code>
        <div class="param-info">As passed by the merchant during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>status</code>
        <div class="param-info">current invoice status given by the IPN, see <a href="#rest-api-resources-tokens-request-an-api-token">Invoice resource</a> for more information</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>price</code>
        <div class="param-info">Fixed price amount for the checkout as indicated by the merchant during invoice creation, in the selected <code>"currency"</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code passed by the merchant during invoice creation</a></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>invoiceTime</code>
        <div class="param-info">UNIX time of invoice creation, in milliseconds</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>expirationTime</code>
        <div class="param-info">UNIX time when invoice is last available to be paid, in milliseconds</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>currentTime</code>
        <div class="param-info">UNIX time of API call, in milliseconds</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>exceptionStatus</code>
        <div class="param-info">Initially a boolean <code>false</code>, this parameter will indicate if the purchaser sent too much ("paidOver") or not enough funds ("paidPartial") in the transaction to pay the BitPay invoice. Possible values are:
            <p>
              <ul>
                <li><code>false</code>: default value (boolean) unless an exception is triggered.</li>
                <li><code>"paidPartial"</code>: (string) if the consumer did not send enough funds when paying the invoice.</li>
                <li><code>"paidOver"</code>: (string) if the consumer sent to much funds when paying the invoice.</li>
              </ul>
            </p>
        </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>buyerFields</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerName</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerAddress1</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerAddress2</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerCity</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerState</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerZip</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerCountry</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerPhone</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
       <td class="child">
        <code>buyerNotify</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerEmail</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>paymentSubtotals</code>
        <div class="param-info">For internal use - This field can be ignored in merchant implementations.</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>paymentTotals</code>
        <div class="param-info">For internal use - This field can be ignored in merchant implementations.</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>exchangeRates</code>
        <div class="param-info">Exchange rate used for this invoice, depending on the invoice <code>currency</code> and the <code>transactionCurrency</code> selected</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>amountPaid</code>
        <div class="param-info">The total amount paid to the invoice in terms of the invoice <code>transactionCurrency</code> indicated in the smallest possible unit for the corresponding transactionCurrency (e.g satoshis for BTC and BCH)</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>orderId</code>
        <div class="param-info">As passed by the merchant during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>transactionCurrency</code>
        <div class="param-info">The cryptocurrency used to pay the invoice. This field will only be available after a transaction is applied to the invoice. Possible values are currently "BTC" or "BCH"</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h5 id='notifications-webhooks-instant-payment-notifications-invoices-extended-ipn-format'>Extended IPN format</h5>
<p>This is the recommended IPN format that BitPay advises for all new implementations. This will allow merchants to get additional status notification which are not sent if the standard format is used (expired invoice, refunded invoice etc).</p>
<h6 id='notifications-webhooks-instant-payment-notifications-invoices-extended-ipn-format-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Header</th>
      <th>Value</th>
    </tr>
    <tr>
      <td><code>Accept</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
    <tr>
      <td><code>Content-Type</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
  </tbody>
</table>
<h6 id='notifications-webhooks-instant-payment-notifications-invoices-extended-ipn-format-body'>Body</h6>
<blockquote>
<p>Example or IPN using the extended format</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1005</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invoice_confirmed"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitpay.com/invoice?id=Hpqc63wvE1ZjzeeH4kEycF"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoiceTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620669854224</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620670754224</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currentTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1620671313184</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exceptionStatus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyerFields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"buyerName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2630 Hegal Place"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 42"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexandria"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerZip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23242"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerNotify"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyerEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"paymentSubtotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2406000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">6668704</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2077327700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"paymentTotals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">29800</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mi">2406000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mi">6668704</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mi">2077327700</span><span class="p">,</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mi">9990000000000000000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mi">17500</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"exchangeRates"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">47077.319565</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.966599499063804</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.755531957178825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">57204.993195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">38003.14441595195</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">118682.55849585062</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">57120.83386098427</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0001084497591646</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1173.9677250000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.024936271286002874</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3431833281634361</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1427.1930750000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">948.1309499292485</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2960.981483402489</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1425.0934048139654</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02495145570387066</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">3418.000145000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.07262515738127348</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.904033102311154</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">4156.600660000002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">2761.365509177756</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">8623.652821576765</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">4150.4855164823275</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0726693809431983</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.822741</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017472247954960737</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006986557862672219</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024046033726966907</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.664332644641825</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0746887966804977</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985288113971301</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017482887312826024</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2359324250000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00002620036527481575</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0010476635203867759</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003605803149549498</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4995417500000001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">3.111082468879668</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.4973356412678729</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000026216319436127937</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3960573976857</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000008410925256868251</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0003363243020428695</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00011575464869947028</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.48138770000000003</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.31980156383904546</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4806794879021982</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000084160469128805</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8239520747519998</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001749796710395044</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0006996842075846071</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00024081429488613</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.001472</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6653105422947376</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0777427385892113</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000017508622122950502</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"WBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"USD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">47021.18667566999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9985716437296819</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BCH"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.92948467149204</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ETH"</span><span class="p">:</span><span class="w"> </span><span class="mf">13.74275793579228</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PAX"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BUSD"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"USDC"</span><span class="p">:</span><span class="w"> </span><span class="mf">57151.869999999995</span><span class="p">,</span><span class="w">
        </span><span class="nl">"XRP"</span><span class="p">:</span><span class="w"> </span><span class="mf">37967.85294332578</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DOGE"</span><span class="p">:</span><span class="w"> </span><span class="mf">118572.34439834024</span><span class="p">,</span><span class="w">
        </span><span class="nl">"DAI"</span><span class="p">:</span><span class="w"> </span><span class="mf">57067.78882022329</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"amountPaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">700700</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20210510_fghij"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>event</code>
        <div class="param-info">Webhook event object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>code</code>
        <div class="param-info">See the list of available <a href="#notifications-webhooks-instant-payment-notifications-invoices-extended-ipn-format-webhook-notification-codes">Webhook notification codes</a> for more information</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">See the list of available <a href="#notifications-webhooks-instant-payment-notifications-invoices-extended-ipn-format-webhook-notification-codes">Webhook notification codes</a> for more information</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Webhook data object, containing invoice parameters</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">BitPay invoice id</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>url</code>
        <div class="param-info">BitPay invoice URL</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>posData</code>
        <div class="param-info">As passed by the merchant during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">current invoice status given by the IPN, see <a href="#rest-api-resources-tokens-request-an-api-token">Invoice resource</a> for more information</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>price</code>
        <div class="param-info">Fixed price amount for the checkout as indicated by the merchant during invoice creation, in the selected <code>"currency"</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">ISO 4217 3-character currency code passed by the merchant during invoice creation</a></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>invoiceTime</code>
        <div class="param-info">UNIX time of invoice creation, in milliseconds</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>expirationTime</code>
        <div class="param-info">UNIX time when invoice is last available to be paid, in milliseconds</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currentTime</code>
        <div class="param-info">UNIX time of API call, in milliseconds</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>exceptionStatus</code>
        <div class="param-info">Initially a boolean <code>false</code>, this parameter will indicate if the purchaser sent too much ("paidOver") or not enough funds ("paidPartial") in the transaction to pay the BitPay invoice. Possible values are:
            <p>
              <ul>
                <li><code>false</code>: default value (boolean) unless an exception is triggered.</li>
                <li><code>"paidPartial"</code>: (string) if the consumer did not send enough funds when paying the invoice.</li>
                <li><code>"paidOver"</code>: (string) if the consumer sent to much funds when paying the invoice.</li>
              </ul>
            </p>
        </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>buyerFields</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerName</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerAddress1</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerAddress2</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerCity</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerState</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerZip</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerCountry</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerPhone</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerNotify</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>boolean</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>buyerEmail</code>
        <div class="param-info">If provided by the merchant in the <code>buyer</code> object during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>paymentSubtotals</code>
        <div class="param-info">For internal use - This field can be ignored in merchant implementations.</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>paymentTotals</code>
        <div class="param-info">For internal use - This field can be ignored in merchant implementations.</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>exchangeRates</code>
        <div class="param-info">Exchange rate used for this invoice, depending on the invoice <code>currency</code> and the <code>transactionCurrency</code> selected</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>amountPaid</code>
        <div class="param-info">The total amount paid to the invoice in terms of the invoice <code>transactionCurrency</code> indicated in the smallest possible unit for the corresponding transactionCurrency.</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>orderId</code>
        <div class="param-info">As passed by the merchant during invoice creation</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>transactionCurrency</code>
        <div class="param-info">The cryptocurrency used to pay the invoice. This field will only be available after a transaction is applied to the invoice.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h6 id='notifications-webhooks-instant-payment-notifications-invoices-extended-ipn-format-webhook-notification-codes'>Webhook Notification Codes</h6>
<p>Codes for invoice events with webhook notifications</p>

<table class="table">
  <tbody>
    <tr>
      <th>BitPay code</th>
      <th>Name</th>
      <th>Purpose</th>
    </tr>
    <tr>
      <td>1003</td>
      <td><code>"invoice_paidInFull"</code></td>
      <td>To notify merchant that an invoice has reached the status <code>paid</code></td>
    </tr>
    <tr>
      <td>1004</td>
      <td><code>"invoice_expired"</code></td>
      <td>To notify a merchant that an invoice has expired without being paid</td>
    </tr>
    <tr>
      <td>1005</td>
      <td><code>"invoice_confirmed"</code></td>
      <td>To notify merchant that an invoice has reached the status <code>confirmed</code></td>
    </tr>
    <tr>
      <td>1006</td>
      <td><code>"invoice_completed"</code></td>
      <td>To notify merchant that an invoice has reached the status <code>completed</code></td>
    </tr>
    <tr>
      <td>1012</td>
      <td><code>"invoice_manuallyNotified"</code></td>
      <td>Whenever a merchant request for the last notification to be resent (see section <a href="#rest-api-resources-invoices-request-a-webhook-to-be-resent">Request a webhook to be resent</a>).</td>
    </tr>
    <tr>
      <td>1013</td>
      <td><code>"invoice_failedToConfirm"</code></td>
      <td>To notify merchant that an invoice has reached the status <code>invalid</code></td>
    </tr>
    <tr>
      <td>1016</td>
      <td><code>"invoice_refundComplete"</code></td>
      <td>To notify a merchant that a refund request has been successfully processed</td>
    </tr>
  </tbody>
</table>
<h4 id='notifications-webhooks-instant-payment-notifications-recipients'>Recipients</h4><h5 id='notifications-webhooks-instant-payment-notifications-recipients-ipn-format'>IPN format</h5>
<blockquote>
<p>See below examples of extended webhooks for the recipient resource</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">4003</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient_verified"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">4004</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recipient_active"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="s2">"bob@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h6 id='notifications-webhooks-instant-payment-notifications-recipients-ipn-format-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Header</th>
      <th>Value</th>
    </tr>
    <tr>
      <td><code>Accept</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
    <tr>
      <td><code>Content-Type</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
  </tbody>
</table>
<h6 id='notifications-webhooks-instant-payment-notifications-recipients-ipn-format-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>event</code>
        <div class="param-info">Webhook event object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>code</code>
        <div class="param-info">See the list of available <a href="#notifications-webhooks-instant-payment-notifications-recipients-ipn-format-webhook-notification-codes">Webhook notification codes</a> for more information</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">See the list of available <a href="#notifications-webhooks-instant-payment-notifications-recipients-ipn-format-webhook-notification-codes">Webhook notification codes</a> for more information</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">Recipient data object.</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>email</code>
        <div class="param-info">Recipient email address</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>notificationURL</code>
        <div class="param-info">URL to which BitPay sends webhook notifications to inform the merchant about the status of a given recipient. HTTPS is mandatory.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>label</code>
        <div class="param-info">For merchant use, pass through - could be customer name or unique reference.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Recipient status, can have the following values:
        <p>
          <ul>
            <li><code>"invited"</code></li>
            <li><code>"unverified"</code></li>
            <li><code>"verified"</code></li>
            <li><code>"active"</code></li>
            <li><code>"paused"</code></li>
            <li><code>"removed"</code></li>
          </ul>
        </p>
      </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">Unique recipient <code>id</code> assigned by BitPay for a given customer <code>email</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>shopperId</code>
        <div class="param-info">
          <p>This is a unique id assigned by BitPay if a customer signed up for a BitPay ID and used it to log in on a BitPay invoice generated by the merchant before paying it. If not, this id will only be created once the customer becomes a <code>"verified"</code> recipient as part of the payout onboarding.</p>
          <p><b>Note:</b> The same field would also be available on paid invoices if the customer signed in with his BitPay ID before completing the payment. This can allow merchants to monitor the activity of a customer (deposits & payouts).</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">Resource token. This token is derived from the API token initially used to create the recipient and is tied to the specific resource id created.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h6 id='notifications-webhooks-instant-payment-notifications-recipients-ipn-format-webhook-notification-codes'>Webhook Notification Codes</h6>
<p>Codes for recipient events with webhook notifications</p>

<table class="table">
  <tbody>
    <tr>
      <th>BitPay code</th>
      <th>Name</th>
      <th>Purpose</th>
    </tr>
    <tr>
      <td>4001</td>
      <td><code>recipient_invited</code></td>
      <td>To notify merchants that a recipient has reached the status <code>invited</code></td>
    </tr>
    <tr>
      <td>4002</td>
      <td><code>recipient_unverified</code></td>
      <td>To notify merchants that a recipient has reached the status <code>unverified</code></td>
    </tr>
    <tr>
      <td>4003</td>
      <td><code>recipient_verified</code></td>
      <td>To notify merchants that a recipient has reached the status <code>verified</code></td>
    </tr>
    <tr>
      <td>4004</td>
      <td><code>recipient_active</code></td>
      <td>To notify merchants that a recipient has reached the status <code>active</code></td>
    </tr>
    <tr>
      <td>4005</td>
      <td><code>recipient_paused</code></td>
      <td>To notify merchants that a recipient has reached the status <code>paused</code></td>
    </tr>
    <tr>
      <td>4006</td>
      <td><code>recipient_removed</code></td>
      <td>To notify merchants that a recipient has reached the status <code>removed</code></td>
    </tr>
  </tbody>
</table>
<h4 id='notifications-webhooks-instant-payment-notifications-payouts'>Payouts</h4><h5 id='notifications-webhooks-instant-payment-notifications-payouts-ipn-format'>IPN format</h5>
<blockquote>
<p>See below examples of extended webhooks for the payout resource</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payoutRequest_funded"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234-abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funded"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">19122.54</span><span class="p">,</span><span class="w">
    </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002218</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-2T09:16:40.706Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-01T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErBj6bT4P4rk8EPEanjrSK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.84</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001351</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mhzbB6m8ZyaYsKeKBAakoC2qctYngV52mA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysBRPxdkBzCeRdQQ7Mxpz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.54</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000551</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mghaHDxTSrNvxiJ2soP1pB1NTVK1Lff5EJ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BMqyZYsqRyD3CvfRzZC78C"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.62</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000294</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"miCgREyUhfDqHXQ8K2Q2u5h1CjkA8JwLxV"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payoutRequest_completed"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85Krn4jvdtTJtGc6T4gcaK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YJCgTf3jrXHkUVzLQ7y4eg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234-abcd"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"supportPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-855-4-BITPAY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"percentFee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositTotal"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">19122.54</span><span class="p">,</span><span class="w">
    </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002218</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"requestDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-2T09:16:40.706Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-01T09:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yournotiticationURL.com/0wx0bv9785amb3sa1eq1rz5bgx"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notificationEmail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchant@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"instructions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErBj6bT4P4rk8EPEanjrSK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.84</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001351</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mhzbB6m8ZyaYsKeKBAakoC2qctYngV52mA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8Gq174SFAnQpdLDxRZCBPB"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5QZnQKyanj8o7qohDf2zC2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alice"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001351</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:25.564Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ysBRPxdkBzCeRdQQ7Mxpz"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.54</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000551</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mghaHDxTSrNvxiJ2soP1pB1NTVK1Lff5EJ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X3icwc4tE8KJ5hEPNPpDXW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A1G8wUmG9Br6RuNY5RTodM"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000551</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.876Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BMqyZYsqRyD3CvfRzZC78C"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.62</span><span class="p">,</span><span class="w">
        </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"unpaid"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"paid"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000294</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"miCgREyUhfDqHXQ8K2Q2u5h1CjkA8JwLxV"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"recipientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DDa2pku1LCxVF7AEq7iBrT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shopperId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ANmqC1hSDykH2B6hC29z2X"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92b35281ad4b950acd71ae407a2395da4e29cbfa15962a30a102bf79655a3d1a"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000294</span><span class="p">,</span><span class="w">
            </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.677Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"dateExecuted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-02T10:21:24.177Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7tGdAPbGiQZnaB88VGNhxWwCceJ6XKuv5XPx8YLWvFHqQgKCoUQS5RK67AS4CLawsh"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h6 id='notifications-webhooks-instant-payment-notifications-payouts-ipn-format-headers'>Headers</h6>
<table class="table">
  <tbody>
    <tr>
      <th>Header</th>
      <th>Value</th>
    </tr>
    <tr>
      <td><code>Accept</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
    <tr>
      <td><code>Content-Type</code>
      </td>
      <td><code>application/json</code>
      </td>
    </tr>
  </tbody>
</table>
<h6 id='notifications-webhooks-instant-payment-notifications-payouts-ipn-format-body'>Body</h6>
<table class="table">
    <tbody>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
    <tr>
      <td>
        <code>event</code>
        <div class="param-info">Webhook event object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>code</code>
        <div class="param-info">See the list of available <a href="#notifications-webhooks-instant-payment-notifications-payouts-ipn-format-webhook-notification-codes">Webhook notification codes</a> for more information</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>name</code>
        <div class="param-info">See the list of available <a href="#notifications-webhooks-instant-payment-notifications-payouts-ipn-format-webhook-notification-codes">Webhook notification codes</a> for more information</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>data</code>
        <div class="param-info">payout data object</div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>id</code>
        <div class="param-info">Resource id</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>account</code>
        <div class="param-info">String identifying the BitPay merchant, for internal use</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>reference</code>
        <div class="param-info">Present only if specified in the request to create the batch. This is your reference label for this batch. It will be passed-through on each response for you to identify the batch in your system. Maximum string length is 100 characters</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>supportPhone</code>
        <div class="param-info">Phone number for BitPay. For immediate support visit support@bitpay.com</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>status</code>
        <div class="param-info">Payout batch status, the possible values are:
          <p>
            <ul>
              <li><code>"new"</code> - initial status when the batch is created</li>
              <li><code>"funded"</code> - if there are enough funds available on the merchant account, the batches are set to funded. This happens at the daily cutoff time for payout processing, e.g. 2pm and 9pm UTC</li>
              <li><code>"complete"</code> - when the payout batches has been executed and the bitcoin sent to each recipient included in the batch</li>
              <li><code>"cancelled"</code> - when the merchant cancels a batch (only possible for batches in the status <code>"new"</code> or <code>"funded"</code>)</li>
            </ul>
          </p>
      </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>amount</code>
        <div class="param-info">The total amount of the batch in fiat currency. This amount must equal the sum of the instruction's amounts</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>percentFee</code>
        <div class="param-info">The rate in % as a transaction fee associated to the merchant account</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>fee</code>
        <div class="param-info">The fee amount for the batch</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>depositTotal</code>
        <div class="param-info">The total amount which will be debited from the merchant balance once the payout is executed (including the fee)</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>btc</code>
        <div class="param-info">The total amount of btc that was sent for the batch once the batch is processed</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>currency</code>
        <div class="param-info">Currency code set for the batch amount (ISO 4217 3-character currency code). Supported currency codes for payout batches are EUR, USD, GBP, CAD, NZD, AUD, ZAR</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>requestDate</code>
        <div class="param-info">Date and time (UTC) when BitPay received the batch. ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>effectiveDate</code>
        <div class="param-info">Effective date and time (UTC) for the batch. ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code> - Note that the time of day will automatically be set to 09:00:00.000 UTC time if only the day is specified (<code>yyyy-mm-dd</code>)</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>notificationURL</code>
        <div class="param-info">URL to which BitPay sends webhook notifications. HTTPS is mandatory.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>notificationEmail</code>
        <div class="param-info">Merchant email address for notification of payout status change.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>instructions</code>
        <div class="param-info">This is an array containing the detailed payout instruction objects. This array can contain a maximum of 200 instructions.</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>id</code>
        <div class="param-info">Resource id for the instruction</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>amount</code>
        <div class="param-info">amount to be sent to the customer bitcoin address. The minimum amount per instruction is $1 USD equivalent</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>btc</code>
        <div class="param-info">Initially empty, it will contain the amount of bitcoin sent to the consumer once the payout batch status is set to <code>complete</code></div>
      </td>
      <td>
        <code>object</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>unpaid</code>
        <div class="param-info">Initially set to <code>null</code>, will be set to <code>0</code> once the payout batch status is set to <code>complete</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>paid</code>
        <div class="param-info">Initially set to <code>0</code>, will contain the amount of BTC paid to the consumer once the payout batch status is set to <code>complete</code></div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>address</code>
        <div class="param-info">Bitcoin address provided by the consumer through his personal BitPay dashboard.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>email</code>
        <div class="param-info"><p>Email address of an active recipient.</p><p>Note: In the future, BitPay may allow Recipients to update the email address tied to their personal account. BitPay encourages the use of <code>recipientId</code> or <code>shopperId</code> when programatically creating payouts requests.</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>recipientId</code>
        <div class="param-info">BitPay recipient id, assigned by BitPay for a given recipient email during the onboarding process (invite recipients)</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>shopperId</code>
        <div class="param-info">
          <p>This is the unique  id assigned by BitPay if a customer signed up for a BitPay personal account and was signed in with this account before paying an invoice generated by the merchant. If not, this id will only be created once the customer becomes a <code>"verified"</code> recipient as part of the payout onboarding.</p>
          <p>The same field would also be available on paid invoices if the customer signed in with his BitPay personal account before completing the payment. This can allow merchants to monitor the activity of a customer (deposits & payouts).</p></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>label</code>
        <div class="param-info">For merchant use, pass through - can be the customer name or unique merchant reference assigned by the merchant to to the recipient.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>transactions</code>
        <div class="param-info">Contains the bitcoin transaction details for the executed payout instruction</div>
      </td>
      <td>
        <code>array</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>txid</code>
        <div class="param-info">Bitcoin transaction hash for the executed payout.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>amount</code>
        <div class="param-info">amount of BTC sent to the requested address.</div>
      </td>
      <td>
        <code>number</code>
      </td>
    </tr>
    <tr>
      <td class="childchildchild">
        <code>date</code>
        <div class="param-info">Date and time (UTC) when the bitcoin transaction is broadcasted. ISO-8601 format <code>yyyy-mm-ddThh:mm:ssZ</code>.</div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="childchild">
        <code>status</code>
        <div class="param-info">set to <code>"unpaid"</code> when you create the payout request. Will be set to <code>"paid"</code> once the payout batch is processed by BitPay (main batch status set to <code>"complete"</code></div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
    <tr>
      <td class="child">
        <code>token</code>
        <div class="param-info">API token for the corresponding payouts resource. This token is actually derived from the API token used to submit the payout request and is tied to the specific resource id created. </div>
      </td>
      <td>
        <code>string</code>
      </td>
    </tr>
  </tbody>
</table>
<h6 id='notifications-webhooks-instant-payment-notifications-payouts-ipn-format-webhook-notification-codes'>Webhook Notification Codes</h6>
<p>Codes for payout events with webhook notifications</p>

<table class="table">
  <tbody>
    <tr>
      <th>BitPay code</th>
      <th>Name</th>
      <th>Purpose</th>
    </tr>
    <tr>
      <td>2001</td>
      <td><code>"payoutRequest_funded"</code></td>
      <td>To notify a merchant that a payout batch has been set to the status <code>funded</code></td>
    </tr>
    <tr>
      <td>2002</td>
      <td><code>"payoutRequest_completed"</code></td>
      <td>To notify a merchant that a payout batch has been set to the status <code>complete</code></td>
    </tr>
    <tr>
      <td>2003</td>
      <td><code>"payoutRequest_cancelled"</code></td>
      <td>To notify a merchant that a payout batch has been set to the status <code>cancelled</code></td>
    </tr>
  </tbody>
</table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="java">Java</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="javascript">Node.js</a>
                <a href="#" data-language-name="go">Go</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="ruby">Ruby</a>
          </div>
      </div>
    </div>
  </body>

<!-- Mirrored from bitpay.com/api/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jan 2022 14:06:39 GMT -->
</html>
