<!-- used by pages--><!DOCTYPE html><html lang="en" ng-csp>
<!-- Mirrored from bitpay.com/docs/display-invoice by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jan 2022 14:06:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Displaying Invoices | BitPay Documentation</title><meta name="description" content="Start accepting bitcoin, store and spend bitcoin securely, or get the BitPay Card."><!-- Twitter Card data--><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@BitPay"><meta name="twitter:title" content="BitPay"><meta name="twitter:description" content="Start accepting bitcoin, store and spend bitcoin securely, or get the BitPay Card."><meta name="twitter:image" content="../images/social/bitpay-hero-og.jpg"><!-- Open Graph data (Facebook and Reddit)--><meta property="og:title" content="BitPay"><meta property="og:type" content="article"><meta property="og:url" content="../index.html"><meta property="og:image" content="../images/social/bitpay-hero-og.jpg"><meta property="og:description" content="Start accepting bitcoin, store and spend bitcoin securely, or get the BitPay Card."><meta property="og:site_name" content="BitPay"><!-- Add to homescreen for Chrome on Android--><meta name="mobile-web-app-capable" content="yes"><link rel="icon" sizes="192x192" href="../images/touch/android-chrome-192x192.61659022.png"><!-- Add to homescreen for Safari on iOS--><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="BitPay Website"><link rel="apple-touch-icon" sizes="144x144" href="../images/touch/apple-touch-icon-144x144.6f64a26e.png"><link rel="apple-touch-icon" sizes="152x152" href="../images/touch/apple-touch-icon-152x152.b17759e7.png"><link rel="apple-touch-icon" sizes="180x180" href="../images/touch/apple-touch-icon-180x180.d02e843b.png"><!-- Tile icon for Windows--><meta name="msapplication-TileImage" content="../images/touch/mstile-144x144.c1e37852.png"><meta name="msapplication-square150x150logo" content="../images/touch/mstile-150x150.b17dbca0.png"><meta name="msapplication-wide310x150logo" content="../images/touch/mstile-310x150.20036d39.png"><meta name="msapplication-square310x310logo" content="../images/touch/mstile-310x310.815ff051.png"><meta name="msapplication-TileColor" content="#1D3E92"><meta name="theme-color" content="#1D3E92"><!-- Favicon--><link rel="shortcut icon" href="../favicon.ico"><noscript><script type="application/ld+json">{
  "@context" : "http://schema.org",
  "@type" : "Organization",
  "name" : "BitPay",
  "url" : "https://bitpay.com/",
  "logo" : "https://bitpay.com/images/bitpay-logo-inverse.png",
  "sameAs" : [
    "http://www.facebook.com/BitPayOfficial",
    "http://www.twitter.com/BitPay",
    "http://plus.google.com/b/103321420256995341273/+BitPay1/posts",
    "http://www.linkedin.com/company/bitpay-inc-?",
    "http://www.youtube.com/user/BitPayVideos",
    "http://angel.co/bitpay"
  ]
}
</script></noscript><meta name="google-site-verification" content="ERpG77x8sqtARiA_nXt5TPjY2fEdjDHocAoWEktHTTw"><link rel="stylesheet" href="../styles/main.d8eebd45.css" data-instant-track><link rel="stylesheet" href="../assets/banner-latest.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Heebo:300,400,500,700"></head><body class="white-header"><div data-offcanvas class="off-canvas-wrap container"><div class="inner-wrap"><div class="bp-wrap"><div class="sticky bg-blue"><nav data-topbar style="max-width: 90rem !important" class="row top-bar"><div style="display: inline-flex; align-items: center" class="column small-4"><a href="../index.html" style="position: relative; top: 1px;" aria-label="BitPay Homepage" class="bp-logo logo margin-top"><svg width="86" height="30"><title>BitPay</title><path d="M86.1,7.4h-4.4l-2.6,10.8l-0.4,1.5c-0.3,0.1-0.5,0.1-0.8,0.2C77.5,20,77.1,20,76.6,20c-0.6,0-1-0.1-1.4-0.3
	c-0.3-0.2-0.6-0.4-0.7-0.7c-0.1-0.3-0.2-0.7-0.2-1.1c0-0.4,0.1-0.9,0.2-1.3l1.4-5.6l0.9-3.7h-4.5L70.2,16c-0.3,1.1-0.4,2.1-0.4,2.9
	c0,1,0.1,1.8,0.4,2.5c0.3,0.7,0.9,1.3,1.7,1.7c0.8,0.4,1.9,0.6,3.2,0.6c1,0,1.9-0.1,2.6-0.3h0.1c-0.2,0.9-0.6,1.6-1.3,2.2
	c-0.7,0.6-1.6,0.9-2.8,0.9c-0.5,0-1.1,0-1.5-0.1l-0.9,3.6c0.6,0.1,1.3,0.1,2,0.1c1.4,0,2.6-0.2,3.5-0.5c1-0.3,1.9-0.8,2.7-1.4
	c0.7-0.6,1.4-1.4,1.9-2.4c0.5-1,0.9-2.1,1.2-3.3l3-12.9L86.1,7.4L86.1,7.4z M67.6,16.7c-0.3,1.1-0.4,2.3-0.3,3.4
	c0.1,1.2,0.6,2.8,1,3.7h-4.3c-0.5-0.9-0.5-1.3-0.6-1.6c-0.6,0.5-1.2,0.8-1.9,1.1c-0.7,0.3-1.4,0.5-2.3,0.5c-1,0-1.9-0.2-2.6-0.5
	c-0.7-0.3-1.3-0.8-1.8-1.4c-0.5-0.6-0.8-1.3-1-2.1c-0.2-0.8-0.3-1.6-0.3-2.6c0-1.4,0.3-2.7,0.7-3.8c0.5-1.2,1.2-2.3,2.1-3.1
	c0.9-0.9,2.9-2.9,6.4-2.9h6.9L67.6,16.7L67.6,16.7z M64.4,11.2c-2.1,0-2.5,0-3.3,0.4c-0.6,0.3-1.1,0.8-1.6,1.4
	c-0.4,0.5-0.8,1.2-1.1,1.9c-0.3,0.7-0.4,1.5-0.4,2.3c0,1,0.2,1.7,0.5,2.3c0.3,0.6,0.9,0.8,1.8,0.8c0.5,0,0.9-0.1,1.3-0.3
	c0.4-0.2,0.8-0.5,1.2-0.9c0-0.5,0.1-1,0.2-1.6c0.1-0.6,0.2-1.1,0.3-1.5L64.4,11.2 M52.5,13.9c0,1.5-0.3,2.8-0.7,4
	c-0.5,1.2-1.2,2.3-2,3.1c-0.9,0.9-1.9,1.6-3,2.1c-1.2,0.5-2.5,0.8-3.8,0.8c-0.7,0-1.4-0.1-2.1-0.2l-1.4,5.4h-4.4l5.1-21.6h5.9
	c1.1,0,2.1,0.2,2.8,0.5c0.8,0.3,1.5,0.8,2,1.4s0.9,1.3,1.2,2.1C52.4,12.2,52.5,13,52.5,13.9L52.5,13.9z M41.6,20
	c0.3,0.1,0.8,0.1,1.3,0.1c0.8,0,1.5-0.1,2.2-0.4c0.6-0.3,1.2-0.7,1.7-1.2c0.5-0.5,0.8-1.2,1.1-1.9s0.4-1.6,0.4-2.5s-0.2-1.6-0.6-2.2
	c-0.4-0.6-1.1-0.9-2-0.9h-1.8L41.6,20L41.6,20z M32.4,20c-0.6,0-1-0.1-1.4-0.3c-0.3-0.2-0.6-0.4-0.7-0.7c-0.1-0.3-0.2-0.7-0.2-1.1
	c0-0.4,0.1-0.9,0.2-1.3l1.4-5.6h5l0.9-3.7h-5.1l1.2-4.7L29,3.4L26,16.1c-0.3,1.1-0.4,2.1-0.4,2.9c0,1,0.1,1.8,0.4,2.5
	c0.3,0.7,0.9,1.3,1.7,1.7c0.8,0.4,1.9,0.6,3.2,0.6c1,0,1.9-0.1,2.6-0.3c0.1,0,0.2,0,0.3-0.1l0.9-3.8c-0.3,0.1-0.6,0.2-0.9,0.2
	C33.3,20,32.9,20,32.4,20L32.4,20z M21.1,7.4l-3.9,16.4h4.4l3.9-16.4H21.1z M25.9,5.5l0.7-2.8h-4.4l-0.7,2.8H25.9z M11.3,7.4
	c1,0,1.8,0.2,2.5,0.5s1.3,0.8,1.8,1.4c0.5,0.6,0.8,1.3,1,2.1c0.2,0.8,0.3,1.6,0.3,2.5c0,1.4-0.3,2.7-0.8,3.9
	c-0.5,1.2-1.2,2.3-2.1,3.2c-0.9,1-1.9,1.6-3.1,2.2c-1.2,0.5-2.5,0.8-3.8,0.8H6c-0.5,0-1,0-1.6-0.1c-0.6-0.1-1.2-0.2-1.9-0.4
	s-1.3-0.4-1.9-0.7L5.8,1.1l4.6-0.7L8.5,8.1c0.4-0.2,0.8-0.3,1.2-0.4C10.4,7.4,10.8,7.4,11.3,7.4L11.3,7.4z M7.3,20.2
	c0.7,0,1.4-0.2,2-0.5s1.2-0.8,1.6-1.4c0.5-0.6,0.8-1.2,1.1-1.9s0.4-1.5,0.4-2.3c0-1-0.2-1.7-0.5-2.3c-0.3-0.5-1-0.8-1.9-0.8
	c-0.3,0-0.6,0-1,0.1c-0.5,0.1-0.8,0.3-1.2,0.6l-2,8.2c0.6,0.1,0.8,0.1,0.9,0.1C6.9,20.2,7.1,20.2,7.3,20.2z"/></svg>
</a></div><div class="column small-3 hide-for-large-up margin-top override-show"><a href="javascript:;" aria-label="menu toggle" class="right-off-canvas-toggle menu-icon right"><span></span></a></div></nav><aside class="right-off-canvas-menu"></aside></div><div class="row padding-vertical medium-padding-bottom-most"><div class="column large-3 xlarge-3 hide-for-medium-down"><ul data-accordion="data-accordion" class="side-nav large-border-right-gray padding-right-less"><li class="uppercase h3">Documentation</li><li><a href="index.html" title="Home">Home</a></li><li><a href="getting-started.html" title="Getting Started">Getting Started</a></li><li><a href="settlement.html" title="Banking &amp; Settlements">Banking &amp; Settlements</a></li><li class="divider"></li><li class="uppercase h3">Development</li><li><a href="testing.html" title="Testing">Testing</a></li><li><a href="plugins.html" title="Plugins">Plugins</a></li><li><a href="libraries.html" title="Libraries">Libraries</a></li><li><a href="create-invoice.html" title="Creating Invoices">Creating Invoices</a></li><li><a href="checkout-page.html" title="Checkout Page">Checkout Page</a></li><li><a href="display-invoice.html" title="Displaying Invoices" class="active">Displaying Invoices</a></li><li><a href="invoice-webhooks.html" title="Invoice Webhooks">Invoice Webhooks</a></li><li><a href="invoice-states.html" title="Invoice States">Invoice States</a></li><li><a href="../api/index.html" title="API Reference">API Reference</a></li><li class="divider"></li><li class="uppercase h3">Use Cases</li><li><a href="ecommerce.html" title="Ecommerce">Ecommerce</a></li><li><a href="../retail/index.html" title="Retail">Retail</a></li><li><a href="../billing/index.html" title="Cross-Border Billing">Cross-Border Billing</a></li><li><a href="donations.html" title="Donations">Donations</a></li><li class="divider"></li><li class="uppercase h3">Resources</li><li><a href="https://support.bitpay.com/hc/en-us/articles/115003014726-What-is-bitcoin-" title="What is Bitcoin?">What is Bitcoin?</a></li><li><a href="https://support.bitpay.com/hc/en-us/articles/360042264212" title="How to Get Bitcoin">How to Get Bitcoin</a></li><li><a href="https://support.bitpay.com/hc/en-us/articles/360042265412" title="How to Secure Bitcoin">How to Secure Bitcoin</a></li><li><a href="https://support.bitpay.com/hc/en-us/articles/115005559826" title="How to Pay with Bitcoin">How to Pay with Bitcoin</a></li><li><a href="https://brand.bitpay.com/" title="Brand Guide">Brand Guide</a></li><li><a href="../exchange-rates/index.html" title="BitPay Exchange Rate">BitPay Exchange Rate</a></li><li class="divider"></li><li class="uppercase h3">Wallet Integrations</li><li><a href="payment-protocol.html" title="JSON Payment Protocol">JSON Payment Protocol</a></li><li class="divider"></li></ul></div><div class="column large-9 xlarge-9"><h1 class="header--bottom-border-left h2">Displaying Invoices</h1><p class="lead">Because cryptocurrency payments are push transactions, rather than using the traditional authorize and capture process (pull) as does a credit card, you must accomodate this in your checkout flow.</p><p>While a traditional checkout flow would collect credit card info and then present a “finalize order” page and subsequently charge the card, with cryptocurrencies no details need to be collected prior to confirmation. A click on “confirm order” should present a modal or blocking payment screen which will provide a BitPay invoice for payment, then proceed to confirmation once the payment is received.</p><h3>Redirect to BitPay</h3><p>The simplest integration is to simply redirect your customer to the BitPay site to complete payment, then return them to your site for order confirmation. In this case, you need only redirect your customer to the <code>url</code> returned in the JSON response from the <code>/invoices</code> endpoint.</p><p>The BitPay invoice uses responsive design to ensure that the user gets optimal presentation regardless of device form factor.</p><p>Be sure that you have also set the <code>redirectURL</code> when generating the invoice, which will ensure that the user gets redirected to the appropriate confirmation page following payment.</p><p>You should always validate that the invoice was paid by re-querying the BitPay API, or by manually validating that it appears in your account ledger, before completing the transaction.</p><h3>Modal Invoice</h3><p>BitPay allows you display the invoice within a modal on your web page, so the shopper never has to leave your site during the checkout process.</p><p>Here's a demo:</p><form action="https://bitpay.com/checkout?v3=true" method="post" target="bitpay" id="donate" data-bitpay-button><input name="action" type="hidden" value="checkout"><input name="price" type="hidden" value="10"><input name="currency" type="hidden" value="USD"><input name="data" type="hidden" value="2TU+LJnmLdAYMlXo0jbVtYcdw/CqWyP9iMiuK6p4NgQNh296cht99u0wVnanwpYk+rv5PtFF7ih8wCYJQm+9bC0ukUNL16BPiSoxP483EgAOH0pgLSNQlnTJBZRE8QfOl4flrmGPf3u0BKYmNUZ5zQj0I8LztoL76pofuxiIkOG80rbf9V8Kt0R0PM+RAph/Bpm+/DUrfvBLDJBJi61W47gDxZAG8a4f05eX56w//6jHJiqYQDbmdyumBkA27PIOen9e8LM1ZwnKUifl/g9usA=="><input name="submit" src="../cdn/en_US/bp-btn-donate.svg" type="image" alt="BitPay, pay with bitcoin." class="margin-bottom"></form><ol><li>To use the modal invoice, add <code>bitpay.min.js</code> to your web page:<pre class="margin-bottom margin-top">&lt;script src="https://bitpay.com/bitpay.min.js"&gt&lt;/script&gt;</pre></li><li>When you <a href="create-invoice.html">create an invoice</a> with a POST request to BitPay, BitPay returns the <code>id</code> of the invoice as part of the request response.</li><li>To display the newly created invoice within a modal, pass the invoice <code>id</code> into the <code>showInvoice</code> method provided by <code>bitpay.min.js</code>:<pre class="margin-bottom margin-top"><span>bitpay.showInvoice(id);</span></pre></li><li>The modal invoice will automatically update when payments have been received. In addition to the server IPN sent to your <code>notificationURL</code>, the modal will send a <a href="#post-to-parent-window">message to the parent window</a> that the status has changed.</li></ol><p>Additional methods provided by <code>bitpay.min.js</code> include:</p><ul><li><code>onModalWillEnter</code>: Allows you to specify a function to be called right before the modal opens.</li><li><code>onModalWillLeave</code>: Allows you to specify a function to be called when the user closes the modal.</li><li><code>enableTestMode</code>: Allows you to display invoices created via the <a href="https://test.bitpay.com/">test environment</a>.</li></ul><pre class="margin-bottom margin-top"><span>bitpay.onModalWillEnter(function() {<br><span>&nbsp;&nbsp;console.log('modal is opening');</span><br></span>});<br><br><span>bitpay.onModalWillLeave(function() {<br><span>&nbsp;&nbsp;console.log('modal is closing');</span><br></span>});<br><br><span>bitpay.enableTestMode();</span></pre><p><span>It is highly recommended that you include the email of the buyer as part of the <code>buyer{}</code> object when <a href="create-invoice.html">creating the invoice</a> via the BitPay API. The <code>email</code> parameter in the <code>buyer{}</code> object will be used by BitPay to contact the buyer in the case of an underpayment or overpayment in order to administer a refund. If you do not provide any <code>buyer{}</code> object, BitPay will prompt the user for an email address when the modal opens.</span></p><h3 id="post-to-parent-window">Post to Parent Window</h3><p>When an invoice is presented using the modal you have an option to receive invoice status updates in the parent window. This option is useful for updating the parent window presentation or redirecting the parent window to another URL after the invoice has been paid.</p><p>When the modal invoice receives a status update from the BitPay server the new status is posted from the modal to the parent window via the Window.postMessage method and passing <code>{status: string}</code> where <code>status</code> can be any of the <a href="invoice-states.html">Invoice States</a> according to the descriptions provided.</p><p>Your implementation should take into consideration the browser support for this method. See <a href="http://caniuse.com/#feat=x-doc-messaging">CanIUse</a> for a list of browsers supporting <code>Window.postMessage</code>.</p><p>Following is an HTML code example illustrating a simple interaction between a modal invoice and its parent document.</p><pre class="margin-bottom">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Parent&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script language="javascript"&gt;
      var is_paid = false
      window.addEventListener("message", function (event) {
        payment_status = event.data.status;
        if (payment_status == "paid") {
          is_paid = true
          //take action PAID
          return;
        }
      }, false);
      //show the order info
      bitpay.onModalWillLeave(function () {
        if (is_paid == false) {
          //take action, NOT PAID
          } //endif
      });
      //show the modal
      if(env == 'test'){
        bitpay.enableTestMode()
      }
      bitpay.showInvoice(&lt;invoice id goes here&gt;)
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre><a href="invoice-webhooks.html" class="btn btn-blue-border uppercase bold arrow-blue margin-top">Instant Payment Notifications (IPNs)</a><script src="../bitpay.min.js"></script></div><div class="column large-3 xlarge-3 show-for-medium-down"><ul data-accordion class="side-nav large-border-right-gray padding-right-less accordion"><li class="accordion-navigation"><a href="#documentation" class="accordion-item uppercase arrow-blue">Documentation</a><ul id="documentation" class="content accordion-content"><li><a href="index.html" title="Home">Home</a></li><li><a href="getting-started.html" title="Getting Started">Getting Started</a></li><li><a href="settlement.html" title="Banking &amp; Settlements">Banking &amp; Settlements</a></li></ul></li><li class="divider-mobile"></li><li class="accordion-navigation"><a href="#development" class="accordion-item uppercase arrow-blue">Development</a><ul id="development" class="content accordion-content"><li><a href="testing.html" title="Testing">Testing</a></li><li><a href="plugins.html" title="Plugins">Plugins</a></li><li><a href="libraries.html" title="Libraries">Libraries</a></li><li><a href="create-invoice.html" title="Creating Invoices">Creating Invoices</a></li><li><a href="checkout-page.html" title="Checkout Page">Checkout Page</a></li><li><a href="display-invoice.html" title="Displaying Invoices" class="active">Displaying Invoices</a></li><li><a href="invoice-webhooks.html" title="Invoice Webhooks">Invoice Webhooks</a></li><li><a href="invoice-states.html" title="Invoice States">Invoice States</a></li><li><a href="../api/index.html" title="API Reference">API Reference</a></li></ul></li><li class="divider-mobile"></li><li class="accordion-navigation"><a href="#use-cases" class="accordion-item uppercase arrow-blue">Use Cases</a><ul id="use-cases" class="content accordion-content"><li><a href="ecommerce.html" title="Ecommerce">Ecommerce</a></li><li><a href="../retail/index.html" title="Retail">Retail</a></li><li><a href="../billing/index.html" title="Cross-Border Billing">Cross-Border Billing</a></li><li><a href="donations.html" title="Donations">Donations</a></li></ul></li><li class="divider-mobile"></li><li class="accordion-navigation"><a href="#resources" class="accordion-item uppercase arrow-blue">Resources</a><ul id="resources" class="content accordion-content"><li><a href="https://support.bitpay.com/hc/en-us/articles/115003014726-What-is-bitcoin-" title="What is Bitcoin?">What is Bitcoin?</a></li><li><a href="https://support.bitpay.com/hc/en-us/articles/360042264212" title="How to Get Bitcoin">How to Get Bitcoin</a></li><li><a href="https://support.bitpay.com/hc/en-us/articles/360042265412" title="How to Secure Bitcoin">How to Secure Bitcoin</a></li><li><a href="https://support.bitpay.com/hc/en-us/articles/115005559826" title="How to Pay with Bitcoin">How to Pay with Bitcoin</a></li><li><a href="https://brand.bitpay.com/" title="Brand Guide">Brand Guide</a></li><li><a href="../exchange-rates/index.html" title="BitPay Exchange Rate">BitPay Exchange Rate</a></li></ul></li><li class="divider-mobile"></li><li class="accordion-navigation"><a href="#wallet-integrations" class="accordion-item uppercase arrow-blue">Wallet Integrations</a><ul id="wallet-integrations" class="content accordion-content"><li><a href="payment-protocol.html" title="JSON Payment Protocol">JSON Payment Protocol</a></li></ul></li><li class="divider-mobile"></li></ul></div></div></div><a class="exit-off-canvas"></a></div></div></body><script src="../scripts/main.min.16707520.js" data-no-instant="data-no-instant"></script><script src="../track/banner.min.js"></script>
<!-- Mirrored from bitpay.com/docs/display-invoice by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jan 2022 14:06:28 GMT -->
</html>